var pM=Object.create;var dg=Object.defineProperty,gM=Object.defineProperties,mM=Object.getOwnPropertyDescriptor,vM=Object.getOwnPropertyDescriptors,yM=Object.getOwnPropertyNames,ll=Object.getOwnPropertySymbols,BI=Object.getPrototypeOf,hg=Object.prototype.hasOwnProperty,VI=Object.prototype.propertyIsEnumerable,_M=Reflect.get;var LI=(t,e,n)=>e in t?dg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K=(t,e)=>{for(var n in e||={})hg.call(e,n)&&LI(t,n,e[n]);if(ll)for(var n of ll(e))VI.call(e,n)&&LI(t,n,e[n]);return t},Qe=(t,e)=>gM(t,vM(e));var UI=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var jH=(t,e)=>{var n={};for(var r in t)hg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ll)for(var r of ll(t))e.indexOf(r)<0&&VI.call(t,r)&&(n[r]=t[r]);return n};var Ie=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var EM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yM(e))!hg.call(t,i)&&i!==n&&dg(t,i,{get:()=>e[i],enumerable:!(r=mM(e,i))||r.enumerable});return t};var wM=(t,e,n)=>(n=t!=null?pM(BI(t)):{},EM(e||!t||!t.__esModule?dg(n,"default",{value:t,enumerable:!0}):n,t));var ti=(t,e,n)=>_M(BI(t),n,e);var R=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var rN=Ie(()=>{"use strict"});var Te=Ie((lp,iN)=>{"use strict";(function(t,e){typeof lp=="object"?iN.exports=lp=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(lp,function(){var t=t||function(e,n){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof global<"u"&&global.crypto&&(r=global.crypto),!r&&typeof UI=="function")try{r=rN()}catch{}var i=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function y(){}return function(x){var N;return y.prototype=x,N=new y,y.prototype=null,N}}(),o={},a=o.lib={},c=a.Base=function(){return{extend:function(y){var x=s(this);return y&&x.mixIn(y),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var x in y)y.hasOwnProperty(x)&&(this[x]=y[x]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=a.WordArray=c.extend({init:function(y,x){y=this.words=y||[],x!=n?this.sigBytes=x:this.sigBytes=y.length*4},toString:function(y){return(y||h).stringify(this)},concat:function(y){var x=this.words,N=y.words,P=this.sigBytes,O=y.sigBytes;if(this.clamp(),P%4)for(var M=0;M<O;M++){var T=N[M>>>2]>>>24-M%4*8&255;x[P+M>>>2]|=T<<24-(P+M)%4*8}else for(var _=0;_<O;_+=4)x[P+_>>>2]=N[_>>>2];return this.sigBytes+=O,this},clamp:function(){var y=this.words,x=this.sigBytes;y[x>>>2]&=4294967295<<32-x%4*8,y.length=e.ceil(x/4)},clone:function(){var y=c.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var x=[],N=0;N<y;N+=4)x.push(i());return new l.init(x,y)}}),d=o.enc={},h=d.Hex={stringify:function(y){for(var x=y.words,N=y.sigBytes,P=[],O=0;O<N;O++){var M=x[O>>>2]>>>24-O%4*8&255;P.push((M>>>4).toString(16)),P.push((M&15).toString(16))}return P.join("")},parse:function(y){for(var x=y.length,N=[],P=0;P<x;P+=2)N[P>>>3]|=parseInt(y.substr(P,2),16)<<24-P%8*4;return new l.init(N,x/2)}},p=d.Latin1={stringify:function(y){for(var x=y.words,N=y.sigBytes,P=[],O=0;O<N;O++){var M=x[O>>>2]>>>24-O%4*8&255;P.push(String.fromCharCode(M))}return P.join("")},parse:function(y){for(var x=y.length,N=[],P=0;P<x;P++)N[P>>>2]|=(y.charCodeAt(P)&255)<<24-P%4*8;return new l.init(N,x)}},m=d.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},v=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var x,N=this._data,P=N.words,O=N.sigBytes,M=this.blockSize,T=M*4,_=O/T;y?_=e.ceil(_):_=e.max((_|0)-this._minBufferSize,0);var w=_*M,A=e.min(w*4,O);if(w){for(var I=0;I<w;I+=M)this._doProcessBlock(P,I);x=P.splice(0,w),N.sigBytes-=A}return new l.init(x,A)},clone:function(){var y=c.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),b=a.Hasher=v.extend({cfg:c.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var x=this._doFinalize();return x},blockSize:512/32,_createHelper:function(y){return function(x,N){return new y.init(N).finalize(x)}},_createHmacHelper:function(y){return function(x,N){return new D.HMAC.init(y,N).finalize(x)}}}),D=o.algo={};return o}(Math);return t})});var Mu=Ie((dp,sN)=>{"use strict";(function(t,e){typeof dp=="object"?sN.exports=dp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(dp,function(t){return function(e){var n=t,r=n.lib,i=r.Base,s=r.WordArray,o=n.x64={},a=o.Word=i.extend({init:function(l,d){this.high=l,this.low=d}}),c=o.WordArray=i.extend({init:function(l,d){l=this.words=l||[],d!=e?this.sigBytes=d:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,d=l.length,h=[],p=0;p<d;p++){var m=l[p];h.push(m.high),h.push(m.low)}return s.create(h,this.sigBytes)},clone:function(){for(var l=i.clone.call(this),d=l.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return l}})}(),t})});var aN=Ie((hp,oN)=>{"use strict";(function(t,e){typeof hp=="object"?oN.exports=hp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(hp,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,n=e.lib,r=n.WordArray,i=r.init,s=r.init=function(o){if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),(o instanceof Int8Array||typeof Uint8ClampedArray<"u"&&o instanceof Uint8ClampedArray||o instanceof Int16Array||o instanceof Uint16Array||o instanceof Int32Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array)&&(o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength)),o instanceof Uint8Array){for(var a=o.byteLength,c=[],l=0;l<a;l++)c[l>>>2]|=o[l]<<24-l%4*8;i.call(this,c,a)}else i.apply(this,arguments)};s.prototype=r}}(),t.lib.WordArray})});var uN=Ie((fp,cN)=>{"use strict";(function(t,e){typeof fp=="object"?cN.exports=fp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(fp,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc,s=i.Utf16=i.Utf16BE={stringify:function(a){for(var c=a.words,l=a.sigBytes,d=[],h=0;h<l;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(p))}return d.join("")},parse:function(a){for(var c=a.length,l=[],d=0;d<c;d++)l[d>>>1]|=a.charCodeAt(d)<<16-d%2*16;return r.create(l,c*2)}};i.Utf16LE={stringify:function(a){for(var c=a.words,l=a.sigBytes,d=[],h=0;h<l;h+=2){var p=o(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(p))}return d.join("")},parse:function(a){for(var c=a.length,l=[],d=0;d<c;d++)l[d>>>1]|=o(a.charCodeAt(d)<<16-d%2*16);return r.create(l,c*2)}};function o(a){return a<<8&4278255360|a>>>8&16711935}}(),t.enc.Utf16})});var $i=Ie((pp,lN)=>{"use strict";(function(t,e){typeof pp=="object"?lN.exports=pp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(pp,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc,s=i.Base64={stringify:function(a){var c=a.words,l=a.sigBytes,d=this._map;a.clamp();for(var h=[],p=0;p<l;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,b=c[p+2>>>2]>>>24-(p+2)%4*8&255,D=m<<16|v<<8|b,y=0;y<4&&p+y*.75<l;y++)h.push(d.charAt(D>>>6*(3-y)&63));var x=d.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(a){var c=a.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<l.length;h++)d[l.charCodeAt(h)]=h}var p=l.charAt(64);if(p){var m=a.indexOf(p);m!==-1&&(c=m)}return o(a,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(a,c,l){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=l[a.charCodeAt(p-1)]<<p%4*2,v=l[a.charCodeAt(p)]>>>6-p%4*2,b=m|v;d[h>>>2]|=b<<24-h%4*8,h++}return r.create(d,h)}}(),t.enc.Base64})});var hN=Ie((gp,dN)=>{"use strict";(function(t,e){typeof gp=="object"?dN.exports=gp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(gp,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc,s=i.Base64url={stringify:function(a,c){c===void 0&&(c=!0);var l=a.words,d=a.sigBytes,h=c?this._safe_map:this._map;a.clamp();for(var p=[],m=0;m<d;m+=3)for(var v=l[m>>>2]>>>24-m%4*8&255,b=l[m+1>>>2]>>>24-(m+1)%4*8&255,D=l[m+2>>>2]>>>24-(m+2)%4*8&255,y=v<<16|b<<8|D,x=0;x<4&&m+x*.75<d;x++)p.push(h.charAt(y>>>6*(3-x)&63));var N=h.charAt(64);if(N)for(;p.length%4;)p.push(N);return p.join("")},parse:function(a,c){c===void 0&&(c=!0);var l=a.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var m=d.charAt(64);if(m){var v=a.indexOf(m);v!==-1&&(l=v)}return o(a,l,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(a,c,l){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=l[a.charCodeAt(p-1)]<<p%4*2,v=l[a.charCodeAt(p)]>>>6-p%4*2,b=m|v;d[h>>>2]|=b<<24-h%4*8,h++}return r.create(d,h)}}(),t.enc.Base64url})});var Hi=Ie((mp,fN)=>{"use strict";(function(t,e){typeof mp=="object"?fN.exports=mp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(mp,function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,a=[];(function(){for(var m=0;m<64;m++)a[m]=e.abs(e.sin(m+1))*4294967296|0})();var c=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,v){for(var b=0;b<16;b++){var D=v+b,y=m[D];m[D]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var x=this._hash.words,N=m[v+0],P=m[v+1],O=m[v+2],M=m[v+3],T=m[v+4],_=m[v+5],w=m[v+6],A=m[v+7],I=m[v+8],S=m[v+9],C=m[v+10],U=m[v+11],ee=m[v+12],J=m[v+13],ce=m[v+14],ge=m[v+15],L=x[0],j=x[1],$=x[2],V=x[3];L=l(L,j,$,V,N,7,a[0]),V=l(V,L,j,$,P,12,a[1]),$=l($,V,L,j,O,17,a[2]),j=l(j,$,V,L,M,22,a[3]),L=l(L,j,$,V,T,7,a[4]),V=l(V,L,j,$,_,12,a[5]),$=l($,V,L,j,w,17,a[6]),j=l(j,$,V,L,A,22,a[7]),L=l(L,j,$,V,I,7,a[8]),V=l(V,L,j,$,S,12,a[9]),$=l($,V,L,j,C,17,a[10]),j=l(j,$,V,L,U,22,a[11]),L=l(L,j,$,V,ee,7,a[12]),V=l(V,L,j,$,J,12,a[13]),$=l($,V,L,j,ce,17,a[14]),j=l(j,$,V,L,ge,22,a[15]),L=d(L,j,$,V,P,5,a[16]),V=d(V,L,j,$,w,9,a[17]),$=d($,V,L,j,U,14,a[18]),j=d(j,$,V,L,N,20,a[19]),L=d(L,j,$,V,_,5,a[20]),V=d(V,L,j,$,C,9,a[21]),$=d($,V,L,j,ge,14,a[22]),j=d(j,$,V,L,T,20,a[23]),L=d(L,j,$,V,S,5,a[24]),V=d(V,L,j,$,ce,9,a[25]),$=d($,V,L,j,M,14,a[26]),j=d(j,$,V,L,I,20,a[27]),L=d(L,j,$,V,J,5,a[28]),V=d(V,L,j,$,O,9,a[29]),$=d($,V,L,j,A,14,a[30]),j=d(j,$,V,L,ee,20,a[31]),L=h(L,j,$,V,_,4,a[32]),V=h(V,L,j,$,I,11,a[33]),$=h($,V,L,j,U,16,a[34]),j=h(j,$,V,L,ce,23,a[35]),L=h(L,j,$,V,P,4,a[36]),V=h(V,L,j,$,T,11,a[37]),$=h($,V,L,j,A,16,a[38]),j=h(j,$,V,L,C,23,a[39]),L=h(L,j,$,V,J,4,a[40]),V=h(V,L,j,$,N,11,a[41]),$=h($,V,L,j,M,16,a[42]),j=h(j,$,V,L,w,23,a[43]),L=h(L,j,$,V,S,4,a[44]),V=h(V,L,j,$,ee,11,a[45]),$=h($,V,L,j,ge,16,a[46]),j=h(j,$,V,L,O,23,a[47]),L=p(L,j,$,V,N,6,a[48]),V=p(V,L,j,$,A,10,a[49]),$=p($,V,L,j,ce,15,a[50]),j=p(j,$,V,L,_,21,a[51]),L=p(L,j,$,V,ee,6,a[52]),V=p(V,L,j,$,M,10,a[53]),$=p($,V,L,j,C,15,a[54]),j=p(j,$,V,L,P,21,a[55]),L=p(L,j,$,V,I,6,a[56]),V=p(V,L,j,$,ge,10,a[57]),$=p($,V,L,j,w,15,a[58]),j=p(j,$,V,L,J,21,a[59]),L=p(L,j,$,V,T,6,a[60]),V=p(V,L,j,$,U,10,a[61]),$=p($,V,L,j,O,15,a[62]),j=p(j,$,V,L,S,21,a[63]),x[0]=x[0]+L|0,x[1]=x[1]+j|0,x[2]=x[2]+$|0,x[3]=x[3]+V|0},_doFinalize:function(){var m=this._data,v=m.words,b=this._nDataBytes*8,D=m.sigBytes*8;v[D>>>5]|=128<<24-D%32;var y=e.floor(b/4294967296),x=b;v[(D+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v[(D+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m.sigBytes=(v.length+1)*4,this._process();for(var N=this._hash,P=N.words,O=0;O<4;O++){var M=P[O];P[O]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return N},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m}});function l(m,v,b,D,y,x,N){var P=m+(v&b|~v&D)+y+N;return(P<<x|P>>>32-x)+v}function d(m,v,b,D,y,x,N){var P=m+(v&D|b&~D)+y+N;return(P<<x|P>>>32-x)+v}function h(m,v,b,D,y,x,N){var P=m+(v^b^D)+y+N;return(P<<x|P>>>32-x)+v}function p(m,v,b,D,y,x,N){var P=m+(b^(v|~D))+y+N;return(P<<x|P>>>32-x)+v}n.MD5=s._createHelper(c),n.HmacMD5=s._createHmacHelper(c)}(Math),t.MD5})});var Mw=Ie((vp,pN)=>{"use strict";(function(t,e){typeof vp=="object"?pN.exports=vp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(vp,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.Hasher,s=e.algo,o=[],a=s.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,l){for(var d=this._hash.words,h=d[0],p=d[1],m=d[2],v=d[3],b=d[4],D=0;D<80;D++){if(D<16)o[D]=c[l+D]|0;else{var y=o[D-3]^o[D-8]^o[D-14]^o[D-16];o[D]=y<<1|y>>>31}var x=(h<<5|h>>>27)+b+o[D];D<20?x+=(p&m|~p&v)+1518500249:D<40?x+=(p^m^v)+1859775393:D<60?x+=(p&m|p&v|m&v)-1894007588:x+=(p^m^v)-899497514,b=v,v=m,m=p<<30|p>>>2,p=h,h=x}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+v|0,d[4]=d[4]+b|0},_doFinalize:function(){var c=this._data,l=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return l[h>>>5]|=128<<24-h%32,l[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),l[(h+64>>>9<<4)+15]=d,c.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c}});e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a)}(),t.SHA1})});var _p=Ie((yp,gN)=>{"use strict";(function(t,e){typeof yp=="object"?gN.exports=yp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(yp,function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,a=[],c=[];(function(){function h(b){for(var D=e.sqrt(b),y=2;y<=D;y++)if(!(b%y))return!1;return!0}function p(b){return(b-(b|0))*4294967296|0}for(var m=2,v=0;v<64;)h(m)&&(v<8&&(a[v]=p(e.pow(m,1/2))),c[v]=p(e.pow(m,1/3)),v++),m++})();var l=[],d=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,v=m[0],b=m[1],D=m[2],y=m[3],x=m[4],N=m[5],P=m[6],O=m[7],M=0;M<64;M++){if(M<16)l[M]=h[p+M]|0;else{var T=l[M-15],_=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,w=l[M-2],A=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;l[M]=_+l[M-7]+A+l[M-16]}var I=x&N^~x&P,S=v&b^v&D^b&D,C=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),U=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),ee=O+U+I+c[M]+l[M],J=C+S;O=P,P=N,N=x,x=y+ee|0,y=D,D=b,b=v,v=ee+J|0}m[0]=m[0]+v|0,m[1]=m[1]+b|0,m[2]=m[2]+D|0,m[3]=m[3]+y|0,m[4]=m[4]+x|0,m[5]=m[5]+N|0,m[6]=m[6]+P|0,m[7]=m[7]+O|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,v=h.sigBytes*8;return p[v>>>5]|=128<<24-v%32,p[(v+64>>>9<<4)+14]=e.floor(m/4294967296),p[(v+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h}});n.SHA256=s._createHelper(d),n.HmacSHA256=s._createHmacHelper(d)}(Math),t.SHA256})});var vN=Ie((Ep,mN)=>{"use strict";(function(t,e,n){typeof Ep=="object"?mN.exports=Ep=e(Te(),_p()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(Ep,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.algo,s=i.SHA256,o=i.SHA224=s.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=s._doFinalize.call(this);return a.sigBytes-=4,a}});e.SHA224=s._createHelper(o),e.HmacSHA224=s._createHmacHelper(o)}(),t.SHA224})});var kw=Ie((wp,yN)=>{"use strict";(function(t,e,n){typeof wp=="object"?yN.exports=wp=e(Te(),Mu()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(wp,function(t){return function(){var e=t,n=e.lib,r=n.Hasher,i=e.x64,s=i.Word,o=i.WordArray,a=e.algo;function c(){return s.create.apply(s,arguments)}var l=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=c()})();var h=a.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var v=this._hash.words,b=v[0],D=v[1],y=v[2],x=v[3],N=v[4],P=v[5],O=v[6],M=v[7],T=b.high,_=b.low,w=D.high,A=D.low,I=y.high,S=y.low,C=x.high,U=x.low,ee=N.high,J=N.low,ce=P.high,ge=P.low,L=O.high,j=O.low,$=M.high,V=M.low,me=T,Oe=_,at=w,_e=A,wn=I,zr=S,Oa=C,Ln=U,Rt=ee,xt=J,Gr=ce,hr=ge,Wr=L,Kr=j,Xs=$,zi=V,Jt=0;Jt<80;Jt++){var Ut,pn,Gi=d[Jt];if(Jt<16)pn=Gi.high=p[m+Jt*2]|0,Ut=Gi.low=p[m+Jt*2+1]|0;else{var $u=d[Jt-15],Bn=$u.high,fr=$u.low,Fa=(Bn>>>1|fr<<31)^(Bn>>>8|fr<<24)^Bn>>>7,ft=(fr>>>1|Bn<<31)^(fr>>>8|Bn<<24)^(fr>>>7|Bn<<25),mt=d[Jt-2],In=mt.high,Qr=mt.low,Hu=(In>>>19|Qr<<13)^(In<<3|Qr>>>29)^In>>>6,qu=(Qr>>>19|In<<13)^(Qr<<3|In>>>29)^(Qr>>>6|In<<26),Yr=d[Jt-7],zu=Yr.high,Gu=Yr.low,Zs=d[Jt-16],Xp=Zs.high,Wu=Zs.low;Ut=ft+Gu,pn=Fa+zu+(Ut>>>0<ft>>>0?1:0),Ut=Ut+qu,pn=pn+Hu+(Ut>>>0<qu>>>0?1:0),Ut=Ut+Wu,pn=pn+Xp+(Ut>>>0<Wu>>>0?1:0),Gi.high=pn,Gi.low=Ut}var La=Rt&Gr^~Rt&Wr,Ba=xt&hr^~xt&Kr,Ku=me&at^me&wn^at&wn,Wi=Oe&_e^Oe&zr^_e&zr,Va=(me>>>28|Oe<<4)^(me<<30|Oe>>>2)^(me<<25|Oe>>>7),eo=(Oe>>>28|me<<4)^(Oe<<30|me>>>2)^(Oe<<25|me>>>7),pr=(Rt>>>14|xt<<18)^(Rt>>>18|xt<<14)^(Rt<<23|xt>>>9),Qu=(xt>>>14|Rt<<18)^(xt>>>18|Rt<<14)^(xt<<23|Rt>>>9),Ki=l[Jt],Yu=Ki.high,Jr=Ki.low,Nt=zi+Qu,$e=Xs+pr+(Nt>>>0<zi>>>0?1:0),Nt=Nt+Ba,$e=$e+La+(Nt>>>0<Ba>>>0?1:0),Nt=Nt+Jr,$e=$e+Yu+(Nt>>>0<Jr>>>0?1:0),Nt=Nt+Ut,$e=$e+pn+(Nt>>>0<Ut>>>0?1:0),Ua=eo+Wi,Qi=Va+Ku+(Ua>>>0<eo>>>0?1:0);Xs=Wr,zi=Kr,Wr=Gr,Kr=hr,Gr=Rt,hr=xt,xt=Ln+Nt|0,Rt=Oa+$e+(xt>>>0<Ln>>>0?1:0)|0,Oa=wn,Ln=zr,wn=at,zr=_e,at=me,_e=Oe,Oe=Nt+Ua|0,me=$e+Qi+(Oe>>>0<Nt>>>0?1:0)|0}_=b.low=_+Oe,b.high=T+me+(_>>>0<Oe>>>0?1:0),A=D.low=A+_e,D.high=w+at+(A>>>0<_e>>>0?1:0),S=y.low=S+zr,y.high=I+wn+(S>>>0<zr>>>0?1:0),U=x.low=U+Ln,x.high=C+Oa+(U>>>0<Ln>>>0?1:0),J=N.low=J+xt,N.high=ee+Rt+(J>>>0<xt>>>0?1:0),ge=P.low=ge+hr,P.high=ce+Gr+(ge>>>0<hr>>>0?1:0),j=O.low=j+Kr,O.high=L+Wr+(j>>>0<Kr>>>0?1:0),V=M.low=V+zi,M.high=$+Xs+(V>>>0<zi>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,v=this._nDataBytes*8,b=p.sigBytes*8;m[b>>>5]|=128<<24-b%32,m[(b+128>>>10<<5)+30]=Math.floor(v/4294967296),m[(b+128>>>10<<5)+31]=v,p.sigBytes=m.length*4,this._process();var D=this._hash.toX32();return D},clone:function(){var p=r.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});e.SHA512=r._createHelper(h),e.HmacSHA512=r._createHmacHelper(h)}(),t.SHA512})});var EN=Ie((Ip,_N)=>{"use strict";(function(t,e,n){typeof Ip=="object"?_N.exports=Ip=e(Te(),Mu(),kw()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(Ip,function(t){return function(){var e=t,n=e.x64,r=n.Word,i=n.WordArray,s=e.algo,o=s.SHA512,a=s.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=16,c}});e.SHA384=o._createHelper(a),e.HmacSHA384=o._createHmacHelper(a)}(),t.SHA384})});var IN=Ie((xp,wN)=>{"use strict";(function(t,e,n){typeof xp=="object"?wN.exports=xp=e(Te(),Mu()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(xp,function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.x64,a=o.Word,c=n.algo,l=[],d=[],h=[];(function(){for(var v=1,b=0,D=0;D<24;D++){l[v+5*b]=(D+1)*(D+2)/2%64;var y=b%5,x=(2*v+3*b)%5;v=y,b=x}for(var v=0;v<5;v++)for(var b=0;b<5;b++)d[v+5*b]=b+(2*v+3*b)%5*5;for(var N=1,P=0;P<24;P++){for(var O=0,M=0,T=0;T<7;T++){if(N&1){var _=(1<<T)-1;_<32?M^=1<<_:O^=1<<_-32}N&128?N=N<<1^113:N<<=1}h[P]=a.create(O,M)}})();var p=[];(function(){for(var v=0;v<25;v++)p[v]=a.create()})();var m=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],b=0;b<25;b++)v[b]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,b){for(var D=this._state,y=this.blockSize/2,x=0;x<y;x++){var N=v[b+2*x],P=v[b+2*x+1];N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360;var O=D[x];O.high^=P,O.low^=N}for(var M=0;M<24;M++){for(var T=0;T<5;T++){for(var _=0,w=0,A=0;A<5;A++){var O=D[T+5*A];_^=O.high,w^=O.low}var I=p[T];I.high=_,I.low=w}for(var T=0;T<5;T++)for(var S=p[(T+4)%5],C=p[(T+1)%5],U=C.high,ee=C.low,_=S.high^(U<<1|ee>>>31),w=S.low^(ee<<1|U>>>31),A=0;A<5;A++){var O=D[T+5*A];O.high^=_,O.low^=w}for(var J=1;J<25;J++){var _,w,O=D[J],ce=O.high,ge=O.low,L=l[J];L<32?(_=ce<<L|ge>>>32-L,w=ge<<L|ce>>>32-L):(_=ge<<L-32|ce>>>64-L,w=ce<<L-32|ge>>>64-L);var j=p[d[J]];j.high=_,j.low=w}var $=p[0],V=D[0];$.high=V.high,$.low=V.low;for(var T=0;T<5;T++)for(var A=0;A<5;A++){var J=T+5*A,O=D[J],me=p[J],Oe=p[(T+1)%5+5*A],at=p[(T+2)%5+5*A];O.high=me.high^~Oe.high&at.high,O.low=me.low^~Oe.low&at.low}var O=D[0],_e=h[M];O.high^=_e.high,O.low^=_e.low}},_doFinalize:function(){var v=this._data,b=v.words,D=this._nDataBytes*8,y=v.sigBytes*8,x=this.blockSize*32;b[y>>>5]|=1<<24-y%32,b[(e.ceil((y+1)/x)*x>>>5)-1]|=128,v.sigBytes=b.length*4,this._process();for(var N=this._state,P=this.cfg.outputLength/8,O=P/8,M=[],T=0;T<O;T++){var _=N[T],w=_.high,A=_.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,M.push(A),M.push(w)}return new i.init(M,P)},clone:function(){for(var v=s.clone.call(this),b=v._state=this._state.slice(0),D=0;D<25;D++)b[D]=b[D].clone();return v}});n.SHA3=s._createHelper(m),n.HmacSHA3=s._createHmacHelper(m)}(Math),t.SHA3})});var DN=Ie((Dp,xN)=>{"use strict";(function(t,e){typeof Dp=="object"?xN.exports=Dp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Dp,function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),m=o.RIPEMD160=s.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(P,O){for(var M=0;M<16;M++){var T=O+M,_=P[T];P[T]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var w=this._hash.words,A=h.words,I=p.words,S=a.words,C=c.words,U=l.words,ee=d.words,J,ce,ge,L,j,$,V,me,Oe,at;$=J=w[0],V=ce=w[1],me=ge=w[2],Oe=L=w[3],at=j=w[4];for(var _e,M=0;M<80;M+=1)_e=J+P[O+S[M]]|0,M<16?_e+=v(ce,ge,L)+A[0]:M<32?_e+=b(ce,ge,L)+A[1]:M<48?_e+=D(ce,ge,L)+A[2]:M<64?_e+=y(ce,ge,L)+A[3]:_e+=x(ce,ge,L)+A[4],_e=_e|0,_e=N(_e,U[M]),_e=_e+j|0,J=j,j=L,L=N(ge,10),ge=ce,ce=_e,_e=$+P[O+C[M]]|0,M<16?_e+=x(V,me,Oe)+I[0]:M<32?_e+=y(V,me,Oe)+I[1]:M<48?_e+=D(V,me,Oe)+I[2]:M<64?_e+=b(V,me,Oe)+I[3]:_e+=v(V,me,Oe)+I[4],_e=_e|0,_e=N(_e,ee[M]),_e=_e+at|0,$=at,at=Oe,Oe=N(me,10),me=V,V=_e;_e=w[1]+ge+Oe|0,w[1]=w[2]+L+at|0,w[2]=w[3]+j+$|0,w[3]=w[4]+J+V|0,w[4]=w[0]+ce+me|0,w[0]=_e},_doFinalize:function(){var P=this._data,O=P.words,M=this._nDataBytes*8,T=P.sigBytes*8;O[T>>>5]|=128<<24-T%32,O[(T+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,P.sigBytes=(O.length+1)*4,this._process();for(var _=this._hash,w=_.words,A=0;A<5;A++){var I=w[A];w[A]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return _},clone:function(){var P=s.clone.call(this);return P._hash=this._hash.clone(),P}});function v(P,O,M){return P^O^M}function b(P,O,M){return P&O|~P&M}function D(P,O,M){return(P|~O)^M}function y(P,O,M){return P&M|O&~M}function x(P,O,M){return P^(O|~M)}function N(P,O){return P<<O|P>>>32-O}n.RIPEMD160=s._createHelper(m),n.HmacRIPEMD160=s._createHmacHelper(m)}(Math),t.RIPEMD160})});var bp=Ie((Cp,CN)=>{"use strict";(function(t,e){typeof Cp=="object"?CN.exports=Cp=e(Te()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Cp,function(t){(function(){var e=t,n=e.lib,r=n.Base,i=e.enc,s=i.Utf8,o=e.algo,a=o.HMAC=r.extend({init:function(c,l){c=this._hasher=new c.init,typeof l=="string"&&(l=s.parse(l));var d=c.blockSize,h=d*4;l.sigBytes>h&&(l=c.finalize(l)),l.clamp();for(var p=this._oKey=l.clone(),m=this._iKey=l.clone(),v=p.words,b=m.words,D=0;D<d;D++)v[D]^=1549556828,b[D]^=909522486;p.sigBytes=m.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var l=this._hasher,d=l.finalize(c);l.reset();var h=l.finalize(this._oKey.clone().concat(d));return h}})})()})});var TN=Ie((Tp,bN)=>{"use strict";(function(t,e,n){typeof Tp=="object"?bN.exports=Tp=e(Te(),_p(),bp()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(Tp,function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,s=e.algo,o=s.SHA256,a=s.HMAC,c=s.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:o,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var h=this.cfg,p=a.create(h.hasher,l),m=i.create(),v=i.create([1]),b=m.words,D=v.words,y=h.keySize,x=h.iterations;b.length<y;){var N=p.update(d).finalize(v);p.reset();for(var P=N.words,O=P.length,M=N,T=1;T<x;T++){M=p.finalize(M),p.reset();for(var _=M.words,w=0;w<O;w++)P[w]^=_[w]}m.concat(N),D[0]++}return m.sigBytes=y*4,m}});e.PBKDF2=function(l,d,h){return c.create(h).compute(l,d)}}(),t.PBKDF2})});var Hr=Ie((Ap,AN)=>{"use strict";(function(t,e,n){typeof Ap=="object"?AN.exports=Ap=e(Te(),Mw(),bp()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(Ap,function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,s=e.algo,o=s.MD5,a=s.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:o,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,l){for(var d,h=this.cfg,p=h.hasher.create(),m=i.create(),v=m.words,b=h.keySize,D=h.iterations;v.length<b;){d&&p.update(d),d=p.update(c).finalize(l),p.reset();for(var y=1;y<D;y++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=b*4,m}});e.EvpKDF=function(c,l,d){return a.create(d).compute(c,l)}}(),t.EvpKDF})});var gt=Ie((Sp,SN)=>{"use strict";(function(t,e,n){typeof Sp=="object"?SN.exports=Sp=e(Te(),Hr()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(Sp,function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,i=r.Base,s=r.WordArray,o=r.BufferedBlockAlgorithm,a=n.enc,c=a.Utf8,l=a.Base64,d=n.algo,h=d.EvpKDF,p=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(I,S){return this.create(this._ENC_XFORM_MODE,I,S)},createDecryptor:function(I,S){return this.create(this._DEC_XFORM_MODE,I,S)},init:function(I,S,C){this.cfg=this.cfg.extend(C),this._xformMode=I,this._key=S,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var S=this._doFinalize();return S},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function I(S){return typeof S=="string"?A:T}return function(S){return{encrypt:function(C,U,ee){return I(U).encrypt(S,C,U,ee)},decrypt:function(C,U,ee){return I(U).decrypt(S,C,U,ee)}}}}()}),m=r.StreamCipher=p.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1}),v=n.mode={},b=r.BlockCipherMode=i.extend({createEncryptor:function(I,S){return this.Encryptor.create(I,S)},createDecryptor:function(I,S){return this.Decryptor.create(I,S)},init:function(I,S){this._cipher=I,this._iv=S}}),D=v.CBC=function(){var I=b.extend();I.Encryptor=I.extend({processBlock:function(C,U){var ee=this._cipher,J=ee.blockSize;S.call(this,C,U,J),ee.encryptBlock(C,U),this._prevBlock=C.slice(U,U+J)}}),I.Decryptor=I.extend({processBlock:function(C,U){var ee=this._cipher,J=ee.blockSize,ce=C.slice(U,U+J);ee.decryptBlock(C,U),S.call(this,C,U,J),this._prevBlock=ce}});function S(C,U,ee){var J,ce=this._iv;ce?(J=ce,this._iv=e):J=this._prevBlock;for(var ge=0;ge<ee;ge++)C[U+ge]^=J[ge]}return I}(),y=n.pad={},x=y.Pkcs7={pad:function(I,S){for(var C=S*4,U=C-I.sigBytes%C,ee=U<<24|U<<16|U<<8|U,J=[],ce=0;ce<U;ce+=4)J.push(ee);var ge=s.create(J,U);I.concat(ge)},unpad:function(I){var S=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=S}},N=r.BlockCipher=p.extend({cfg:p.cfg.extend({mode:D,padding:x}),reset:function(){var I;p.reset.call(this);var S=this.cfg,C=S.iv,U=S.mode;this._xformMode==this._ENC_XFORM_MODE?I=U.createEncryptor:(I=U.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,C&&C.words):(this._mode=I.call(U,this,C&&C.words),this._mode.__creator=I)},_doProcessBlock:function(I,S){this._mode.processBlock(I,S)},_doFinalize:function(){var I,S=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(S.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),S.unpad(I)),I},blockSize:128/32}),P=r.CipherParams=i.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),O=n.format={},M=O.OpenSSL={stringify:function(I){var S,C=I.ciphertext,U=I.salt;return U?S=s.create([1398893684,1701076831]).concat(U).concat(C):S=C,S.toString(l)},parse:function(I){var S,C=l.parse(I),U=C.words;return U[0]==1398893684&&U[1]==1701076831&&(S=s.create(U.slice(2,4)),U.splice(0,4),C.sigBytes-=16),P.create({ciphertext:C,salt:S})}},T=r.SerializableCipher=i.extend({cfg:i.extend({format:M}),encrypt:function(I,S,C,U){U=this.cfg.extend(U);var ee=I.createEncryptor(C,U),J=ee.finalize(S),ce=ee.cfg;return P.create({ciphertext:J,key:C,iv:ce.iv,algorithm:I,mode:ce.mode,padding:ce.padding,blockSize:I.blockSize,formatter:U.format})},decrypt:function(I,S,C,U){U=this.cfg.extend(U),S=this._parse(S,U.format);var ee=I.createDecryptor(C,U).finalize(S.ciphertext);return ee},_parse:function(I,S){return typeof I=="string"?S.parse(I,this):I}}),_=n.kdf={},w=_.OpenSSL={execute:function(I,S,C,U,ee){if(U||(U=s.random(64/8)),ee)var J=h.create({keySize:S+C,hasher:ee}).compute(I,U);else var J=h.create({keySize:S+C}).compute(I,U);var ce=s.create(J.words.slice(S),C*4);return J.sigBytes=S*4,P.create({key:J,iv:ce,salt:U})}},A=r.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:w}),encrypt:function(I,S,C,U){U=this.cfg.extend(U);var ee=U.kdf.execute(C,I.keySize,I.ivSize,U.salt,U.hasher);U.iv=ee.iv;var J=T.encrypt.call(this,I,S,ee.key,U);return J.mixIn(ee),J},decrypt:function(I,S,C,U){U=this.cfg.extend(U),S=this._parse(S,U.format);var ee=U.kdf.execute(C,I.keySize,I.ivSize,S.salt,U.hasher);U.iv=ee.iv;var J=T.decrypt.call(this,I,S,ee.key,U);return J}})}()})});var NN=Ie((Rp,RN)=>{"use strict";(function(t,e,n){typeof Rp=="object"?RN.exports=Rp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Rp,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize;n.call(this,r,i,o,s),this._prevBlock=r.slice(i,i+o)}}),e.Decryptor=e.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize,a=r.slice(i,i+o);n.call(this,r,i,o,s),this._prevBlock=a}});function n(r,i,s,o){var a,c=this._iv;c?(a=c.slice(0),this._iv=void 0):a=this._prevBlock,o.encryptBlock(a,0);for(var l=0;l<s;l++)r[i+l]^=a[l]}return e}(),t.mode.CFB})});var MN=Ie((Np,PN)=>{"use strict";(function(t,e,n){typeof Np=="object"?PN.exports=Np=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Np,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize,a=this._iv,c=this._counter;a&&(c=this._counter=a.slice(0),this._iv=void 0);var l=c.slice(0);s.encryptBlock(l,0),c[o-1]=c[o-1]+1|0;for(var d=0;d<o;d++)r[i+d]^=l[d]}});return e.Decryptor=n,e}(),t.mode.CTR})});var ON=Ie((Pp,kN)=>{"use strict";(function(t,e,n){typeof Pp=="object"?kN.exports=Pp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Pp,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function n(s){if((s>>24&255)===255){var o=s>>16&255,a=s>>8&255,c=s&255;o===255?(o=0,a===255?(a=0,c===255?c=0:++c):++a):++o,s=0,s+=o<<16,s+=a<<8,s+=c}else s+=1<<24;return s}function r(s){return(s[0]=n(s[0]))===0&&(s[1]=n(s[1])),s}var i=e.Encryptor=e.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,l=this._iv,d=this._counter;l&&(d=this._counter=l.slice(0),this._iv=void 0),r(d);var h=d.slice(0);a.encryptBlock(h,0);for(var p=0;p<c;p++)s[o+p]^=h[p]}});return e.Decryptor=i,e}(),t.mode.CTRGladman})});var LN=Ie((Mp,FN)=>{"use strict";(function(t,e,n){typeof Mp=="object"?FN.exports=Mp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Mp,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize,a=this._iv,c=this._keystream;a&&(c=this._keystream=a.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var l=0;l<o;l++)r[i+l]^=c[l]}});return e.Decryptor=n,e}(),t.mode.OFB})});var VN=Ie((kp,BN)=>{"use strict";(function(t,e,n){typeof kp=="object"?BN.exports=kp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(kp,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(n,r){this._cipher.encryptBlock(n,r)}}),e.Decryptor=e.extend({processBlock:function(n,r){this._cipher.decryptBlock(n,r)}}),e}(),t.mode.ECB})});var jN=Ie((Op,UN)=>{"use strict";(function(t,e,n){typeof Op=="object"?UN.exports=Op=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Op,function(t){return t.pad.AnsiX923={pad:function(e,n){var r=e.sigBytes,i=n*4,s=i-r%i,o=r+s-1;e.clamp(),e.words[o>>>2]|=s<<24-o%4*8,e.sigBytes+=s},unpad:function(e){var n=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=n}},t.pad.Ansix923})});var HN=Ie((Fp,$N)=>{"use strict";(function(t,e,n){typeof Fp=="object"?$N.exports=Fp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Fp,function(t){return t.pad.Iso10126={pad:function(e,n){var r=n*4,i=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(e){var n=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=n}},t.pad.Iso10126})});var zN=Ie((Lp,qN)=>{"use strict";(function(t,e,n){typeof Lp=="object"?qN.exports=Lp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Lp,function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971})});var WN=Ie((Bp,GN)=>{"use strict";(function(t,e,n){typeof Bp=="object"?GN.exports=Bp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Bp,function(t){return t.pad.ZeroPadding={pad:function(e,n){var r=n*4;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var n=e.words,r=e.sigBytes-1,r=e.sigBytes-1;r>=0;r--)if(n[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},t.pad.ZeroPadding})});var QN=Ie((Vp,KN)=>{"use strict";(function(t,e,n){typeof Vp=="object"?KN.exports=Vp=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Vp,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})});var JN=Ie((Up,YN)=>{"use strict";(function(t,e,n){typeof Up=="object"?YN.exports=Up=e(Te(),gt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(Up,function(t){return function(e){var n=t,r=n.lib,i=r.CipherParams,s=n.enc,o=s.Hex,a=n.format,c=a.Hex={stringify:function(l){return l.ciphertext.toString(o)},parse:function(l){var d=o.parse(l);return i.create({ciphertext:d})}}}(),t.format.Hex})});var ZN=Ie((jp,XN)=>{"use strict";(function(t,e,n){typeof jp=="object"?XN.exports=jp=e(Te(),$i(),Hi(),Hr(),gt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(jp,function(t){return function(){var e=t,n=e.lib,r=n.BlockCipher,i=e.algo,s=[],o=[],a=[],c=[],l=[],d=[],h=[],p=[],m=[],v=[];(function(){for(var y=[],x=0;x<256;x++)x<128?y[x]=x<<1:y[x]=x<<1^283;for(var N=0,P=0,x=0;x<256;x++){var O=P^P<<1^P<<2^P<<3^P<<4;O=O>>>8^O&255^99,s[N]=O,o[O]=N;var M=y[N],T=y[M],_=y[T],w=y[O]*257^O*16843008;a[N]=w<<24|w>>>8,c[N]=w<<16|w>>>16,l[N]=w<<8|w>>>24,d[N]=w;var w=_*16843009^T*65537^M*257^N*16843008;h[O]=w<<24|w>>>8,p[O]=w<<16|w>>>16,m[O]=w<<8|w>>>24,v[O]=w,N?(N=M^y[y[y[_^M]]],P^=y[y[P]]):N=P=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],D=i.AES=r.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,N=x.words,P=x.sigBytes/4,O=this._nRounds=P+6,M=(O+1)*4,T=this._keySchedule=[],_=0;_<M;_++)_<P?T[_]=N[_]:(y=T[_-1],_%P?P>6&&_%P==4&&(y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255]):(y=y<<8|y>>>24,y=s[y>>>24]<<24|s[y>>>16&255]<<16|s[y>>>8&255]<<8|s[y&255],y^=b[_/P|0]<<24),T[_]=T[_-P]^y);for(var w=this._invKeySchedule=[],A=0;A<M;A++){var _=M-A;if(A%4)var y=T[_];else var y=T[_-4];A<4||_<=4?w[A]=y:w[A]=h[s[y>>>24]]^p[s[y>>>16&255]]^m[s[y>>>8&255]]^v[s[y&255]]}}},encryptBlock:function(y,x){this._doCryptBlock(y,x,this._keySchedule,a,c,l,d,s)},decryptBlock:function(y,x){var N=y[x+1];y[x+1]=y[x+3],y[x+3]=N,this._doCryptBlock(y,x,this._invKeySchedule,h,p,m,v,o);var N=y[x+1];y[x+1]=y[x+3],y[x+3]=N},_doCryptBlock:function(y,x,N,P,O,M,T,_){for(var w=this._nRounds,A=y[x]^N[0],I=y[x+1]^N[1],S=y[x+2]^N[2],C=y[x+3]^N[3],U=4,ee=1;ee<w;ee++){var J=P[A>>>24]^O[I>>>16&255]^M[S>>>8&255]^T[C&255]^N[U++],ce=P[I>>>24]^O[S>>>16&255]^M[C>>>8&255]^T[A&255]^N[U++],ge=P[S>>>24]^O[C>>>16&255]^M[A>>>8&255]^T[I&255]^N[U++],L=P[C>>>24]^O[A>>>16&255]^M[I>>>8&255]^T[S&255]^N[U++];A=J,I=ce,S=ge,C=L}var J=(_[A>>>24]<<24|_[I>>>16&255]<<16|_[S>>>8&255]<<8|_[C&255])^N[U++],ce=(_[I>>>24]<<24|_[S>>>16&255]<<16|_[C>>>8&255]<<8|_[A&255])^N[U++],ge=(_[S>>>24]<<24|_[C>>>16&255]<<16|_[A>>>8&255]<<8|_[I&255])^N[U++],L=(_[C>>>24]<<24|_[A>>>16&255]<<16|_[I>>>8&255]<<8|_[S&255])^N[U++];y[x]=J,y[x+1]=ce,y[x+2]=ge,y[x+3]=L},keySize:256/32});e.AES=r._createHelper(D)}(),t.AES})});var tP=Ie(($p,eP)=>{"use strict";(function(t,e,n){typeof $p=="object"?eP.exports=$p=e(Te(),$i(),Hi(),Hr(),gt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})($p,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.BlockCipher,s=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=i.extend({_doReset:function(){for(var b=this._key,D=b.words,y=[],x=0;x<56;x++){var N=o[x]-1;y[x]=D[N>>>5]>>>31-N%32&1}for(var P=this._subKeys=[],O=0;O<16;O++){for(var M=P[O]=[],T=c[O],x=0;x<24;x++)M[x/6|0]|=y[(a[x]-1+T)%28]<<31-x%6,M[4+(x/6|0)]|=y[28+(a[x+24]-1+T)%28]<<31-x%6;M[0]=M[0]<<1|M[0]>>>31;for(var x=1;x<7;x++)M[x]=M[x]>>>(x-1)*4+3;M[7]=M[7]<<5|M[7]>>>27}for(var _=this._invSubKeys=[],x=0;x<16;x++)_[x]=P[15-x]},encryptBlock:function(b,D){this._doCryptBlock(b,D,this._subKeys)},decryptBlock:function(b,D){this._doCryptBlock(b,D,this._invSubKeys)},_doCryptBlock:function(b,D,y){this._lBlock=b[D],this._rBlock=b[D+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var x=0;x<16;x++){for(var N=y[x],P=this._lBlock,O=this._rBlock,M=0,T=0;T<8;T++)M|=l[T][((O^N[T])&d[T])>>>0];this._lBlock=O,this._rBlock=P^M}var _=this._lBlock;this._lBlock=this._rBlock,this._rBlock=_,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),b[D]=this._lBlock,b[D+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(b,D){var y=(this._lBlock>>>b^this._rBlock)&D;this._rBlock^=y,this._lBlock^=y<<b}function m(b,D){var y=(this._rBlock>>>b^this._lBlock)&D;this._lBlock^=y,this._rBlock^=y<<b}e.DES=i._createHelper(h);var v=s.TripleDES=i.extend({_doReset:function(){var b=this._key,D=b.words;if(D.length!==2&&D.length!==4&&D.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=D.slice(0,2),x=D.length<4?D.slice(0,2):D.slice(2,4),N=D.length<6?D.slice(0,2):D.slice(4,6);this._des1=h.createEncryptor(r.create(y)),this._des2=h.createEncryptor(r.create(x)),this._des3=h.createEncryptor(r.create(N))},encryptBlock:function(b,D){this._des1.encryptBlock(b,D),this._des2.decryptBlock(b,D),this._des3.encryptBlock(b,D)},decryptBlock:function(b,D){this._des3.decryptBlock(b,D),this._des2.encryptBlock(b,D),this._des1.decryptBlock(b,D)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=i._createHelper(v)}(),t.TripleDES})});var rP=Ie((Hp,nP)=>{"use strict";(function(t,e,n){typeof Hp=="object"?nP.exports=Hp=e(Te(),$i(),Hi(),Hr(),gt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(Hp,function(t){return function(){var e=t,n=e.lib,r=n.StreamCipher,i=e.algo,s=i.RC4=r.extend({_doReset:function(){for(var c=this._key,l=c.words,d=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var v=p%d,b=l[v>>>2]>>>24-v%4*8&255;m=(m+h[p]+b)%256;var D=h[p];h[p]=h[m],h[m]=D}this._i=this._j=0},_doProcessBlock:function(c,l){c[l]^=o.call(this)},keySize:256/32,ivSize:0});function o(){for(var c=this._S,l=this._i,d=this._j,h=0,p=0;p<4;p++){l=(l+1)%256,d=(d+c[l])%256;var m=c[l];c[l]=c[d],c[d]=m,h|=c[(c[l]+c[d])%256]<<24-p*8}return this._i=l,this._j=d,h}e.RC4=r._createHelper(s);var a=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)o.call(this)}});e.RC4Drop=r._createHelper(a)}(),t.RC4})});var sP=Ie((qp,iP)=>{"use strict";(function(t,e,n){typeof qp=="object"?iP.exports=qp=e(Te(),$i(),Hi(),Hr(),gt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(qp,function(t){return function(){var e=t,n=e.lib,r=n.StreamCipher,i=e.algo,s=[],o=[],a=[],c=i.Rabbit=r.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)l.call(this);for(var p=0;p<8;p++)v[p]^=m[p+4&7];if(h){var b=h.words,D=b[0],y=b[1],x=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,N=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,P=x>>>16|N&4294901760,O=N<<16|x&65535;v[0]^=x,v[1]^=P,v[2]^=N,v[3]^=O,v[4]^=x,v[5]^=P,v[6]^=N,v[7]^=O;for(var p=0;p<4;p++)l.call(this)}},_doProcessBlock:function(d,h){var p=this._X;l.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,d[h+m]^=s[m]},blockSize:128/32,ivSize:64/32});function l(){for(var d=this._X,h=this._C,p=0;p<8;p++)o[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<o[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<o[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<o[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<o[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<o[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<o[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<o[6]>>>0?1:0)|0,this._b=h[7]>>>0<o[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,b=m>>>16,D=((v*v>>>17)+v*b>>>15)+b*b,y=((m&4294901760)*m|0)+((m&65535)*m|0);a[p]=D^y}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=r._createHelper(c)}(),t.Rabbit})});var aP=Ie((zp,oP)=>{"use strict";(function(t,e,n){typeof zp=="object"?oP.exports=zp=e(Te(),$i(),Hi(),Hr(),gt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(zp,function(t){return function(){var e=t,n=e.lib,r=n.StreamCipher,i=e.algo,s=[],o=[],a=[],c=i.RabbitLegacy=r.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)l.call(this);for(var v=0;v<8;v++)m[v]^=p[v+4&7];if(h){var b=h.words,D=b[0],y=b[1],x=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,N=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,P=x>>>16|N&4294901760,O=N<<16|x&65535;m[0]^=x,m[1]^=P,m[2]^=N,m[3]^=O,m[4]^=x,m[5]^=P,m[6]^=N,m[7]^=O;for(var v=0;v<4;v++)l.call(this)}},_doProcessBlock:function(d,h){var p=this._X;l.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,d[h+m]^=s[m]},blockSize:128/32,ivSize:64/32});function l(){for(var d=this._X,h=this._C,p=0;p<8;p++)o[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<o[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<o[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<o[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<o[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<o[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<o[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<o[6]>>>0?1:0)|0,this._b=h[7]>>>0<o[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,b=m>>>16,D=((v*v>>>17)+v*b>>>15)+b*b,y=((m&4294901760)*m|0)+((m&65535)*m|0);a[p]=D^y}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=r._createHelper(c)}(),t.RabbitLegacy})});var uP=Ie((Gp,cP)=>{"use strict";(function(t,e,n){typeof Gp=="object"?cP.exports=Gp=e(Te(),$i(),Hi(),Hr(),gt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(Gp,function(t){return function(){var e=t,n=e.lib,r=n.BlockCipher,i=e.algo;let s=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function l(v,b){let D=b>>24&255,y=b>>16&255,x=b>>8&255,N=b&255,P=v.sbox[0][D]+v.sbox[1][y];return P=P^v.sbox[2][x],P=P+v.sbox[3][N],P}function d(v,b,D){let y=b,x=D,N;for(let P=0;P<s;++P)y=y^v.pbox[P],x=l(v,y)^x,N=y,y=x,x=N;return N=y,y=x,x=N,x=x^v.pbox[s],y=y^v.pbox[s+1],{left:y,right:x}}function h(v,b,D){let y=b,x=D,N;for(let P=s+1;P>1;--P)y=y^v.pbox[P],x=l(v,y)^x,N=y,y=x,x=N;return N=y,y=x,x=N,x=x^v.pbox[1],y=y^v.pbox[0],{left:y,right:x}}function p(v,b,D){for(let O=0;O<4;O++){v.sbox[O]=[];for(let M=0;M<256;M++)v.sbox[O][M]=a[O][M]}let y=0;for(let O=0;O<s+2;O++)v.pbox[O]=o[O]^b[y],y++,y>=D&&(y=0);let x=0,N=0,P=0;for(let O=0;O<s+2;O+=2)P=d(v,x,N),x=P.left,N=P.right,v.pbox[O]=x,v.pbox[O+1]=N;for(let O=0;O<4;O++)for(let M=0;M<256;M+=2)P=d(v,x,N),x=P.left,N=P.right,v.sbox[O][M]=x,v.sbox[O][M+1]=N;return!0}var m=i.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,b=v.words,D=v.sigBytes/4;p(c,b,D)}},encryptBlock:function(v,b){var D=d(c,v[b],v[b+1]);v[b]=D.left,v[b+1]=D.right},decryptBlock:function(v,b){var D=h(c,v[b],v[b+1]);v[b]=D.left,v[b+1]=D.right},blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=r._createHelper(m)}(),t.Blowfish})});var dP=Ie((Wp,lP)=>{"use strict";(function(t,e,n){typeof Wp=="object"?lP.exports=Wp=e(Te(),Mu(),aN(),uN(),$i(),hN(),Hi(),Mw(),_p(),vN(),kw(),EN(),IN(),DN(),bp(),TN(),Hr(),gt(),NN(),MN(),ON(),LN(),VN(),jN(),HN(),zN(),WN(),QN(),JN(),ZN(),tP(),rP(),sP(),aP(),uP()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(Wp,function(t){return t})});function IM(t,e){return Object.is(t,e)}var vt=null,dl=!1,hl=1,Zi=Symbol("SIGNAL");function xe(t){let e=vt;return vt=t,e}var fg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jI(t){if(dl)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(t);let e=vt.nextProducerIndex++;if(so(vt),e<vt.producerNode.length&&vt.producerNode[e]!==t&&Ja(vt)){let n=vt.producerNode[e];fl(n,vt.producerIndexOfThis[e])}vt.producerNode[e]!==t&&(vt.producerNode[e]=t,vt.producerIndexOfThis[e]=Ja(vt)?WI(t,vt,e):0),vt.producerLastReadVersion[e]=t.version}function xM(){hl++}function DM(t){if(!(Ja(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hl)){if(!t.producerMustRecompute(t)&&!pg(t)){t.dirty=!1,t.lastCleanEpoch=hl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hl}}function $I(t){if(t.liveConsumerNode===void 0)return;let e=dl;dl=!0;try{for(let n of t.liveConsumerNode)n.dirty||CM(n)}finally{dl=e}}function HI(){return vt?.consumerAllowSignalWrites!==!1}function CM(t){t.dirty=!0,$I(t),t.consumerMarkedDirty?.(t)}function qI(t){return t&&(t.nextProducerIndex=0),xe(t)}function zI(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ja(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pg(t){so(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(DM(n),r!==n.version))return!0}return!1}function GI(t){if(so(t),Ja(t))for(let e=0;e<t.producerNode.length;e++)fl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function WI(t,e,n){if(KI(t),so(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=WI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function fl(t,e){if(KI(t),so(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)fl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];so(i),i.producerIndexOfThis[r]=e}}function Ja(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function so(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function KI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bM(){throw new Error}var QI=bM;function YI(){QI()}function JI(t){QI=t}var TM=null;function XI(t){let e=Object.create(ex);e.value=t;let n=()=>(jI(e),e.value);return n[Zi]=e,n}function gg(t,e){HI()||YI(),t.equal(t.value,e)||(t.value=e,AM(t))}function ZI(t,e){HI()||YI(),gg(t,e(t.value))}var ex=Qe(K({},fg),{equal:IM,value:void 0});function AM(t){t.version++,xM(),$I(t),TM?.()}function ne(t){return typeof t=="function"}function oo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pl=oo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function es(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(s){e=s instanceof pl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{tx(s)}catch(o){e=e??[],o instanceof pl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&es(n,e)}remove(e){let{_finalizers:n}=this;n&&es(n,e),e instanceof t&&e._removeParent(this)}};rt.EMPTY=(()=>{let t=new rt;return t.closed=!0,t})();var mg=rt.EMPTY;function gl(t){return t instanceof rt||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function tx(t){ne(t)?t():t.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ao={setTimeout(t,e,...n){let{delegate:r}=ao;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ao;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ml(t){ao.setTimeout(()=>{let{onUnhandledError:e}=Dn;if(e)e(t);else throw t})}function ts(){}var nx=vg("C",void 0,void 0);function rx(t){return vg("E",void 0,t)}function ix(t){return vg("N",t,void 0)}function vg(t,e,n){return{kind:t,value:e,error:n}}var ns=null;function co(t){if(Dn.useDeprecatedSynchronousErrorHandling){let e=!ns;if(e&&(ns={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ns;if(ns=null,n)throw r}}else t()}function sx(t){Dn.useDeprecatedSynchronousErrorHandling&&ns&&(ns.errorThrown=!0,ns.error=t)}var rs=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gl(e)&&e.add(this)):this.destination=NM}static create(e,n,r){return new uo(e,n,r)}next(e){this.isStopped?_g(ix(e),this):this._next(e)}error(e){this.isStopped?_g(rx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_g(nx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SM=Function.prototype.bind;function yg(t,e){return SM.call(t,e)}var Eg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vl(r)}else vl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vl(n)}}},uo=class extends rs{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Dn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yg(e.next,s),error:e.error&&yg(e.error,s),complete:e.complete&&yg(e.complete,s)}):i=e}this.destination=new Eg(i)}};function vl(t){Dn.useDeprecatedSynchronousErrorHandling?sx(t):ml(t)}function RM(t){throw t}function _g(t,e){let{onStoppedNotification:n}=Dn;n&&ao.setTimeout(()=>n(t,e))}var NM={closed:!0,next:ts,error:RM,complete:ts};var lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(t){return t}function yl(...t){return wg(t)}function wg(t){return t.length===0?jt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=MM(n)?n:new uo(n,r,i);return co(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ox(r),new r((i,s)=>{let o=new uo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[lo](){return this}pipe(...n){return wg(n)(this)}toPromise(n){return n=ox(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ox(t){var e;return(e=t??Dn.Promise)!==null&&e!==void 0?e:Promise}function PM(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function MM(t){return t&&t instanceof rs||PM(t)&&gl(t)}function Ig(t){return ne(t?.lift)}function le(t){return e=>{if(Ig(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,e,n,r,i){return new xg(t,e,n,r,i)}var xg=class extends rs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ho(){return le((t,e)=>{let n=null;t._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fo=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ig(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let n=this.getSubject();e.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return ho()(this)}};var ax=oo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $t=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _l(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ax}next(n){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?mg:(this.currentObservers=null,s.push(n),new rt(()=>{this.currentObservers=null,es(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new _l(e,n),t})(),_l=class extends $t{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mg}};var Ct=class extends $t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Dg={now(){return(Dg.delegate||Date).now()},delegate:void 0};var El=class extends rt{constructor(e,n){super()}schedule(e,n=0){return this}};var Xa={setInterval(t,e,...n){let{delegate:r}=Xa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ni=class extends El{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Xa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,es(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var kM=1,Cg,bg={};function cx(t){return t in bg?(delete bg[t],!0):!1}var ux={setImmediate(t){let e=kM++;return bg[e]=!0,Cg||(Cg=Promise.resolve()),Cg.then(()=>cx(e)&&t()),e},clearImmediate(t){cx(t)}};var{setImmediate:OM,clearImmediate:FM}=ux,Za={setImmediate(...t){let{delegate:e}=Za;return(e?.setImmediate||OM)(...t)},clearImmediate(t){let{delegate:e}=Za;return(e?.clearImmediate||FM)(t)},delegate:void 0};var wl=class extends ni{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Za.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Za.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var po=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};po.now=Dg.now;var ri=class extends po{constructor(e,n=po.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Il=class extends ri{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var LM=new Il(wl);var gn=new ri(ni),Tg=gn;var xl=class extends ni{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Dl=class extends ri{};var Ag=new Dl(xl);var bt=new ie(t=>t.complete());function Cl(t){return t&&ne(t.schedule)}function Sg(t){return t[t.length-1]}function go(t){return ne(Sg(t))?t.pop():void 0}function Vn(t){return Cl(Sg(t))?t.pop():void 0}function lx(t,e){return typeof Sg(t)=="number"?t.pop():e}function Rg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hx(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(h){o(h)}}function c(d){try{l(r.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function dx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function is(t){return this instanceof is?(this.v=t,this):new is(t)}function fx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(v){return Promise.resolve(v).then(m,h)}}function a(m,v){r[m]&&(i[m]=function(b){return new Promise(function(D,y){s.push([m,b,D,y])>1||c(m,b)})},v&&(i[m]=v(i[m])))}function c(m,v){try{l(r[m](v))}catch(b){p(s[0][3],b)}}function l(m){m.value instanceof is?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,v){m(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function px(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dx=="function"?dx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var mo=t=>t&&typeof t.length=="number"&&typeof t!="function";function bl(t){return ne(t?.then)}function Tl(t){return ne(t[lo])}function Al(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Sl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rl=BM();function Nl(t){return ne(t?.[Rl])}function Pl(t){return fx(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield is(n.read());if(i)return yield is(void 0);yield yield is(r)}}finally{n.releaseLock()}})}function Ml(t){return ne(t?.getReader)}function Me(t){if(t instanceof ie)return t;if(t!=null){if(Tl(t))return VM(t);if(mo(t))return UM(t);if(bl(t))return jM(t);if(Al(t))return gx(t);if(Nl(t))return $M(t);if(Ml(t))return HM(t)}throw Sl(t)}function VM(t){return new ie(e=>{let n=t[lo]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UM(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jM(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ml)})}function $M(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gx(t){return new ie(e=>{qM(t,e).catch(n=>e.error(n))})}function HM(t){return gx(Pl(t))}function qM(t,e){var n,r,i,s;return hx(this,void 0,void 0,function*(){try{for(n=px(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Xt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ii(t,e=0){return le((n,r)=>{n.subscribe(re(r,i=>Xt(r,t,()=>r.next(i),e),()=>Xt(r,t,()=>r.complete(),e),i=>Xt(r,t,()=>r.error(i),e)))})}function si(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function mx(t,e){return Me(t).pipe(si(e),ii(e))}function vx(t,e){return Me(t).pipe(si(e),ii(e))}function yx(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function _x(t,e){return new ie(n=>{let r;return Xt(n,e,()=>{r=t[Rl](),Xt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function kl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Xt(n,e,()=>{let r=t[Symbol.asyncIterator]();Xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ex(t,e){return kl(Pl(t),e)}function wx(t,e){if(t!=null){if(Tl(t))return mx(t,e);if(mo(t))return yx(t,e);if(bl(t))return vx(t,e);if(Al(t))return kl(t,e);if(Nl(t))return _x(t,e);if(Ml(t))return Ex(t,e)}throw Sl(t)}function He(t,e){return e?wx(t,e):Me(t)}function ue(...t){let e=Vn(t);return He(t,e)}function vo(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Ng(t){return!!t&&(t instanceof ie||ne(t.lift)&&ne(t.subscribe))}var vr=oo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ix(t){return t instanceof Date&&!isNaN(t)}function Ee(t,e){return le((n,r)=>{let i=0;n.subscribe(re(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:zM}=Array;function GM(t,e){return zM(e)?t(...e):t(e)}function yo(t){return Ee(e=>GM(t,e))}var{isArray:WM}=Array,{getPrototypeOf:KM,prototype:QM,keys:YM}=Object;function Ol(t){if(t.length===1){let e=t[0];if(WM(e))return{args:e,keys:null};if(JM(e)){let n=YM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JM(t){return t&&typeof t=="object"&&KM(t)===QM}function Fl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ec(...t){let e=Vn(t),n=go(t),{args:r,keys:i}=Ol(t);if(r.length===0)return He([],e);let s=new ie(XM(r,e,i?o=>Fl(i,o):jt));return n?s.pipe(yo(n)):s}function XM(t,e,n=jt){return r=>{xx(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)xx(e,()=>{let l=He(t[c],e),d=!1;l.subscribe(re(r,h=>{s[c]=h,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function xx(t,e,n){t?Xt(n,t,e):e()}function Dx(t,e,n,r,i,s,o,a){let c=[],l=0,d=0,h=!1,p=()=>{h&&!c.length&&!l&&e.complete()},m=b=>l<r?v(b):c.push(b),v=b=>{s&&e.next(b),l++;let D=!1;Me(n(b,d++)).subscribe(re(e,y=>{i?.(y),s?m(y):e.next(y)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let y=c.shift();o?Xt(e,o,()=>v(y)):v(y)}p()}catch(y){e.error(y)}}))};return t.subscribe(re(e,m,()=>{h=!0,p()})),()=>{a?.()}}function qe(t,e,n=1/0){return ne(e)?qe((r,i)=>Ee((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>Dx(r,i,t,n)))}function oi(t=1/0){return qe(jt,t)}function Cx(){return oi(1)}function ai(...t){return Cx()(He(t,Vn(t)))}function Ll(t){return new ie(e=>{Me(t()).subscribe(e)})}function ZM(...t){let e=go(t),{args:n,keys:r}=Ol(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let h=!1;Me(n[d]).subscribe(re(s,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(r?Fl(r,a):a),s.complete())}))}});return e?i.pipe(yo(e)):i}var ek=["addListener","removeListener"],tk=["addEventListener","removeEventListener"],nk=["on","off"];function Pg(t,e,n,r){if(ne(n)&&(r=n,n=void 0),r)return Pg(t,e,n).pipe(yo(r));let[i,s]=sk(t)?tk.map(o=>a=>t[o](e,a,n)):rk(t)?ek.map(bx(t,e)):ik(t)?nk.map(bx(t,e)):[];if(!i&&mo(t))return qe(o=>Pg(o,e,n))(Me(t));if(!i)throw new TypeError("Invalid event target");return new ie(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function bx(t,e){return n=>r=>t[n](e,r)}function rk(t){return ne(t.addListener)&&ne(t.removeListener)}function ik(t){return ne(t.on)&&ne(t.off)}function sk(t){return ne(t.addEventListener)&&ne(t.removeEventListener)}function _o(t=0,e,n=Tg){let r=-1;return e!=null&&(Cl(e)?n=e:r=e),new ie(i=>{let s=Ix(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function ok(t=0,e=gn){return t<0&&(t=0),_o(t,t,e)}function ak(...t){let e=Vn(t),n=lx(t,1/0),r=t;return r.length?r.length===1?Me(r[0]):oi(n)(He(r,e)):bt}var{isArray:ck}=Array;function Tx(t){return t.length===1&&ck(t[0])?t[0]:t}function Ht(t,e){return le((n,r)=>{let i=0;n.subscribe(re(r,s=>t.call(e,s,i++)&&r.next(s)))})}function uk(...t){let e=go(t),n=Tx(t);return n.length?new ie(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)Me(n[o]).subscribe(re(r,a=>{if(i[o].push(a),i.every(c=>c.length)){let c=i.map(l=>l.shift());r.next(e?e(...c):c),i.some((l,d)=>!l.length&&s[d])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):bt}function Ax(t){return le((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(re(n,l=>{r=!0,i=l,s||Me(t(l)).subscribe(s=re(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function lk(t,e=gn){return Ax(()=>_o(t,e))}function ci(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(re(n,void 0,void 0,o=>{s=Me(t(o,ci(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Sx(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(re(o,d=>{let h=l++;c=a?t(c,d,h):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function ss(t,e){return ne(e)?qe(t,e,1):qe(t,1)}function dk(t,e=gn){return le((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}n.subscribe(re(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function ui(t){return le((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function an(t){return t<=0?()=>bt:le((e,n)=>{let r=0;e.subscribe(re(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rx(){return le((t,e)=>{t.subscribe(re(e,ts))})}function tc(t){return Ee(()=>t)}function Mg(t,e){return e?n=>ai(e.pipe(an(1),Rx()),n.pipe(Mg(t))):qe((n,r)=>Me(t(n,r)).pipe(an(1),tc(n)))}function Nx(t,e=gn){let n=_o(t,e);return Mg(()=>n)}function Px(t,e=jt){return t=t??hk,le((n,r)=>{let i,s=!0;n.subscribe(re(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function hk(t,e){return t===e}function Bl(t=fk){return le((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fk(){return new vr}function nc(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Un(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):jt,an(1),n?ui(e):Bl(()=>new vr))}function Eo(t){return t<=0?()=>bt:le((e,n)=>{let r=[];e.subscribe(re(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function kg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):jt,Eo(1),n?ui(e):Bl(()=>new vr))}function Vl(t,e){return le(Sx(t,e,arguments.length>=2,!0))}function pk(t){return Ht((e,n)=>t<=n)}function Ul(...t){let e=Vn(t);return le((n,r)=>{(e?ai(t,n,e):ai(t,n)).subscribe(r)})}function cn(t,e){return le((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(re(r,c=>{i?.unsubscribe();let l=0,d=s++;Me(t(c,d)).subscribe(i=re(r,h=>r.next(e?e(c,h,d,l++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jl(t){return le((e,n)=>{Me(t).subscribe(re(n,()=>n.complete(),ts)),!n.closed&&e.subscribe(n)})}function gk(t,e=!1){return le((n,r)=>{let i=0;n.subscribe(re(r,s=>{let o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function pt(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(re(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var wD="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(u0(e,n)),this.code=e}};function u0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function yc(t){return{toString:t}.toString()}var $l="__parameters__";function mk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ID(t,e,n){return yc(()=>{let r=mk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,d){let h=c.hasOwnProperty($l)?c[$l]:Object.defineProperty(c,$l,{value:[]})[$l];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var it=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function vk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(zt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Jg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yk=Le({__forward_ref__:Le});function xD(t){return t.__forward_ref__=xD,t.toString=function(){return zt(this())},t}function qt(t){return DD(t)?t():t}function DD(t){return typeof t=="function"&&t.hasOwnProperty(yk)&&t.__forward_ref__===xD}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ys(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dd(t){return Mx(t,bD)||Mx(t,TD)}function CD(t){return Dd(t)!==null}function Mx(t,e){return t.hasOwnProperty(e)?t[e]:null}function _k(t){let e=t&&(t[bD]||t[TD]);return e||null}function kx(t){return t&&(t.hasOwnProperty(Ox)||t.hasOwnProperty(Ek))?t[Ox]:null}var bD=Le({\u0275prov:Le}),Ox=Le({\u0275inj:Le}),TD=Le({ngInjectableDef:Le}),Ek=Le({ngInjectorDef:Le}),Z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AD(t){return t&&!!t.\u0275providers}var wk=Le({\u0275cmp:Le}),Ik=Le({\u0275dir:Le}),xk=Le({\u0275pipe:Le}),Dk=Le({\u0275mod:Le}),td=Le({\u0275fac:Le}),rc=Le({__NG_ELEMENT_ID__:Le}),Fx=Le({__NG_ENV_ID__:Le});function _c(t){return typeof t=="string"?t:t==null?"":String(t)}function Ck(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_c(t)}function bk(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function l0(t,e){throw new Q(-201,!1)}var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{}),Xg;function SD(){return Xg}function Zt(t){let e=Xg;return Xg=t,e}function RD(t,e,n){let r=Dd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&we.Optional)return null;if(e!==void 0)return e;l0(t,"Injector")}var Tk={},sc=Tk,Zg="__NG_DI_FLAG__",nd="ngTempTokenPath",Ak="ngTokenPath",Sk=/\n/gm,Rk="\u0275",Lx="__source",Co;function Nk(){return Co}function li(t){let e=Co;return Co=t,e}function Pk(t,e=we.Default){if(Co===void 0)throw new Q(-203,!1);return Co===null?RD(t,void 0,e):Co.get(t,e&we.Optional?null:void 0,e)}function X(t,e=we.Default){return(SD()||Pk)(qt(t),e)}function z(t,e=we.Default){return X(t,Cd(e))}function Cd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function em(t){let e=[];for(let n=0;n<t.length;n++){let r=qt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=we.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Mk(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(X(i,s))}else e.push(X(r))}return e}function ND(t,e){return t[Zg]=e,t.prototype[Zg]=e,t}function Mk(t){return t[Zg]}function kk(t,e,n,r){let i=t[nd];throw e[Lx]&&i.unshift(e[Lx]),t.message=Ok(`
`+t.message,i,n,r),t[Ak]=i,t[nd]=null,t}function Ok(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Rk?t.slice(2):t;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):zt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sk,`
  `)}`}var tt=ND(ID("Optional"),8);var bd=ND(ID("SkipSelf"),4);function us(t,e){let n=t.hasOwnProperty(td);return n?t[td]:null}function Fk(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Lk(t){return t.flat(Number.POSITIVE_INFINITY)}function d0(t,e){t.forEach(n=>Array.isArray(n)?d0(n,e):e(n))}function PD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Bk(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Vk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Td(t,e,n){let r=Ec(t,e);return r>=0?t[r|1]=n:(r=~r,Vk(t,r,e,n)),r}function Og(t,e){let n=Ec(t,e);if(n>=0)return t[n|1]}function Ec(t,e){return Uk(t,e,1)}function Uk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var To={},en=[],Ao=new Z(""),MD=new Z("",-1),kD=new Z(""),id=class{get(e,n=sc){if(n===sc){let r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return n}},OD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(OD||{}),Hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hn||{}),yr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(yr||{});function jk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function tm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Hk(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $k(t){return t===3||t===4||t===6}function Hk(t){return t.charCodeAt(0)===64}function oc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Bx(t,n,i,null,e[++r]):Bx(t,n,i,null,null))}}return t}function Bx(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var FD="ng-template";function qk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(h0(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function h0(t){return t.type===4&&t.value!==FD}function zk(t,e,n){let r=t.type===4&&!n?FD:t.value;return e===r}function Gk(t,e,n){let r=4,i=t.attrs,s=i!==null?Qk(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Cn(r)&&!Cn(c))return!1;if(o&&Cn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!zk(t,c,n)||c===""&&e.length===1){if(Cn(r))return!1;o=!0}}else if(r&8){if(i===null||!qk(t,i,c,n)){if(Cn(r))return!1;o=!0}}else{let l=e[++a],d=Wk(c,i,h0(t),n);if(d===-1){if(Cn(r))return!1;o=!0;continue}if(l!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&l!==h){if(Cn(r))return!1;o=!0}}}}return Cn(r)||o}function Cn(t){return(t&1)===0}function Wk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Yk(e,t)}function LD(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gk(t,e[r],n))return!0;return!1}function Kk(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Qk(t){for(let e=0;e<t.length;e++){let n=t[e];if($k(n))return e}return t.length}function Yk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Jk(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Vx(t,e){return t?":not("+e.trim()+")":e}function Xk(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Cn(o)&&(e+=Vx(s,i),i=""),r=o,s=s||!Cn(r);n++}return i!==""&&(e+=Vx(s,i)),e}function Zk(t){return t.map(Xk).join(",")}function eO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Cn(i))break;i=s}r++}return{attrs:e,classes:n}}function BD(t){return yc(()=>{let e=HD(t),n=Qe(K({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===OD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});qD(n);let r=t.dependencies;return n.directiveDefs=jx(r,!1),n.pipeDefs=jx(r,!0),n.id=rO(n),n})}function tO(t){return hi(t)||VD(t)}function nO(t){return t!==null}function _s(t){return yc(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ux(t,e){if(t==null)return To;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=yr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==yr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Es(t){return yc(()=>{let e=HD(t);return qD(e),e})}function Ad(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function hi(t){return t[wk]||null}function VD(t){return t[Ik]||null}function UD(t){return t[xk]||null}function jD(t){let e=hi(t)||VD(t)||UD(t);return e!==null?e.standalone:!1}function $D(t,e){let n=t[Dk]||null;if(!n&&e===!0)throw new Error(`Type ${zt(t)} does not have '\u0275mod' property.`);return n}function HD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||To,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ux(t.inputs,e),outputs:Ux(t.outputs),debugInfo:null}}function qD(t){t.features?.forEach(e=>e(t))}function jx(t,e){if(!t)return null;let n=e?UD:tO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nO)}function rO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wn(t){return{\u0275providers:t}}function iO(...t){return{\u0275providers:zD(!0,t),\u0275fromNgModule:!0}}function zD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return d0(e,o=>{let a=o;nm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GD(i,s),n}function GD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];f0(i,s=>{e(s,r)})}}function nm(t,e,n,r){if(t=qt(t),!t)return!1;let i=null,s=kx(t),o=!s&&hi(t);if(!s&&!o){let c=t.ngModule;if(s=kx(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)nm(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{d0(s.imports,d=>{nm(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&GD(l,e)}if(!a){let l=us(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:kD,useValue:i,multi:!0},i),e({provide:Ao,useValue:()=>X(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;f0(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function f0(t,e){for(let n of t)AD(n)&&(n=n.\u0275providers),Array.isArray(n)?f0(n,e):e(n)}var sO=Le({provide:String,useValue:Le});function WD(t){return t!==null&&typeof t=="object"&&sO in t}function oO(t){return!!(t&&t.useExisting)}function aO(t){return!!(t&&t.useFactory)}function So(t){return typeof t=="function"}function cO(t){return!!t.useClass}var Sd=new Z(""),Ql={},uO={},Fg;function p0(){return Fg===void 0&&(Fg=new id),Fg}var tn=class{},ac=class extends tn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(e,o=>this.processProvider(o)),this.records.set(MD,wo(void 0,this)),i.has("environment")&&this.records.set(tn,wo(void 0,this));let s=this.records.get(Sd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kD,en,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=li(this),r=Zt(void 0),i;try{return e()}finally{li(n),Zt(r)}}get(e,n=sc,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Fx))return e[Fx](this);r=Cd(r);let i,s=li(this),o=Zt(void 0);try{if(!(r&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=pO(e)&&Dd(e);l&&this.injectableDefInScope(l)?c=wo(rm(e),Ql):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&we.Self?p0():this.parent;return n=r&we.Optional&&n===sc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nd]=a[nd]||[]).unshift(zt(e)),s)throw a;return kk(a,e,"R3InjectorError",this.source)}else throw a}finally{Zt(o),li(s)}}resolveInjectorInitializers(){let e=xe(null),n=li(this),r=Zt(void 0),i;try{let s=this.get(Ao,en,we.Self);for(let o of s)o()}finally{li(n),Zt(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=qt(e);let n=So(e)?e:qt(e&&e.provide),r=dO(e);if(!So(e)&&e.multi===!0){let i=this.records.get(n);i||(i=wo(void 0,Ql,!0),i.factory=()=>em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Ql&&(n.value=uO,n.value=n.factory()),typeof n.value=="object"&&n.value&&fO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=qt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rm(t){let e=Dd(t),n=e!==null?e.factory:us(t);if(n!==null)return n;if(t instanceof Z)throw new Q(204,!1);if(t instanceof Function)return lO(t);throw new Q(204,!1)}function lO(t){if(t.length>0)throw new Q(204,!1);let n=_k(t);return n!==null?()=>n.factory(t):()=>new t}function dO(t){if(WD(t))return wo(void 0,t.useValue);{let e=KD(t);return wo(e,Ql)}}function KD(t,e,n){let r;if(So(t)){let i=qt(t);return us(i)||rm(i)}else if(WD(t))r=()=>qt(t.useValue);else if(aO(t))r=()=>t.useFactory(...em(t.deps||[]));else if(oO(t))r=()=>X(qt(t.useExisting));else{let i=qt(t&&(t.useClass||t.provide));if(hO(t))r=()=>new i(...em(t.deps));else return us(i)||rm(i)}return r}function wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hO(t){return!!t.deps}function fO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function pO(t){return typeof t=="function"||typeof t=="object"&&t instanceof Z}function im(t,e){for(let n of t)Array.isArray(n)?im(n,e):n&&AD(n)?im(n.\u0275providers,e):e(n)}function Ir(t,e){t instanceof ac&&t.assertNotDestroyed();let n,r=li(t),i=Zt(void 0);try{return e()}finally{li(r),Zt(i)}}function QD(){return SD()!==void 0||Nk()!=null}function gO(t){if(!QD())throw new Q(-203,!1)}function mO(t){let e=it.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function vO(t){return typeof t=="function"}var Kn=0,de=1,se=2,Tt=3,Tn=4,un=5,Ro=6,cc=7,Ot=8,No=9,An=10,ze=11,uc=12,$x=13,Fo=14,mn=15,wc=16,Io=17,_r=18,Rd=19,YD=20,di=21,Lg=22,ls=23,yt=25,g0=1;var ds=7,sd=8,Po=9,Ft=10,m0=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(m0||{});function as(t){return Array.isArray(t)&&typeof t[g0]=="object"}function xr(t){return Array.isArray(t)&&t[g0]===!0}function v0(t){return(t.flags&4)!==0}function Nd(t){return t.componentOffset>-1}function Pd(t){return(t.flags&1)===1}function Er(t){return!!t.template}function yO(t){return(t[se]&512)!==0}var sm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function JD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Md(){return XD}function XD(t){return t.type.prototype.ngOnChanges&&(t.setInput=EO),_O}Md.ngInherit=!0;function _O(){let t=eC(this),e=t?.current;if(e){let n=t.previous;if(n===To)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EO(t,e,n,r,i){let s=this.declaredInputs[r],o=eC(t)||wO(t,{previous:To,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new sm(l&&l.currentValue,n,c===To),JD(t,e,i,n)}var ZD="__ngSimpleChanges__";function eC(t){return t[ZD]||null}function wO(t,e){return t[ZD]=e}var Hx=null;var jn=function(t,e,n){Hx?.(t,e,n)},tC="svg",IO="math",xO=!1;function DO(){return xO}function qn(t){for(;Array.isArray(t);)t=t[Kn];return t}function CO(t){for(;Array.isArray(t);){if(typeof t[g0]=="object")return t;t=t[Kn]}return null}function nC(t,e){return qn(e[t])}function vn(t,e){return qn(e[t.index])}function y0(t,e){return t.data[e]}function kd(t,e){return t[e]}function mi(t,e){let n=e[t];return as(n)?n:n[Kn]}function bO(t){return(t[se]&4)===4}function _0(t){return(t[se]&128)===128}function TO(t){return xr(t[Tt])}function Mo(t,e){return e==null?null:t[e]}function rC(t){t[Io]=0}function AO(t){t[se]&1024||(t[se]|=1024,_0(t)&&lc(t))}function SO(t,e){for(;t>0;)e=e[Fo],t--;return e}function E0(t){return!!(t[se]&9216||t[ls]?.dirty)}function om(t){t[An].changeDetectionScheduler?.notify(1),E0(t)?lc(t):t[se]&64&&(DO()?(t[se]|=1024,lc(t)):t[An].changeDetectionScheduler?.notify())}function lc(t){t[An].changeDetectionScheduler?.notify();let e=dc(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!_0(e)));)e=dc(e)}function iC(t,e){if((t[se]&256)===256)throw new Q(911,!1);t[di]===null&&(t[di]=[]),t[di].push(e)}function RO(t,e){if(t[di]===null)return;let n=t[di].indexOf(e);n!==-1&&t[di].splice(n,1)}function dc(t){let e=t[Tt];return xr(e)?e[Tt]:e}var ve={lFrame:fC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NO(){return ve.lFrame.elementDepthCount}function PO(){ve.lFrame.elementDepthCount++}function MO(){ve.lFrame.elementDepthCount--}function sC(){return ve.bindingsEnabled}function oC(){return ve.skipHydrationRootTNode!==null}function kO(t){return ve.skipHydrationRootTNode===t}function OO(){ve.skipHydrationRootTNode=null}function he(){return ve.lFrame.lView}function Ye(){return ve.lFrame.tView}function GY(t){return ve.lFrame.contextLView=t,t[Ot]}function WY(t){return ve.lFrame.contextLView=null,t}function Gt(){let t=aC();for(;t!==null&&t.type===64;)t=t.parent;return t}function aC(){return ve.lFrame.currentTNode}function FO(){let t=ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ws(t,e){let n=ve.lFrame;n.currentTNode=t,n.isParent=e}function w0(){return ve.lFrame.isParent}function I0(){ve.lFrame.isParent=!1}function LO(){return ve.lFrame.contextLView}function Od(){let t=ve.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function BO(t){return ve.lFrame.bindingIndex=t}function vi(){return ve.lFrame.bindingIndex++}function cC(t){let e=ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VO(){return ve.lFrame.inI18n}function UO(t,e){let n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,am(e)}function jO(){return ve.lFrame.currentDirectiveIndex}function am(t){ve.lFrame.currentDirectiveIndex=t}function uC(t){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function lC(){return ve.lFrame.currentQueryIndex}function x0(t){ve.lFrame.currentQueryIndex=t}function $O(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[un]:null}function dC(t,e,n){if(n&we.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&we.Host);)if(i=$O(s),i===null||(s=s[Fo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ve.lFrame=hC();return r.currentTNode=e,r.lView=t,!0}function D0(t){let e=hC(),n=t[de];ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hC(){let t=ve.lFrame,e=t===null?null:t.child;return e===null?fC(t):e}function fC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pC(){let t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gC=pC;function C0(){let t=pC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HO(t){return(ve.lFrame.contextLView=SO(t,ve.lFrame.contextLView))[Ot]}function yi(){return ve.lFrame.selectedIndex}function hs(t){ve.lFrame.selectedIndex=t}function Ic(){let t=ve.lFrame;return y0(t.tView,t.selectedIndex)}function KY(){ve.lFrame.currentNamespace=tC}function QY(){qO()}function qO(){ve.lFrame.currentNamespace=null}function zO(){return ve.lFrame.currentNamespace}var mC=!0;function Fd(){return mC}function Ld(t){mC=t}function GO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=XD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Bd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Yl(t,e,n){vC(t,e,3,n)}function Jl(t,e,n,r){(t[se]&3)===n&&vC(t,e,n,r)}function Bg(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function vC(t,e,n,r){let i=r!==void 0?t[Io]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Io]+=65536),(a<s||s==-1)&&(WO(t,n,e,c),t[Io]=(t[Io]&4294901760)+c+2),c++}function qx(t,e){jn(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),jn(5,t,e)}}function WO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[se]>>14<t[Io]>>16&&(t[se]&3)===e&&(t[se]+=16384,qx(a,s)):qx(a,s)}var bo=-1,fs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function KO(t){return t instanceof fs}function QO(t){return(t.flags&8)!==0}function YO(t){return(t.flags&16)!==0}function yC(t){return t!==bo}function od(t){return t&32767}function JO(t){return t>>16}function ad(t,e){let n=JO(t),r=e;for(;n>0;)r=r[Fo],n--;return r}var cm=!0;function cd(t){let e=cm;return cm=t,e}var XO=256,_C=XO-1,EC=5,ZO=0,$n={};function eF(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rc)&&(r=n[rc]),r==null&&(r=n[rc]=ZO++);let i=r&_C,s=1<<i;e.data[t+(i>>EC)]|=s}function ud(t,e){let n=wC(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,Vg(r.data,t),Vg(e,null),Vg(r.blueprint,null));let i=b0(t,e),s=t.injectorIndex;if(yC(i)){let o=od(i),a=ad(i,e),c=a[de].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Vg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function b0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bC(i),r===null)return bo;if(n++,i=i[Fo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return bo}function um(t,e,n){eF(t,e,n)}function IC(t,e,n){if(n&we.Optional||t!==void 0)return t;l0(e,"NodeInjector")}function xC(t,e,n,r){if(n&we.Optional&&r===void 0&&(r=null),!(n&(we.Self|we.Host))){let i=t[No],s=Zt(void 0);try{return i?i.get(e,r,n&we.Optional):RD(e,r,n&we.Optional)}finally{Zt(s)}}return IC(r,e,n)}function DC(t,e,n,r=we.Default,i){if(t!==null){if(e[se]&2048&&!(r&we.Self)){let o=iF(t,e,n,r,$n);if(o!==$n)return o}let s=CC(t,e,n,r,$n);if(s!==$n)return s}return xC(e,n,r,i)}function CC(t,e,n,r,i){let s=nF(n);if(typeof s=="function"){if(!dC(e,t,r))return r&we.Host?IC(i,n,r):xC(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&we.Optional))l0(n);else return o}finally{gC()}}else if(typeof s=="number"){let o=null,a=wC(t,e),c=bo,l=r&we.Host?e[mn][un]:null;for((a===-1||r&we.SkipSelf)&&(c=a===-1?b0(t,e):e[a+8],c===bo||!Gx(r,!1)?a=-1:(o=e[de],a=od(c),e=ad(c,e)));a!==-1;){let d=e[de];if(zx(s,a,d.data)){let h=tF(a,e,n,o,r,l);if(h!==$n)return h}c=e[a+8],c!==bo&&Gx(r,e[de].data[a+8]===l)&&zx(s,a,e)?(o=d,a=od(c),e=ad(c,e)):a=-1}}return i}function tF(t,e,n,r,i,s){let o=e[de],a=o.data[t+8],c=r==null?Nd(a)&&cm:r!=o&&(a.type&3)!==0,l=i&we.Host&&s===a,d=Xl(a,o,n,c,l);return d!==null?ps(e,o,d,a):$n}function Xl(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,d=s>>20,h=r?a:a+d,p=i?a+d:l;for(let m=h;m<p;m++){let v=o[m];if(m<c&&n===v||m>=c&&v.type===n)return m}if(i){let m=o[c];if(m&&Er(m)&&m.type===n)return c}return null}function ps(t,e,n,r){let i=t[n],s=e.data;if(KO(i)){let o=i;o.resolving&&bk(Ck(s[n]));let a=cd(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Zt(o.injectImpl):null,d=dC(t,r,we.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&GO(n,s[n],e)}finally{l!==null&&Zt(l),cd(a),o.resolving=!1,gC()}}return i}function nF(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rc)?t[rc]:void 0;return typeof e=="number"?e>=0?e&_C:rF:e}function zx(t,e,n){let r=1<<t;return!!(n[e+(t>>EC)]&r)}function Gx(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var cs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DC(this._tNode,this._lView,e,Cd(r),n)}};function rF(){return new cs(Gt(),he())}function T0(t){return yc(()=>{let e=t.prototype.constructor,n=e[td]||lm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[td]||lm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function lm(t){return DD(t)?()=>{let e=lm(qt(t));return e&&e()}:us(t)}function iF(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!(o[se]&512);){let a=CC(s,o,n,r|we.Self,$n);if(a!==$n)return a;let c=s.parent;if(!c){let l=o[YD];if(l){let d=l.get(n,$n,r);if(d!==$n)return d}c=bC(o),o=o[Fo]}s=c}return i}function bC(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[un]:null}function Wx(t,e=null,n=null,r){let i=TC(t,e,n,r);return i.resolveInjectorInitializers(),i}function TC(t,e=null,n=null,r,i=new Set){let s=[n||en,iO(t)];return r=r||(typeof t=="object"?void 0:zt(t)),new ac(s,e||p0(),r||null,i)}var _t=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Wx({name:""},i,r,"");{let s=r.name??"";return Wx({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=sc,e.NULL=new id,e.\u0275prov=Y({token:e,providedIn:"any",factory:()=>X(MD)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var sF="ngOriginalError";function Ug(t){return t[sF]}var zn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ug(e);for(;n&&Ug(n);)n=Ug(n);return n||null}},AC=new Z("",{providedIn:"root",factory:()=>z(zn).handleError.bind(void 0)}),A0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oF,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),dm=class extends A0{constructor(e){super(),this._lView=e}onDestroy(e){return iC(this._lView,e),()=>RO(this._lView,e)}};function oF(){return new dm(he())}function aF(){return Lo(Gt(),he())}function Lo(t,e){return new Dr(vn(t,e))}var Dr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=aF;let t=e;return t})();function cF(t){return t instanceof Dr?t.nativeElement:t}var hm=class extends $t{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,QD()&&(this.destroyRef=z(A0,{optional:!0})??void 0)}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=jg(s),i&&(i=jg(i)),o&&(o=jg(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof rt&&e.add(a),a}};function jg(t){return e=>{setTimeout(t,void 0,e)}}var kt=hm;function uF(){return this._results[Symbol.iterator]()}var fm=class t{get changes(){return this._changes??=new kt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=uF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Lk(e);(this._changesDetected=!Fk(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function SC(t){return(t.flags&128)===128}var RC=new Map,lF=0;function dF(){return lF++}function hF(t){RC.set(t[Rd],t)}function fF(t){RC.delete(t[Rd])}var Kx="__ngContext__";function fi(t,e){as(e)?(t[Kx]=e[Rd],hF(e)):t[Kx]=e}function NC(t){return MC(t[uc])}function PC(t){return MC(t[Tn])}function MC(t){for(;t!==null&&!xr(t);)t=t[Tn];return t}var pm;function kC(t){pm=t}function OC(){if(pm!==void 0)return pm;if(typeof document<"u")return document;throw new Q(210,!1)}var Vd=new Z("",{providedIn:"root",factory:()=>pF}),pF="ng",S0=new Z(""),Qn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var YY=new Z(""),R0=new Z("",{providedIn:"root",factory:()=>OC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gF="h",mF="b";var vF=()=>null;function N0(t,e,n=!1){return vF(t,e,n)}var FC=!1,yF=new Z("",{providedIn:"root",factory:()=>FC});var Hl;function _F(){if(Hl===void 0&&(Hl=null,it.trustedTypes))try{Hl=it.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hl}function Ud(t){return _F()?.createHTML(t)||t}var ql;function EF(){if(ql===void 0&&(ql=null,it.trustedTypes))try{ql=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ql}function Qx(t){return EF()?.createHTML(t)||t}var wr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wD})`}},gm=class extends wr{getTypeName(){return"HTML"}},mm=class extends wr{getTypeName(){return"Style"}},vm=class extends wr{getTypeName(){return"Script"}},ym=class extends wr{getTypeName(){return"URL"}},_m=class extends wr{getTypeName(){return"ResourceURL"}};function Sn(t){return t instanceof wr?t.changingThisBreaksApplicationSecurity:t}function _i(t,e){let n=wF(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${wD})`)}return n===e}function wF(t){return t instanceof wr&&t.getTypeName()||null}function LC(t){return new gm(t)}function BC(t){return new mm(t)}function VC(t){return new vm(t)}function UC(t){return new ym(t)}function jC(t){return new _m(t)}function IF(t){let e=new wm(t);return xF()?new Em(e):e}var Em=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ud(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},wm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ud(e),n}};function xF(){try{return!!new window.DOMParser().parseFromString(Ud(""),"text/html")}catch{return!1}}var DF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jd(t){return t=String(t),t.match(DF)?t:"unsafe:"+t}function Cr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function xc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var $C=Cr("area,br,col,hr,img,wbr"),HC=Cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qC=Cr("rp,rt"),CF=xc(qC,HC),bF=xc(HC,Cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),TF=xc(qC,Cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yx=xc($C,bF,TF,CF),zC=Cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AF=Cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),SF=Cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),RF=xc(zC,AF,SF),NF=Cr("script,style,template"),Im=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=kF(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=MF(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Jx(e).toLowerCase();if(!Yx.hasOwnProperty(n))return this.sanitizedSomething=!0,!NF.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!RF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;zC[a]&&(c=jd(c)),this.buf.push(" ",o,'="',Xx(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Jx(e).toLowerCase();Yx.hasOwnProperty(n)&&!$C.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Xx(e))}};function PF(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function MF(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw GC(e);return e}function kF(t){let e=t.firstChild;if(e&&PF(t,e))throw GC(e);return e}function Jx(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function GC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var OF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FF=/([^\#-~ |!])/g;function Xx(t){return t.replace(/&/g,"&amp;").replace(OF,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(FF,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zl;function P0(t,e){let n=null;try{zl=zl||IF(t);let r=e?String(e):"";n=zl.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=zl.getInertBodyElement(r)}while(r!==s);let a=new Im().sanitizeChildren(Zx(n)||n);return Ud(a)}finally{if(n){let r=Zx(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Zx(t){return"content"in t&&LF(t)?t.content:null}function LF(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Yn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yn||{});function JY(t){let e=WC();return e?Qx(e.sanitize(Yn.HTML,t)||""):_i(t,"HTML")?Qx(Sn(t)):P0(OC(),_c(t))}function XY(t){let e=WC();return e?e.sanitize(Yn.URL,t)||"":_i(t,"URL")?Sn(t):jd(_c(t))}function WC(){let t=he();return t&&t[An].sanitizer}var BF=/^>|^->|<!--|-->|--!>|<!-$/g,VF=/(<|>)/g,UF="\u200B$1\u200B";function jF(t){return t.replace(BF,e=>e.replace(VF,UF))}function KC(t){return t instanceof Function?t():t}function $F(t){return(t??z(_t)).get(Qn)==="browser"}var Gn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gn||{}),HF;function M0(t,e){return HF(t,e)}function xo(t,e,n,r,i){if(r!=null){let s,o=!1;xr(r)?s=r:as(r)&&(o=!0,r=r[Kn]);let a=qn(r);t===0&&n!==null?i==null?ZC(e,n,a):ld(e,n,a,i||null,!0):t===1&&n!==null?ld(e,n,a,i||null,!0):t===2?s2(e,a,o):t===3&&e.destroyNode(a),s!=null&&a2(e,t,s,n,i)}}function qF(t,e){return t.createText(e)}function zF(t,e,n){t.setValue(e,n)}function GF(t,e){return t.createComment(jF(e))}function QC(t,e,n){return t.createElement(e,n)}function WF(t,e){YC(t,e),e[Kn]=null,e[un]=null}function KF(t,e,n,r,i,s){r[Kn]=i,r[un]=e,qd(t,r,n,1,i,s)}function YC(t,e){e[An].changeDetectionScheduler?.notify(1),qd(t,e,e[ze],2,null,null)}function QF(t){let e=t[uc];if(!e)return $g(t[de],t);for(;e;){let n=null;if(as(e))n=e[uc];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)as(e)&&$g(e[de],e),e=e[Tt];e===null&&(e=t),as(e)&&$g(e[de],e),n=e&&e[Tn]}e=n}}function YF(t,e,n,r){let i=Ft+r,s=n.length;r>0&&(n[i-1][Tn]=e),r<s-Ft?(e[Tn]=n[i],PD(n,Ft+r,e)):(n.push(e),e[Tn]=null),e[Tt]=n;let o=e[wc];o!==null&&n!==o&&JF(o,e);let a=e[_r];a!==null&&a.insertView(t),om(e),e[se]|=128}function JF(t,e){let n=t[Po],i=e[Tt][Tt][mn];e[mn]!==i&&(t[se]|=m0.HasTransplantedViews),n===null?t[Po]=[e]:n.push(e)}function JC(t,e){let n=t[Po],r=n.indexOf(e);n.splice(r,1)}function hc(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[wc];i!==null&&i!==t&&JC(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let s=rd(t,Ft+e);WF(r[de],r);let o=s[_r];o!==null&&o.detachView(s[de]),r[Tt]=null,r[Tn]=null,r[se]&=-129}return r}function $d(t,e){if(!(e[se]&256)){let n=e[ze];n.destroyNode&&qd(t,e,n,3,null,null),QF(e)}}function $g(t,e){if(e[se]&256)return;let n=xe(null);try{e[se]&=-129,e[se]|=256,e[ls]&&GI(e[ls]),ZF(t,e),XF(t,e),e[de].type===1&&e[ze].destroy();let r=e[wc];if(r!==null&&xr(e[Tt])){r!==e[Tt]&&JC(r,e);let i=e[_r];i!==null&&i.detachView(t)}fF(e)}finally{xe(n)}}function XF(t,e){let n=t.cleanup,r=e[cc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[cc]=null);let i=e[di];if(i!==null){e[di]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function ZF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];jn(4,a,c);try{c.call(a)}finally{jn(5,a,c)}}else{jn(4,i,s);try{s.call(i)}finally{jn(5,i,s)}}}}}function XC(t,e,n){return e2(t,e.parent,n)}function e2(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Kn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Hn.None||s===Hn.Emulated)return null}return vn(r,n)}}function ld(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZC(t,e,n){t.appendChild(e,n)}function eD(t,e,n,r,i){r!==null?ld(t,e,n,r,i):ZC(t,e,n)}function t2(t,e,n,r){t.removeChild(e,n,r)}function k0(t,e){return t.parentNode(e)}function n2(t,e){return t.nextSibling(e)}function eb(t,e,n){return i2(t,e,n)}function r2(t,e,n){return t.type&40?vn(t,n):null}var i2=r2,tD;function Hd(t,e,n,r){let i=XC(t,r,e),s=e[ze],o=r.parent||e[un],a=eb(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)eD(s,i,n[c],a,!1);else eD(s,i,n,a,!1);tD!==void 0&&tD(s,r,e,n,i)}function Zl(t,e){if(e!==null){let n=e.type;if(n&3)return vn(e,t);if(n&4)return xm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zl(t,r);{let i=t[e.index];return xr(i)?xm(-1,i):qn(i)}}else{if(n&32)return M0(e,t)()||qn(t[e.index]);{let r=tb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=dc(t[mn]);return Zl(i,r)}else return Zl(t,e.next)}}}return null}function tb(t,e){if(e!==null){let r=t[mn][un],i=e.projection;return r.projection[i]}return null}function xm(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return Zl(r,i)}return e[ds]}function s2(t,e,n){let r=k0(t,e);r&&t2(t,r,e,n)}function O0(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&fi(qn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)O0(t,e,n.child,r,i,s,!1),xo(e,t,i,a,s);else if(c&32){let l=M0(n,r),d;for(;d=l();)xo(e,t,i,d,s);xo(e,t,i,a,s)}else c&16?nb(t,e,r,n,i,s):xo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qd(t,e,n,r,i,s){O0(n,r,t.firstChild,e,i,s,!1)}function o2(t,e,n){let r=e[ze],i=XC(t,n,e),s=n.parent||e[un],o=eb(s,n,e);nb(r,0,e,n,i,o)}function nb(t,e,n,r,i,s){let o=n[mn],c=o[un].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];xo(e,t,i,d,s)}else{let l=c,d=o[Tt];SC(r)&&(l.flags|=128),O0(t,e,l,d,i,s,!0)}}function a2(t,e,n,r,i){let s=n[ds],o=qn(n);s!==o&&xo(e,t,r,s,i);for(let a=Ft;a<n.length;a++){let c=n[a];qd(c[de],c,t,e,r,s)}}function c2(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Gn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gn.Important),t.setStyle(n,r,i,s))}}function u2(t,e,n){t.setAttribute(e,"style",n)}function rb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ib(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&tm(t,e,r),i!==null&&rb(t,e,i),s!==null&&u2(t,e,s)}var br={};function ZY(t=1){sb(Ye(),he(),yi()+t,!1)}function sb(t,e,n,r){if(!r)if((e[se]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Yl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Jl(e,s,0,n)}hs(n)}function ct(t,e=we.Default){let n=he();if(n===null)return X(t,e);let r=Gt();return DC(r,n,qt(t),e)}function ob(){let t="invalid";throw new Error(t)}function ab(t,e,n,r,i,s){let o=xe(null);try{let a=null;i&yr.SignalBased&&(a=e[r][Zi]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&yr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):JD(e,a,r,s)}finally{xe(o)}}function l2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hs(~i);else{let s=i,o=n[++r],a=n[++r];UO(o,s);let c=e[s];a(2,c)}}}finally{hs(-1)}}function zd(t,e,n,r,i,s,o,a,c,l,d){let h=e.blueprint.slice();return h[Kn]=i,h[se]=r|4|128|8|64,(l!==null||t&&t[se]&2048)&&(h[se]|=2048),rC(h),h[Tt]=h[Fo]=t,h[Ot]=n,h[An]=o||t&&t[An],h[ze]=a||t&&t[ze],h[No]=c||t&&t[No]||null,h[un]=s,h[Rd]=dF(),h[Ro]=d,h[YD]=l,h[mn]=e.type==2?t[mn]:h,h}function Bo(t,e,n,r,i){let s=t.data[e];if(s===null)s=d2(t,e,n,r,i),VO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=FO();s.injectorIndex=o===null?-1:o.injectorIndex}return ws(s,!0),s}function d2(t,e,n,r,i){let s=aC(),o=w0(),a=o?s:s&&s.parent,c=t.data[e]=v2(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function cb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ub(t,e,n,r,i){let s=yi(),o=r&2;try{hs(-1),o&&e.length>yt&&sb(t,e,yt,!1),jn(o?2:0,i),n(r,i)}finally{hs(s),jn(o?3:1,i)}}function F0(t,e,n){if(v0(e)){let r=xe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{xe(r)}}}function L0(t,e,n){sC()&&(x2(t,e,n,vn(n,e)),(n.flags&64)===64&&hb(t,e,n))}function B0(t,e,n=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function lb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=V0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function V0(t,e,n,r,i,s,o,a,c,l,d){let h=yt+r,p=h+i,m=h2(h,p),v=typeof l=="function"?l():l;return m[de]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function h2(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:br);return n}function f2(t,e,n,r){let s=r.get(yF,FC)||n===Hn.ShadowDom,o=t.selectRootElement(e,s);return p2(o),o}function p2(t){g2(t)}var g2=()=>null;function m2(t,e,n,r){let i=gb(e);i.push(n),t.firstCreatePass&&mb(t).push(r,i.length-1)}function v2(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return oC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nD(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=yr.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?rD(r,n,l,a,c):rD(r,n,l,a)}return r}function rD(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function y2(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let d=r;d<i;d++){let h=s[d],p=n?n.get(h):null,m=p?p.inputs:null,v=p?p.outputs:null;c=nD(0,h.inputs,d,c,m),l=nD(1,h.outputs,d,l,v);let b=c!==null&&o!==null&&!h0(e)?k2(c,d,o):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gd(t,e,n,r,i,s,o,a){let c=vn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(j0(t,n,d,r,i),Nd(e)&&E2(n,e.index)):e.type&3?(r=_2(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function E2(t,e){let n=mi(e,t);n[se]&16||(n[se]|=64)}function U0(t,e,n,r){if(sC()){let i=r===null?null:{"":-1},s=C2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&db(t,e,n,o,i,a),i&&b2(n,r,i)}n.mergedAttrs=oc(n.mergedAttrs,n.attrs)}function db(t,e,n,r,i,s){for(let l=0;l<r.length;l++)um(ud(n,e),t,r[l].type);A2(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=cb(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=oc(n.mergedAttrs,d.hostAttrs),S2(t,n,e,c,d),T2(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}y2(t,n,s)}function w2(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;I2(o)!=a&&o.push(a),o.push(n,r,s)}}function I2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function x2(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Nd(n)&&R2(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ud(n,e),fi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=ps(e,t,a,n);if(fi(l,e),o!==null&&M2(e,a-i,l,c,n,o),Er(c)){let d=mi(n.index,e);d[Ot]=ps(e,t,a,n)}}}function hb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=jO();try{hs(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];am(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&D2(c,l)}}finally{hs(-1),am(o)}}function D2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function C2(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(LD(e,o.selectors,!1))if(r||(r=[]),Er(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Dm(t,e,c)}else r.unshift(o),Dm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Dm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function b2(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function T2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function A2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function S2(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=us(i.type,!0)),o=new fs(s,Er(i),ct);t.blueprint[r]=o,n[r]=o,w2(t,e,r,cb(t,n,i.hostVars,br),i)}function R2(t,e,n){let r=vn(e,t),i=lb(n),s=t[An].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Wd(t,zd(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function N2(t,e,n,r,i,s){let o=vn(t,e);P2(e[ze],o,s,t.value,n,r,i)}function P2(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?_c(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function M2(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],d=o[a++],h=o[a++];ab(r,n,c,l,d,h)}}function k2(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function fb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pb(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];x0(s),a.contentQueries(2,e[o],o)}}}finally{xe(r)}}}function Wd(t,e){return t[uc]?t[$x][Tn]=e:t[uc]=e,t[$x]=e,e}function Cm(t,e,n){x0(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function gb(t){return t[cc]||(t[cc]=[])}function mb(t){return t.cleanup||(t.cleanup=[])}function O2(t,e,n){return(t===null||Er(t))&&(n=CO(n[e.index])),n[ze]}function vb(t,e){let n=t[No],r=n?n.get(zn,null):null;r&&r.handleError(e)}function j0(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],d=t.data[o];ab(d,l,r,a,c,i)}}function F2(t,e,n){let r=nC(e,t);zF(t[ze],r,n)}function L2(t,e){let n=mi(e,t),r=n[de];B2(r,n);let i=n[Kn];i!==null&&n[Ro]===null&&(n[Ro]=N0(i,n[No])),$0(r,n,n[Ot])}function B2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function $0(t,e,n){D0(e);try{let r=t.viewQuery;r!==null&&Cm(1,r,n);let i=t.template;i!==null&&ub(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_r]?.finishViewCreation(t),t.staticContentQueries&&pb(t,e),t.staticViewQueries&&Cm(2,t.viewQuery,n);let s=t.components;s!==null&&V2(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,C0()}}function V2(t,e){for(let n=0;n<e.length;n++)L2(t,e[n])}function Kd(t,e,n,r){let i=xe(null);try{let s=e.tView,a=t[se]&4096?4096:16,c=zd(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[wc]=l;let d=t[_r];return d!==null&&(c[_r]=d.createEmbeddedView(s)),$0(s,c,n),c}finally{xe(i)}}function yb(t,e){let n=Ft+e;if(n<t.length)return t[n]}function fc(t,e){return!e||e.firstChild===null||SC(t)}function Qd(t,e,n,r=!0){let i=e[de];if(YF(i,e,t,n),r){let o=xm(n,t),a=e[ze],c=k0(a,t[ds]);c!==null&&KF(i,t[un],a,e,c,o)}let s=e[Ro];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _b(t,e){let n=hc(t,e);return n!==void 0&&$d(n[de],n),n}function dd(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(qn(s)),xr(s)&&U2(s,r);let o=n.type;if(o&8)dd(t,e,n.child,r);else if(o&32){let a=M0(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=tb(e,n);if(Array.isArray(a))r.push(...a);else{let c=dc(e[mn]);dd(c[de],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function U2(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&dd(r[de],r,i,e)}t[ds]!==t[Kn]&&e.push(t[ds])}var Eb=[];function j2(t){return t[ls]??$2(t)}function $2(t){let e=Eb.pop()??Object.create(q2);return e.lView=t,e}function H2(t){t.lView[ls]!==t&&(t.lView=null,Eb.push(t))}var q2=Qe(K({},fg),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{lc(t.lView)},consumerOnSignalRead(){this.lView[ls]=this}}),wb=100;function Ib(t,e=!0,n=0){let r=t[An],i=r.rendererFactory,s=!1;s||i.begin?.();try{z2(t,n)}catch(o){throw e&&vb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function z2(t,e){bm(t,e);let n=0;for(;E0(t);){if(n===wb)throw new Q(103,!1);n++,bm(t,1)}}function G2(t,e,n,r){let i=e[se];if((i&256)===256)return;let s=!1;!s&&e[An].inlineEffectRunner?.flush(),D0(e);let o=null,a=null;!s&&W2(t)&&(a=j2(e),o=qI(a));try{rC(e),BO(t.bindingStartIndex),n!==null&&ub(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&Yl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Jl(e,h,0,null),Bg(e,0)}if(K2(e),xb(e,0),t.contentQueries!==null&&pb(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&Yl(e,h)}else{let h=t.contentHooks;h!==null&&Jl(e,h,1),Bg(e,1)}l2(t,e);let l=t.components;l!==null&&Cb(e,l,0);let d=t.viewQuery;if(d!==null&&Cm(2,d,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&Yl(e,h)}else{let h=t.viewHooks;h!==null&&Jl(e,h,2),Bg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Lg]){for(let h of e[Lg])h();e[Lg]=null}s||(e[se]&=-73)}catch(c){throw lc(e),c}finally{a!==null&&(zI(a,o),H2(a)),C0()}}function W2(t){return t.type!==2}function xb(t,e){for(let n=NC(t);n!==null;n=PC(n))for(let r=Ft;r<n.length;r++){let i=n[r];Db(i,e)}}function K2(t){for(let e=NC(t);e!==null;e=PC(e)){if(!(e[se]&m0.HasTransplantedViews))continue;let n=e[Po];for(let r=0;r<n.length;r++){let i=n[r],s=i[Tt];AO(i)}}}function Q2(t,e,n){let r=mi(e,t);Db(r,n)}function Db(t,e){_0(t)&&bm(t,e)}function bm(t,e){let r=t[de],i=t[se],s=t[ls],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&pg(s)),s&&(s.dirty=!1),t[se]&=-9217,o)G2(r,t,r.template,t[Ot]);else if(i&8192){xb(t,1);let a=r.components;a!==null&&Cb(t,a,1)}}function Cb(t,e,n){for(let r=0;r<e.length;r++)Q2(t,e[r],n)}function H0(t){for(t[An].changeDetectionScheduler?.notify();t;){t[se]|=64;let e=dc(t);if(yO(t)&&!e)return t;t=e}return null}var gs=class{get rootNodes(){let e=this._lView,n=e[de];return dd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(e){this._lView[Ot]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(xr(e)){let n=e[sd],r=n?n.indexOf(this):-1;r>-1&&(hc(e,r),rd(n,r))}this._attachedToViewContainer=!1}$d(this._lView[de],this._lView)}onDestroy(e){iC(this._lView,e)}markForCheck(){H0(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){om(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,Ib(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,YC(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e,om(this._lView)}},ms=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=X2;let t=e;return t})(),Y2=ms,J2=class extends Y2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Kd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gs(i)}};function X2(){return Yd(Gt(),he())}function Yd(t,e){return t.type&4?new J2(e,t,Lo(t,e)):null}var tJ=new RegExp(`^(\\d+)*(${mF}|${gF})*(.*)`);var Z2=()=>null;function pc(t,e){return Z2(t,e)}var hd=class{},Tm=class{},fd=class{};function eL(t){let e=Error(`No component factory found for ${zt(t)}.`);return e[tL]=t,e}var tL="ngComponent";var Am=class{resolveComponentFactory(e){throw eL(e)}},Jd=(()=>{let e=class e{};e.NULL=new Am;let t=e;return t})(),gc=class{},Dc=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>nL();let t=e;return t})();function nL(){let t=he(),e=Gt(),n=mi(e.index,t);return(as(n)?n:t)[ze]}var rL=(()=>{let e=class e{};e.\u0275prov=Y({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Hg={};var iD=new Set;function Vo(t){iD.has(t)||(iD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function sD(...t){}function iL(){let t=typeof it.requestAnimationFrame=="function",e=it[t?"requestAnimationFrame":"setTimeout"],n=it[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kt(!1),this.onMicrotaskEmpty=new kt(!1),this.onStable=new kt(!1),this.onError=new kt(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=iL().nativeRequestAnimationFrame,aL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,sL,sD,sD);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},sL={};function q0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(it,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sm(t),t.isCheckStableRunning=!0,q0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sm(t))}function aL(t){let e=()=>{oL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(cL(a))return n.invokeTask(i,s,o,a);try{return oD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aD(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return oD(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),aD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Sm(t),q0(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Sm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function oD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aD(t){t._nesting--,q0(t)}var Rm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kt,this.onMicrotaskEmpty=new kt,this.onStable=new kt,this.onError=new kt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cL(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function uL(t="zone.js",e){return t==="noop"?new Rm:t==="zone.js"?new De(e):t}var Do=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Do||{}),lL={destroy(){}};function Xd(t,e){!e&&gO(Xd);let n=e?.injector??z(_t);if(!$F(n))return lL;Vo("NgAfterNextRender");let r=n.get(z0),i=r.handler??=new Pm,s=e?.phase??Do.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(A0).onDestroy(o),c=Ir(n,()=>new Nm(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Nm=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=z(De),this.errorHandler=z(zn,{optional:!0}),z(hd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Pm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Do.EarlyRead]:new Set,[Do.Write]:new Set,[Do.MixedReadWrite]:new Set,[Do.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},z0=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Y({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function pd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Jg(i,a);else if(s==2){let c=a,l=e[++o];r=Jg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gd=class extends Jd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hi(e);return new ko(n,this.ngModule)}};function cD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function dL(t){let e=t.toLowerCase();return e==="svg"?tC:e==="math"?IO:null}var Mm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cd(r);let i=this.injector.get(e,Hg,r);return i!==Hg||n===Hg?i:this.parentInjector.get(e,n,r)}},ko=class extends fd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=cD(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Zk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=xe(null);try{i=i||this.ngModule;let o=i instanceof tn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Mm(e,o):e,c=a.get(gc,null);if(c===null)throw new Q(407,!1);let l=a.get(rL,null),d=a.get(z0,null),h=a.get(hd,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},m=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=r?f2(m,r,this.componentDef.encapsulation,a):QC(m,v,dL(v)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let y=null;b!==null&&(y=N0(b,a,!0));let x=V0(0,null,null,1,0,null,null,null,null,null,null),N=zd(null,x,null,D,null,null,p,m,a,null,y);D0(N);let P,O;try{let M=this.componentDef,T,_=null;M.findHostDirectiveDefs?(T=[],_=new Map,M.findHostDirectiveDefs(M,T,_),T.push(M)):T=[M];let w=hL(N,b),A=fL(w,b,M,T,N,p,m);O=y0(x,yt),b&&mL(m,M,b,r),n!==void 0&&vL(O,this.ngContentSelectors,n),P=gL(A,M,T,_,N,[yL]),$0(x,N,null)}finally{C0()}return new km(this.componentType,P,Lo(O,N),N,O)}finally{xe(s)}}},km=class extends Tm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;j0(s[de],s,i,e,n),this.previousInputValues.set(e,n);let o=mi(this._tNode.index,s);H0(o)}}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hL(t,e){let n=t[de],r=yt;return t[r]=e,Bo(n,r,2,"#host",null)}function fL(t,e,n,r,i,s,o){let a=i[de];pL(r,t,e,o);let c=null;e!==null&&(c=N0(e,i[No]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=zd(i,lb(n),null,d,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Dm(a,t,r.length-1),Wd(i,h),i[t.index]=h}function pL(t,e,n,r){for(let i of t)e.mergedAttrs=oc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pd(e,e.mergedAttrs,!0),n!==null&&ib(r,n,e))}function gL(t,e,n,r,i,s){let o=Gt(),a=i[de],c=vn(o,i);db(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,p=ps(i,a,h,o);fi(p,i)}hb(a,i,o),c&&fi(c,i);let l=ps(i,a,o.directiveStart+o.componentOffset,o);if(t[Ot]=i[Ot]=l,s!==null)for(let d of s)d(l,e);return F0(a,o,i),l}function mL(t,e,n,r){if(r)tm(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=eO(e.selectors[0]);i&&tm(t,n,i),s&&s.length>0&&rb(t,n,s.join(" "))}}function vL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function yL(){let t=Gt();Bd(he()[de],t)}var Ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_L;let t=e;return t})();function _L(){let t=Gt();return Tb(t,he())}var EL=Ei,bb=class extends EL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Lo(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){let e=b0(this._hostTNode,this._hostLView);if(yC(e)){let n=ad(e,this._hostLView),r=od(e),i=n[de].data[r+8];return new cs(i,n)}else return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=pc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,fc(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!vO(e),a;if(o)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new ko(hi(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let b=(o?l:this.parentInjector).get(tn,null);b&&(s=b)}let d=hi(c.componentType??{}),h=pc(this._lContainer,d?.id??null),p=h?.firstChild??null,m=c.create(l,i,p,s);return this.insertImpl(m.hostView,a,fc(this._hostTNode,h)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Tt],l=new bb(c,c[un],c[Tt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Qd(o,i,s,r),e.attachToViewContainerRef(),PD(qg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hc(this._lContainer,n);r&&(rd(qg(this._lContainer),n),$d(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=hc(this._lContainer,n);return r&&rd(qg(this._lContainer),n)!=null?new gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uD(t){return t[sd]}function qg(t){return t[sd]||(t[sd]=[])}function Tb(t,e){let n,r=e[t.index];return xr(r)?n=r:(n=fb(r,e,null,t),e[t.index]=n,Wd(e,n)),IL(n,e,t,r),new bb(n,t,e)}function wL(t,e){let n=t[ze],r=n.createComment(""),i=vn(e,t),s=k0(n,i);return ld(n,s,r,n2(n,i),!1),r}var IL=CL,xL=()=>!1;function DL(t,e,n){return xL(t,e,n)}function CL(t,e,n,r){if(t[ds])return;let i;n.type&8?i=qn(r):i=wL(e,n),t[ds]=i}var Om=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Fm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)G0(e,n).matches!==null&&this.queries[n].setDirty()}},md=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=ML(e):this.predicate=e}},Lm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Bm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,bL(n,s)),this.matchTNodeWithReadOption(e,n,Xl(n,e,s,!1,!1))}else r===ms?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Dr||i===Ei||i===ms&&n.type&4)this.addMatch(n.index,-2);else{let s=Xl(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function bL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function TL(t,e){return t.type&11?Lo(t,e):t.type&4?Yd(t,e):null}function AL(t,e,n,r){return n===-1?TL(e,t):n===-2?SL(t,e,r):ps(t,t[de],n,e)}function SL(t,e,n){if(n===Dr)return Lo(e,t);if(n===ms)return Yd(e,t);if(n===Ei)return Tb(e,t)}function Ab(t,e,n,r){let i=e[_r].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(AL(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Vm(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Ab(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let h=Ft;h<d.length;h++){let p=d[h];p[wc]===p[Tt]&&Vm(p[de],p,l,r)}if(d[Po]!==null){let h=d[Po];for(let p=0;p<h.length;p++){let m=h[p];Vm(m[de],m,l,r)}}}}}return r}function RL(t,e){return t[_r].queries[e].queryList}function Sb(t,e,n){let r=new fm((n&4)===4);return m2(t,e,r,r.destroy),(e[_r]??=new Fm).queries.push(new Om(r))-1}function NL(t,e,n){let r=Ye();return r.firstCreatePass&&(Rb(r,new md(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Sb(r,he(),e)}function PL(t,e,n,r){let i=Ye();if(i.firstCreatePass){let s=Gt();Rb(i,new md(e,n,r),s.index),kL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Sb(i,he(),n)}function ML(t){return t.split(",").map(e=>e.trim())}function Rb(t,e,n){t.queries===null&&(t.queries=new Lm),t.queries.track(new Bm(e,n))}function kL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function G0(t,e){return t.queries.getByIndex(e)}function OL(t,e){let n=t[de],r=G0(n,e);return r.crossesNgTemplate?Vm(n,t,e,[]):Ab(n,t,r,e)}function FL(t){return typeof t=="function"&&t[Zi]!==void 0}function rJ(t,e){Vo("NgSignals");let n=XI(t),r=n[Zi];return e?.equal&&(r.equal=e.equal),n.set=i=>gg(r,i),n.update=i=>ZI(r,i),n.asReadonly=LL.bind(n),n}function LL(){let t=this[Zi];if(t.readonlyFn===void 0){let e=()=>this();e[Zi]=t,t.readonlyFn=e}return t.readonlyFn}function Nb(t){return FL(t)&&typeof t.set=="function"}function BL(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then($L))}return s}return vd.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((h,p)=>{a.push(""),o.push(r(h).then(m=>{a[l+p]=m,d.splice(d.indexOf(h),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>HL(s));e.push(c)}),UL(),Promise.all(e).then(()=>{})}var vd=new Map,VL=new Set;function UL(){let t=vd;return vd=new Map,t}function jL(){return vd.size===0}function $L(t){return typeof t=="string"?t:t.text()}function HL(t){VL.delete(t)}function qL(t){return Object.getPrototypeOf(t.prototype).constructor}function zL(t){let e=qL(t.type),n=!0,r=[t];for(;e;){let i;if(Er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Gl(t.inputs),o.inputTransforms=Gl(t.inputTransforms),o.declaredInputs=Gl(t.declaredInputs),o.outputs=Gl(t.outputs);let a=i.hostBindings;a&&YL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&KL(t,c),l&&QL(t,l),GL(t,i),vk(t.outputs,i.outputs),Er(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zL&&(n=!1)}}e=Object.getPrototypeOf(e)}WL(r)}function GL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function WL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oc(i.hostAttrs,n=oc(n,i.hostAttrs))}}function Gl(t){return t===To?{}:t===en?[]:t}function KL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function QL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function YL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Pb(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var pi=class{},mc=class{};var yd=class extends pi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gd(this);let i=$D(e);this._bootstrapComponents=KC(i.bootstrap),this._r3Injector=TC(e,n,[{provide:pi,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_d=class extends mc{constructor(e){super(),this.moduleType=e}create(e){return new yd(this.moduleType,e,[])}};function JL(t,e,n){return new yd(t,e,n)}var Um=class extends pi{constructor(e){super(),this.componentFactoryResolver=new gd(this),this.instance=null;let n=new ac([...e.providers,{provide:pi,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver}],e.parent||p0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zd(t,e,n=null){return new Um({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var eh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mb(t){return W0(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function XL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function W0(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function K0(t,e,n){return t[e]=n}function nn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function kb(t,e,n,r){let i=nn(t,e,n);return nn(t,e+1,r)||i}function ZL(t,e,n,r,i){let s=kb(t,e,n,r);return nn(t,e+2,i)||s}function e4(t){return(t.flags&32)===32}function t4(t,e,n,r,i,s,o,a,c){let l=e.consts,d=Bo(e,t,4,o||null,Mo(l,a));U0(e,n,d,Mo(l,c)),Bd(e,d);let h=d.tView=V0(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function jm(t,e,n,r,i,s,o,a){let c=he(),l=Ye(),d=t+yt,h=l.firstCreatePass?t4(d,l,c,e,n,r,i,s,o):l.data[d];ws(h,!1);let p=n4(l,c,h,t);Fd()&&Hd(l,c,p,h),fi(p,c);let m=fb(p,c,p,h);return c[d]=m,Wd(c,m),DL(m,h,c),Pd(h)&&L0(l,c,h),o!=null&&B0(c,h,a),jm}var n4=r4;function r4(t,e,n,r){return Ld(!0),e[ze].createComment("")}function Ob(t,e,n,r){let i=he(),s=vi();if(nn(i,s,e)){let o=Ye(),a=Ic();N2(a,i,t,e,n,r)}return Ob}function Fb(t,e,n,r){return nn(t,vi(),n)?e+_c(n)+r:br}function Wl(t,e){return t<<17|e<<2}function vs(t){return t>>17&32767}function i4(t){return(t&2)==2}function s4(t,e){return t&131071|e<<17}function $m(t){return t|2}function Oo(t){return(t&131068)>>2}function zg(t,e){return t&-131069|e<<2}function o4(t){return(t&1)===1}function Hm(t){return t|1}function a4(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vs(o),c=Oo(o);t[r]=n;let l=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||Ec(h,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let p=vs(t[a+1]);t[r+1]=Wl(p,a),p!==0&&(t[p+1]=zg(t[p+1],r)),t[a+1]=s4(t[a+1],r)}else t[r+1]=Wl(a,0),a!==0&&(t[a+1]=zg(t[a+1],r)),a=r;else t[r+1]=Wl(c,0),a===0?a=r:t[c+1]=zg(t[c+1],r),c=r;l&&(t[r+1]=$m(t[r+1])),lD(t,d,r,!0),lD(t,d,r,!1),c4(e,d,t,r,s),o=Wl(a,c),s?e.classBindings=o:e.styleBindings=o}function c4(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ec(s,e)>=0&&(n[r+1]=Hm(n[r+1]))}function lD(t,e,n,r){let i=t[n+1],s=e===null,o=r?vs(i):Oo(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];u4(c,e)&&(a=!0,t[o+1]=r?Hm(l):$m(l)),o=r?vs(l):Oo(l)}a&&(t[n+1]=r?$m(i):Hm(i))}function u4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ec(t,e)>=0:!1}var bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function l4(t){return t.substring(bn.key,bn.keyEnd)}function d4(t){return h4(t),Lb(t,Bb(t,0,bn.textEnd))}function Lb(t,e){let n=bn.textEnd;return n===e?-1:(e=bn.keyEnd=f4(t,bn.key=e,n),Bb(t,e,n))}function h4(t){bn.key=0,bn.keyEnd=0,bn.value=0,bn.valueEnd=0,bn.textEnd=t.length}function Bb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function f4(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function p4(t,e,n){let r=he(),i=vi();if(nn(r,i,e)){let s=Ye(),o=Ic();Gd(s,o,r,t,e,r[ze],n,!1)}return p4}function qm(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";j0(t,n,s[o],o,r)}function Vb(t,e,n){return jb(t,e,n,!1),Vb}function g4(t,e){return jb(t,e,null,!0),g4}function iJ(t){$b(w4,Ub,t,!0)}function Ub(t,e){for(let n=d4(e);n>=0;n=Lb(e,n))Td(t,l4(e),!0)}function jb(t,e,n,r){let i=he(),s=Ye(),o=cC(2);if(s.firstUpdatePass&&qb(s,t,o,r),e!==br&&nn(i,o,e)){let a=s.data[yi()];zb(s,a,i,i[ze],t,i[o+1]=x4(e,n),r,o)}}function $b(t,e,n,r){let i=Ye(),s=cC(2);i.firstUpdatePass&&qb(i,null,s,r);let o=he();if(n!==br&&nn(o,s,n)){let a=i.data[yi()];if(Gb(a,r)&&!Hb(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Jg(c,n||"")),qm(i,a,o,n,r)}else I4(i,a,o,o[ze],o[s+1],o[s+1]=E4(t,e,n),r,s)}}function Hb(t,e){return e>=t.expandoStartIndex}function qb(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[yi()],o=Hb(t,n);Gb(s,r)&&e===null&&!o&&(e=!1),e=m4(i,s,e,r),a4(i,s,e,n,o,r)}}function m4(t,e,n,r){let i=uC(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gg(null,t,e,n,r),n=vc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Gg(i,t,e,n,r),s===null){let c=v4(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Gg(null,t,e,c[1],r),c=vc(c,e.attrs,r),y4(t,e,r,c))}else s=_4(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function v4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Oo(r)!==0)return t[vs(r)]}function y4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vs(i)]=r}function _4(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=vc(r,o,n)}return vc(r,e.attrs,n)}function Gg(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=vc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function vc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Td(t,o,n?!0:e[++s]))}return t===void 0?null:t}function E4(t,e,n){if(n==null||n==="")return en;let r=[],i=Sn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function w4(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Td(t,r,n)}function I4(t,e,n,r,i,s,o,a){i===br&&(i=en);let c=0,l=0,d=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let p=c<i.length?i[c+1]:void 0,m=l<s.length?s[l+1]:void 0,v=null,b;d===h?(c+=2,l+=2,p!==m&&(v=h,b=m)):h===null||d!==null&&d<h?(c+=2,v=d):(l+=2,v=h,b=m),v!==null&&zb(t,e,n,r,v,b,o,a),d=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}function zb(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=o4(l)?dD(c,e,n,i,Oo(l),o):void 0;if(!Ed(d)){Ed(s)||i4(l)&&(s=dD(c,null,n,i,a,o));let h=nC(yi(),n);c2(r,o,h,i,s)}}function dD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),d=l?c[1]:c,h=d===null,p=n[i+1];p===br&&(p=h?en:void 0);let m=h?Og(p,r):d===r?p:void 0;if(l&&!Ed(m)&&(m=Og(c,r)),Ed(m)&&(a=m,o))return a;let v=t[i+1];i=o?vs(v):Oo(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Og(c,r))}return a}function Ed(t){return t!==void 0}function x4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=zt(Sn(t)))),t}function Gb(t,e){return(t.flags&(e?8:16))!==0}function sJ(t,e,n){let r=he(),i=Fb(r,t,e,n);$b(Td,Ub,i,!0)}var zm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Wg(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function D4(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),l=e[s],d=Wg(s,c,s,l,n);if(d!==0){d<0&&t.updateValue(s,l),s++;continue}let h=t.at(o),p=e[a],m=Wg(o,h,a,p,n);if(m!==0){m<0&&t.updateValue(o,p),o--,a--;continue}let v=n(s,c),b=n(o,h),D=n(s,l);if(Object.is(D,b)){let y=n(a,p);Object.is(y,v)?(t.swap(s,o),t.updateValue(o,p),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new wd,i??=fD(t,s,o,n),Gm(t,r,s,D))t.updateValue(s,l),s++,o++;else if(i.has(D))r.set(v,t.detach(s)),o--;else{let y=t.create(s,e[s]);t.attach(s,y),s++,o++}}for(;s<=a;)hD(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let l=t.at(s),d=c.value,h=Wg(s,l,s,d,n);if(h!==0)h<0&&t.updateValue(s,d),s++,c=a.next();else{r??=new wd,i??=fD(t,s,o,n);let p=n(s,d);if(Gm(t,r,s,p))t.updateValue(s,d),s++,o++,c=a.next();else if(!i.has(p))t.attach(s,t.create(s,d)),s++,o++,c=a.next();else{let m=n(s,l);r.set(m,t.detach(s)),o--}}}for(;!c.done;)hD(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Gm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function hD(t,e,n,r,i){if(Gm(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function fD(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var wd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function oJ(t,e,n){Vo("NgControlFlow");let r=he(),i=vi(),s=Ym(r,yt+t),o=0;if(nn(r,i,e)){let a=xe(null);try{if(_b(s,o),e!==-1){let c=Jm(r[de],yt+e),l=pc(s,c.tView.ssrId),d=Kd(r,c,n,{dehydratedView:l});Qd(s,d,o,fc(c,l))}}finally{xe(a)}}else{let a=yb(s,o);a!==void 0&&(a[Ot]=n)}}var Wm=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ft}};function aJ(t){return t}var Km=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function cJ(t,e,n,r,i,s,o,a,c,l,d,h,p){Vo("NgControlFlow");let m=c!==void 0,v=he(),b=a?o.bind(v[mn][Ot]):o,D=new Km(m,b);v[yt+t]=D,jm(t+1,e,n,r,i,s),m&&jm(t+2,c,l,d,h,p)}var Qm=class extends zm{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ft}at(e){return this.getLView(e)[Ot].$implicit}attach(e,n){let r=n[Ro];this.needsIndexUpdate||=e!==this.length,Qd(this.lContainer,n,e,fc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,C4(this.lContainer,e)}create(e,n){let r=pc(this.lContainer,this.templateTNode.tView.ssrId);return Kd(this.hostLView,this.templateTNode,new Wm(this.lContainer,n,e),{dehydratedView:r})}destroy(e){$d(e[de],e)}updateValue(e,n){this.getLView(e)[Ot].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ot].$index=e}getLView(e){return b4(this.lContainer,e)}};function uJ(t){let e=xe(null),n=yi();try{let r=he(),i=r[de],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Ym(r,a),l=Jm(i,a);s.liveCollection=new Qm(c,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(D4(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=vi(),c=o.length===0;if(nn(r,a,c)){let l=n+2,d=Ym(r,l);if(c){let h=Jm(i,l),p=pc(d,h.tView.ssrId),m=Kd(r,h,void 0,{dehydratedView:p});Qd(d,m,0,fc(h,p))}else _b(d,0)}}}finally{xe(e)}}function Ym(t,e){return t[e]}function C4(t,e){return hc(t,e)}function b4(t,e){return yb(t,e)}function Jm(t,e){return y0(t,e)}function T4(t,e,n,r,i,s){let o=e.consts,a=Mo(o,i),c=Bo(e,t,2,r,a);return U0(e,n,c,Mo(o,s)),c.attrs!==null&&pd(c,c.attrs,!1),c.mergedAttrs!==null&&pd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Wb(t,e,n,r){let i=he(),s=Ye(),o=yt+t,a=i[ze],c=s.firstCreatePass?T4(o,s,i,e,n,r):s.data[o],l=A4(s,i,c,a,e,t);i[o]=l;let d=Pd(c);return ws(c,!0),ib(a,l,c),!e4(c)&&Fd()&&Hd(s,i,l,c),NO()===0&&fi(l,i),PO(),d&&(L0(s,i,c),F0(s,c,i)),r!==null&&B0(i,c),Wb}function Kb(){let t=Gt();w0()?I0():(t=t.parent,ws(t,!1));let e=t;kO(e)&&OO(),MO();let n=Ye();return n.firstCreatePass&&(Bd(n,t),v0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&QO(e)&&qm(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YO(e)&&qm(n,e,he(),e.stylesWithoutHost,!1),Kb}function Q0(t,e,n,r){return Wb(t,e,n,r),Kb(),Q0}var A4=(t,e,n,r,i,s)=>(Ld(!0),QC(r,i,zO()));function S4(t,e,n,r,i){let s=e.consts,o=Mo(s,r),a=Bo(e,t,8,"ng-container",o);o!==null&&pd(a,o,!0);let c=Mo(s,i);return U0(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function R4(t,e,n){let r=he(),i=Ye(),s=t+yt,o=i.firstCreatePass?S4(s,i,r,e,n):i.data[s];ws(o,!0);let a=P4(i,r,o,t);return r[s]=a,Fd()&&Hd(i,r,a,o),fi(a,r),Pd(o)&&(L0(i,r,o),F0(i,o,r)),n!=null&&B0(r,o),R4}function N4(){let t=Gt(),e=Ye();return w0()?I0():(t=t.parent,ws(t,!1)),e.firstCreatePass&&(Bd(e,t),v0(t)&&e.queries.elementEnd(t)),N4}var P4=(t,e,n,r)=>(Ld(!0),GF(e[ze],""));function lJ(){return he()}function M4(t,e,n){let r=he(),i=vi();if(nn(r,i,e)){let s=Ye(),o=Ic();Gd(s,o,r,t,e,r[ze],n,!0)}return M4}function k4(t,e,n){let r=he(),i=vi();if(nn(r,i,e)){let s=Ye(),o=Ic(),a=uC(s.data),c=O2(a,o,r);Gd(s,o,r,t,e,c,n,!0)}return k4}var os=void 0;function O4(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var F4=["en",[["a","p"],["AM","PM"],os],[["AM","PM"],os,os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",os,"{1} 'at' {0}",os],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",O4],Kg={};function yn(t){let e=L4(t),n=pD(e);if(n)return n;let r=e.split("-")[0];if(n=pD(r),n)return n;if(r==="en")return F4;throw new Q(701,!1)}function pD(t){return t in Kg||(Kg[t]=it.ng&&it.ng.common&&it.ng.common.locales&&it.ng.common.locales[t]),Kg[t]}var st=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(st||{});function L4(t){return t.toLowerCase().replace(/_/g,"-")}var Id="en-US";var B4=Id;function V4(t){typeof t=="string"&&(B4=t.toLowerCase().replace(/_/g,"-"))}function Qb(t,e,n,r){let i=he(),s=Ye(),o=Gt();return Yb(s,i,i[ze],o,t,e,r),Qb}function U4(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[cc],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Yb(t,e,n,r,i,s,o){let a=Pd(r),l=t.firstCreatePass&&mb(t),d=e[Ot],h=gb(e),p=!0;if(r.type&3||o){let b=vn(r,e),D=o?o(b):b,y=h.length,x=o?P=>o(qn(P[r.index])):r.index,N=null;if(!o&&a&&(N=U4(t,e,i,r.index)),N!==null){let P=N.__ngLastListenerFn__||N;P.__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,p=!1}else{s=mD(r,e,d,s,!1);let P=n.listen(D,i,s);h.push(s,P),l&&l.push(i,x,y,y+1)}}else s=mD(r,e,d,s,!1);let m=r.outputs,v;if(p&&m!==null&&(v=m[i])){let b=v.length;if(b)for(let D=0;D<b;D+=2){let y=v[D],x=v[D+1],O=e[y][x].subscribe(s),M=h.length;h.push(s,O),l&&l.push(i,r.index,M,-(M+1))}}}function gD(t,e,n,r){let i=xe(null);try{return jn(6,e,n),n(r)!==!1}catch(s){return vb(t,s),!1}finally{jn(7,e,n),xe(i)}}function mD(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?mi(t.index,e):e;H0(a);let c=gD(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=gD(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function dJ(t=1){return HO(t)}function j4(t,e){let n=null,r=Kk(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?LD(t,s,!0):Jk(r,s))return i}return n}function hJ(t){let e=he()[mn][un];if(!e.projection){let n=t?t.length:1,r=e.projection=Bk(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?j4(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function fJ(t,e=0,n){let r=he(),i=Ye(),s=Bo(i,yt+t,16,null,n||null);s.projection===null&&(s.projection=e),I0(),(!r[Ro]||oC())&&(s.flags&32)!==32&&o2(i,r,s)}function $4(t,e,n,r){PL(t,e,n,r)}function pJ(t,e,n){NL(t,e,n)}function H4(t){let e=he(),n=Ye(),r=lC();x0(r+1);let i=G0(n,r);if(t.dirty&&bO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=OL(e,r);t.reset(s,cF),t.notifyOnChanges()}return!0}return!1}function q4(){return RL(he(),lC())}function z4(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function gJ(t){let e=LO();return kd(e,yt+t)}function mJ(t,e=""){let n=he(),r=Ye(),i=t+yt,s=r.firstCreatePass?Bo(r,i,1,e,null):r.data[i],o=G4(r,n,s,e,t);n[i]=o,Fd()&&Hd(r,n,o,s),ws(s,!1)}var G4=(t,e,n,r,i)=>(Ld(!0),qF(e[ze],r));function W4(t){return Jb("",t,""),W4}function Jb(t,e,n){let r=he(),i=Fb(r,t,e,n);return i!==br&&F2(r,yi(),i),Jb}function K4(t,e,n){Nb(e)&&(e=e());let r=he(),i=vi();if(nn(r,i,e)){let s=Ye(),o=Ic();Gd(s,o,r,t,e,r[ze],n,!1)}return K4}function vJ(t,e){let n=Nb(t);return n&&t.set(e),n}function Q4(t,e){let n=he(),r=Ye(),i=Gt();return Yb(r,n,n[ze],i,t,e),Q4}function Y4(t,e,n){let r=Ye();if(r.firstCreatePass){let i=Er(t);Xm(n,r.data,r.blueprint,i,!0),Xm(e,r.data,r.blueprint,i,!1)}}function Xm(t,e,n,r,i){if(t=qt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xm(t[s],e,n,r,i);else{let s=Ye(),o=he(),a=Gt(),c=So(t)?t:qt(t.provide),l=KD(t),d=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(So(t)||!t.multi){let m=new fs(l,i,ct),v=Yg(c,e,i?d:d+p,h);v===-1?(um(ud(a,o),s,c),Qg(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),o.push(m)):(n[v]=m,o[v]=m)}else{let m=Yg(c,e,d+p,h),v=Yg(c,e,d,d+p),b=m>=0&&n[m],D=v>=0&&n[v];if(i&&!D||!i&&!b){um(ud(a,o),s,c);let y=Z4(i?X4:J4,n.length,i,r,l);!i&&D&&(n[v].providerFactory=y),Qg(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else{let y=Xb(n[i?v:m],l,!i&&r);Qg(s,t,m>-1?m:v,y)}!i&&r&&D&&n[v].componentProviders++}}}function Qg(t,e,n,r){let i=So(e),s=cO(e);if(i||s){let c=(s?qt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function Xb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Yg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function J4(t,e,n,r){return Zm(this.multi,[])}function X4(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ps(n,n[de],this.providerFactory.index,r);s=a.slice(0,o),Zm(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Zm(i,s);return s}function Zm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Z4(t,e,n,r,i){let s=new fs(t,n,ct);return s.multi=[],s.index=e,s.componentProviders=0,Xb(s,i,r&&!n),s}function yJ(t,e=[]){return n=>{n.providersResolver=(r,i)=>Y4(r,i?i(t):t,e)}}var eB=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zD(!1,r.type),s=i.length>0?Zd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Y({token:e,providedIn:"environment",factory:()=>new e(X(tn))});let t=e;return t})();function Zb(t){Vo("NgStandalone"),t.getStandaloneInjector=e=>e.get(eB).getOrCreateStandaloneInjector(t)}function _J(t,e,n,r,i){return eT(he(),Od(),t,e,n,r,i)}function Y0(t,e){let n=t[e];return n===br?void 0:n}function tB(t,e,n,r,i,s){let o=e+n;return nn(t,o,i)?K0(t,o+1,s?r.call(s,i):r(i)):Y0(t,o+1)}function eT(t,e,n,r,i,s,o){let a=e+n;return kb(t,a,i,s)?K0(t,a+2,o?r.call(o,i,s):r(i,s)):Y0(t,a+2)}function nB(t,e,n,r,i,s,o,a){let c=e+n;return ZL(t,c,i,s,o)?K0(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Y0(t,c+3)}function EJ(t,e){let n=Ye(),r,i=t+yt;n.firstCreatePass?(r=rB(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=us(r.type,!0)),o,a=Zt(ct);try{let c=cd(!1),l=s();return cd(c),z4(n,he(),i,l),l}finally{Zt(a)}}function rB(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function wJ(t,e,n){let r=t+yt,i=he(),s=kd(i,r);return J0(i,r)?tB(i,Od(),e,s.transform,n,s):s.transform(n)}function IJ(t,e,n,r){let i=t+yt,s=he(),o=kd(s,i);return J0(s,i)?eT(s,Od(),e,o.transform,n,r,o):o.transform(n,r)}function xJ(t,e,n,r,i){let s=t+yt,o=he(),a=kd(o,s);return J0(o,s)?nB(o,Od(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function J0(t,e){return t[de].data[e].pure}function DJ(t,e){return Yd(t,e)}var Kl=null;function iB(t){Kl!==null&&(t.defaultEncapsulation!==Kl.defaultEncapsulation||t.preserveWhitespaces!==Kl.preserveWhitespaces)||(Kl=t)}var gi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tT=new gi("17.3.12"),th=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var X0=new Z(""),Cc=new Z(""),nh=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Z0||(sB(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(X(De),X(rh),X(Cc))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),rh=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Z0?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function sB(t){Z0=t}var Z0;function Uo(t){return!!t&&typeof t.then=="function"}function ev(t){return!!t&&typeof t.subscribe=="function"}var ih=new Z(""),nT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=z(ih,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Uo(o))r.push(o);else if(ev(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tv=new Z("");function oB(){JI(()=>{throw new Q(600,!1)})}function aB(t){return t.isBoundToModule}function cB(t,e,n){try{let r=n();return Uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function rT(t,e){return Array.isArray(e)?e.reduce(rT,t):K(K({},t),e)}var jo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(AC),this.afterRenderEffectManager=z(z0),this.externalTestViews=new Set,this.beforeRender=new $t,this.afterTick=new $t,this.componentTypes=[],this.components=[],this.isStable=z(eh).hasPendingTasks.pipe(Ee(r=>!r)),this._injector=z(tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof fd;if(!this._injector.get(nT).done){let m=!s&&jD(r),v=!1;throw new Q(405,v)}let a;s?a=r:a=this._injector.get(Jd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=aB(a)?void 0:this._injector.get(pi),l=i||a.selector,d=a.create(_t.NULL,[],l,c),h=d.location.nativeElement,p=d.injector.get(X0,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ed(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,xe(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===wb)throw new Q(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)uB(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>e0(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>e0(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ed(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(tv,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ed(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ed(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uB(t,e,n){!e&&!e0(t)||lB(t,n,e)}function e0(t){return E0(t)}function lB(t,e,n){let r;n?(r=0,t[se]|=1024):t[se]&64?r=0:r=1,Ib(t,e,r)}var t0=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},sh=(()=>{let e=class e{compileModuleSync(r){return new _d(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=$D(r),o=KC(s.declarations).reduce((a,c)=>{let l=hi(c);return l&&a.push(new ko(l)),a},[]);return new t0(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dB=new Z("");function hB(t,e,n){let r=new _d(n);return Promise.resolve(r)}function vD(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var fB=(()=>{let e=class e{constructor(){this.zone=z(De),this.applicationRef=z(jo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pB(t){return[{provide:De,useFactory:t},{provide:Ao,multi:!0,useFactory:()=>{let e=z(fB,{optional:!0});return()=>e.initialize()}},{provide:Ao,multi:!0,useFactory:()=>{let e=z(vB);return()=>{e.initialize()}}},{provide:AC,useFactory:gB}]}function gB(){let t=z(De),e=z(zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function mB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var vB=(()=>{let e=class e{constructor(){this.subscription=new rt,this.initialized=!1,this.zone=z(De),this.pendingTasks=z(eh)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yB(){return typeof $localize<"u"&&$localize.locale||Id}var oh=new Z("",{providedIn:"root",factory:()=>z(oh,we.Optional|we.SkipSelf)||yB()});var iT=new Z(""),sT=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=uL(i?.ngZone,mB({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=JL(r.moduleType,this.injector,pB(()=>s)),a=o.injector.get(zn,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{ed(this._modules,o),c.unsubscribe()})}),cB(a,s,()=>{let c=o.injector.get(nT);return c.runInitializers(),c.donePromise.then(()=>{let l=o.injector.get(oh,Id);return V4(l||Id),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=rT({},i);return hB(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(jo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new Q(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(iT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(X(_t))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ic=null,oT=new Z("");function _B(t){if(ic&&!ic.get(oT,!1))throw new Q(400,!1);oB(),ic=t;let e=t.get(sT);return IB(t),e}function nv(t,e,n=[]){let r=`Platform: ${e}`,i=new Z(r);return(s=[])=>{let o=aT();if(!o||o.injector.get(oT,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):_B(EB(a,r))}return wB(i)}}function EB(t=[],e){return _t.create({name:e,providers:[{provide:Sd,useValue:"platform"},{provide:iT,useValue:new Set([()=>ic=null])},...t]})}function wB(t){let e=aT();if(!e)throw new Q(401,!1);return e}function aT(){return ic?.get(sT)??null}function IB(t){t.get(S0,null)?.forEach(n=>n())}var $o=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xB;let t=e;return t})();function xB(t){return DB(Gt(),he(),(t&16)===16)}function DB(t,e,n){if(Nd(t)&&!n){let r=mi(t.index,e);return new gs(r,r)}else if(t.type&47){let r=e[mn];return new gs(r,e)}return null}var n0=class{constructor(){}supports(e){return Mb(e)}create(e){return new r0(e)}},CB=(t,e)=>e,r0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CB}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<yD(r,i,s)?n:r,a=yD(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,d=c-i;if(l!=d){for(let p=0;p<l;p++){let m=p<s.length?s[p]:s[p]=0,v=m+p;d<=v&&v<l&&(s[p]=m+1)}let h=o.previousIndex;s[h]=d-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Mb(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,XL(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new i0(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new xd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},i0=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},s0=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},xd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new s0,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var o0=class{constructor(){}supports(e){return e instanceof Map||W0(e)}create(){return new a0}},a0=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||W0(e)))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new c0(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},c0=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function _D(){return new rv([new n0])}var rv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_D()),deps:[[e,new bd,new tt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new Q(901,!1)}};e.\u0275prov=Y({token:e,providedIn:"root",factory:_D});let t=e;return t})();function ED(){return new iv([new o0])}var iv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ED()),deps:[[e,new bd,new tt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new Q(901,!1)}};e.\u0275prov=Y({token:e,providedIn:"root",factory:ED});let t=e;return t})();var cT=nv(null,"core",[]),uT=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(X(jo))},e.\u0275mod=_s({type:e}),e.\u0275inj=ys({});let t=e;return t})();function lT(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function sv(t){let e=xe(null);try{return t()}finally{xe(e)}}function dT(t){let e=hi(t);if(!e)return null;let n=new ko(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yT=null;function Is(){return yT}function _T(t){yT??=t}var gh=class{};var Kt=new Z(""),mv=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>z(TB),providedIn:"platform"});let t=e;return t})(),ET=new Z(""),TB=(()=>{let e=class e extends mv{constructor(){super(),this._doc=z(Kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Is().getBaseHref(this._doc)}onPopState(r){let i=Is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function vv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function hT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ar(t){return t&&t[0]!=="?"?"?"+t:t}var xs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>z(yv),providedIn:"root"});let t=e;return t})(),wT=new Z(""),yv=(()=>{let e=class e extends xs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??z(Kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return vv(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ar(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X(mv),X(wT,8))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IT=(()=>{let e=class e extends xs{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=vv(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X(mv),X(wT,8))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),qo=(()=>{let e=class e{constructor(r){this._subject=new kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=RB(hT(fT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ar(i))}normalize(r){return e.stripTrailingSlash(SB(this._basePath,fT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ar,e.joinWithSlash=vv,e.stripTrailingSlash=hT,e.\u0275fac=function(i){return new(i||e)(X(xs))},e.\u0275prov=Y({token:e,factory:()=>AB(),providedIn:"root"});let t=e;return t})();function AB(){return new qo(X(xs))}function SB(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function fT(t){return t.replace(/\/index.html$/,"")}function RB(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Wt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Wt||{}),Be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Be||{}),ln=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ln||{}),wi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function NB(t){return yn(t)[st.LocaleId]}function PB(t,e,n){let r=yn(t),i=[r[st.DayPeriodsFormat],r[st.DayPeriodsStandalone]],s=_n(i,e);return _n(s,n)}function MB(t,e,n){let r=yn(t),i=[r[st.DaysFormat],r[st.DaysStandalone]],s=_n(i,e);return _n(s,n)}function kB(t,e,n){let r=yn(t),i=[r[st.MonthsFormat],r[st.MonthsStandalone]],s=_n(i,e);return _n(s,n)}function OB(t,e){let r=yn(t)[st.Eras];return _n(r,e)}function ah(t,e){let n=yn(t);return _n(n[st.DateFormat],e)}function ch(t,e){let n=yn(t);return _n(n[st.TimeFormat],e)}function uh(t,e){let r=yn(t)[st.DateTimeFormat];return _n(r,e)}function yh(t,e){let n=yn(t),r=n[st.NumberSymbols][e];if(typeof r>"u"){if(e===wi.CurrencyDecimal)return n[st.NumberSymbols][wi.Decimal];if(e===wi.CurrencyGroup)return n[st.NumberSymbols][wi.Group]}return r}function xT(t){if(!t[st.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[st.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function FB(t){let e=yn(t);return xT(e),(e[st.ExtraData][2]||[]).map(r=>typeof r=="string"?ov(r):[ov(r[0]),ov(r[1])])}function LB(t,e,n){let r=yn(t);xT(r);let i=[r[st.ExtraData][0],r[st.ExtraData][1]],s=_n(i,e)||[];return _n(s,n)||[]}function _n(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ov(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var BB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lh={},VB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Sr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Sr||{}),Pe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Pe||{}),Ne=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ne||{});function UB(t,e,n,r){let i=QB(t);e=Tr(n,e)||e;let o=[],a;for(;e;)if(a=VB.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=CT(r,c),i=KB(i,r,!0));let l="";return o.forEach(d=>{let h=GB(d);l+=h?h(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function mh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Tr(t,e){let n=NB(t);if(lh[n]??={},lh[n][e])return lh[n][e];let r="";switch(e){case"shortDate":r=ah(t,ln.Short);break;case"mediumDate":r=ah(t,ln.Medium);break;case"longDate":r=ah(t,ln.Long);break;case"fullDate":r=ah(t,ln.Full);break;case"shortTime":r=ch(t,ln.Short);break;case"mediumTime":r=ch(t,ln.Medium);break;case"longTime":r=ch(t,ln.Long);break;case"fullTime":r=ch(t,ln.Full);break;case"short":let i=Tr(t,"shortTime"),s=Tr(t,"shortDate");r=dh(uh(t,ln.Short),[i,s]);break;case"medium":let o=Tr(t,"mediumTime"),a=Tr(t,"mediumDate");r=dh(uh(t,ln.Medium),[o,a]);break;case"long":let c=Tr(t,"longTime"),l=Tr(t,"longDate");r=dh(uh(t,ln.Long),[c,l]);break;case"full":let d=Tr(t,"fullTime"),h=Tr(t,"fullDate");r=dh(uh(t,ln.Full),[d,h]);break}return r&&(lh[n][e]=r),r}function dh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function jB(t,e){return Rn(t,3).substring(0,e)}function ut(t,e,n=0,r=!1,i=!1){return function(s,o){let a=$B(t,s);if((n>0||a>-n)&&(a+=n),t===Pe.Hours)a===0&&n===-12&&(a=12);else if(t===Pe.FractionalSeconds)return jB(a,e);let c=yh(o,wi.MinusSign);return Rn(a,e,c,r,i)}}function $B(t,e){switch(t){case Pe.FullYear:return e.getFullYear();case Pe.Month:return e.getMonth();case Pe.Date:return e.getDate();case Pe.Hours:return e.getHours();case Pe.Minutes:return e.getMinutes();case Pe.Seconds:return e.getSeconds();case Pe.FractionalSeconds:return e.getMilliseconds();case Pe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ue(t,e,n=Wt.Format,r=!1){return function(i,s){return HB(i,s,t,e,n,r)}}function HB(t,e,n,r,i,s){switch(n){case Ne.Months:return kB(e,i,r)[t.getMonth()];case Ne.Days:return MB(e,i,r)[t.getDay()];case Ne.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=FB(e),d=LB(e,i,r),h=l.findIndex(p=>{if(Array.isArray(p)){let[m,v]=p,b=o>=m.hours&&a>=m.minutes,D=o<v.hours||o===v.hours&&a<v.minutes;if(m.hours<v.hours){if(b&&D)return!0}else if(b||D)return!0}else if(p.hours===o&&p.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return PB(e,i,r)[o<12?0:1];case Ne.Eras:return OB(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function hh(t){return function(e,n,r){let i=-1*r,s=yh(n,wi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Sr.Short:return(i>=0?"+":"")+Rn(o,2,s)+Rn(Math.abs(i%60),2,s);case Sr.ShortGMT:return"GMT"+(i>=0?"+":"")+Rn(o,1,s);case Sr.Long:return"GMT"+(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);case Sr.Extended:return r===0?"Z":(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var qB=0,ph=4;function zB(t){let e=mh(t,qB,1).getDay();return mh(t,0,1+(e<=ph?ph:ph+7)-e)}function DT(t){let e=t.getDay(),n=e===0?-3:ph-e;return mh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function av(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=DT(n),o=zB(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rn(i,t,yh(r,wi.MinusSign))}}function fh(t,e=!1){return function(n,r){let s=DT(n).getFullYear();return Rn(s,t,yh(r,wi.MinusSign),e)}}var cv={};function GB(t){if(cv[t])return cv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ue(Ne.Eras,Be.Abbreviated);break;case"GGGG":e=Ue(Ne.Eras,Be.Wide);break;case"GGGGG":e=Ue(Ne.Eras,Be.Narrow);break;case"y":e=ut(Pe.FullYear,1,0,!1,!0);break;case"yy":e=ut(Pe.FullYear,2,0,!0,!0);break;case"yyy":e=ut(Pe.FullYear,3,0,!1,!0);break;case"yyyy":e=ut(Pe.FullYear,4,0,!1,!0);break;case"Y":e=fh(1);break;case"YY":e=fh(2,!0);break;case"YYY":e=fh(3);break;case"YYYY":e=fh(4);break;case"M":case"L":e=ut(Pe.Month,1,1);break;case"MM":case"LL":e=ut(Pe.Month,2,1);break;case"MMM":e=Ue(Ne.Months,Be.Abbreviated);break;case"MMMM":e=Ue(Ne.Months,Be.Wide);break;case"MMMMM":e=Ue(Ne.Months,Be.Narrow);break;case"LLL":e=Ue(Ne.Months,Be.Abbreviated,Wt.Standalone);break;case"LLLL":e=Ue(Ne.Months,Be.Wide,Wt.Standalone);break;case"LLLLL":e=Ue(Ne.Months,Be.Narrow,Wt.Standalone);break;case"w":e=av(1);break;case"ww":e=av(2);break;case"W":e=av(1,!0);break;case"d":e=ut(Pe.Date,1);break;case"dd":e=ut(Pe.Date,2);break;case"c":case"cc":e=ut(Pe.Day,1);break;case"ccc":e=Ue(Ne.Days,Be.Abbreviated,Wt.Standalone);break;case"cccc":e=Ue(Ne.Days,Be.Wide,Wt.Standalone);break;case"ccccc":e=Ue(Ne.Days,Be.Narrow,Wt.Standalone);break;case"cccccc":e=Ue(Ne.Days,Be.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":e=Ue(Ne.Days,Be.Abbreviated);break;case"EEEE":e=Ue(Ne.Days,Be.Wide);break;case"EEEEE":e=Ue(Ne.Days,Be.Narrow);break;case"EEEEEE":e=Ue(Ne.Days,Be.Short);break;case"a":case"aa":case"aaa":e=Ue(Ne.DayPeriods,Be.Abbreviated);break;case"aaaa":e=Ue(Ne.DayPeriods,Be.Wide);break;case"aaaaa":e=Ue(Ne.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=Ue(Ne.DayPeriods,Be.Abbreviated,Wt.Standalone,!0);break;case"bbbb":e=Ue(Ne.DayPeriods,Be.Wide,Wt.Standalone,!0);break;case"bbbbb":e=Ue(Ne.DayPeriods,Be.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ue(Ne.DayPeriods,Be.Abbreviated,Wt.Format,!0);break;case"BBBB":e=Ue(Ne.DayPeriods,Be.Wide,Wt.Format,!0);break;case"BBBBB":e=Ue(Ne.DayPeriods,Be.Narrow,Wt.Format,!0);break;case"h":e=ut(Pe.Hours,1,-12);break;case"hh":e=ut(Pe.Hours,2,-12);break;case"H":e=ut(Pe.Hours,1);break;case"HH":e=ut(Pe.Hours,2);break;case"m":e=ut(Pe.Minutes,1);break;case"mm":e=ut(Pe.Minutes,2);break;case"s":e=ut(Pe.Seconds,1);break;case"ss":e=ut(Pe.Seconds,2);break;case"S":e=ut(Pe.FractionalSeconds,1);break;case"SS":e=ut(Pe.FractionalSeconds,2);break;case"SSS":e=ut(Pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=hh(Sr.Short);break;case"ZZZZZ":e=hh(Sr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hh(Sr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=hh(Sr.Long);break;default:return null}return cv[t]=e,e}function CT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function WB(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function KB(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=CT(e,i);return WB(t,r*(s-i))}function QB(t){if(pT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return mh(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(BB))return YB(r)}let e=new Date(t);if(!pT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function YB(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,l),e}function pT(t){return t instanceof Date&&!isNaN(t.valueOf())}function bT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var uv=/\s+/,gT=[],qJ=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=gT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(uv):gT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(uv):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(uv).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(ct(Dr),ct(Dc))},e.\u0275dir=Es({type:e,selectors:[["","ngClass",""]],inputs:{klass:[yr.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var lv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zJ=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new lv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),mT(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);mT(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ct(Ei),ct(ms),ct(rv))},e.\u0275dir=Es({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function mT(t,e){t.context.$implicit=e.item}var GJ=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new dv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){vT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){vT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ct(Ei),ct(ms))},e.\u0275dir=Es({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),dv=class{constructor(){this.$implicit=null,this.ngIf=null}};function vT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${zt(e)}'.`)}var WJ=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Gn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(ct(Dr),ct(iv),ct(Dc))},e.\u0275dir=Es({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function TT(t,e){return new Q(2100,!1)}var hv=class{createSubscription(e,n){return sv(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){sv(()=>e.unsubscribe())}},fv=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},JB=new fv,XB=new hv,KJ=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Uo(r))return JB;if(ev(r))return XB;throw TT(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(ct($o,16))},e.\u0275pipe=Ad({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var ZB="mediumDate",eV=new Z(""),tV=new Z(""),QJ=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??ZB,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return UB(r,a,o||this.locale,c)}catch(a){throw TT(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(ct(oh,16),ct(eV,24),ct(tV,24))},e.\u0275pipe=Ad({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var YJ=(()=>{let e=class e{transform(r){return JSON.stringify(r,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ad({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();var AT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_s({type:e}),e.\u0275inj=ys({});let t=e;return t})(),_v="browser",nV="server";function rV(t){return t===_v}function Ev(t){return t===nV}var ST=(()=>{let e=class e{};e.\u0275prov=Y({token:e,providedIn:"root",factory:()=>rV(z(Qn))?new pv(z(Kt),window):new gv});let t=e;return t})(),pv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=iV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function iV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var gv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vh=class{};var xv=class extends gh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Dv=class t extends xv{static makeCurrent(){_T(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=sV();return n==null?null:oV(n)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bT(document.cookie,e)}},bc=null;function sV(){return bc=bc||document.querySelector("base"),bc?bc.getAttribute("href"):null}function oV(t){return new URL(t,document.baseURI).pathname}var Cv=class{addToWindow(e){it.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Q(5103,!1);return s},it.getAllAngularTestabilities=()=>e.getAllTestabilities(),it.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=it.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};it.frameworkStabilizers||(it.frameworkStabilizers=[]),it.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Is().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},aV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),bv=new Z(""),MT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(X(bv),X(De))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),_h=class{constructor(e){this._doc=e}},wv="ng-app-id",kT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ev(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${wv}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(wv),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(wv,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(X(Kt),X(Vd),X(R0,8),X(Qn))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),Iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Av=/%COMP%/g,OT="%COMP%",cV=`_nghost-${OT}`,uV=`_ngcontent-${OT}`,lV=!0,dV=new Z("",{providedIn:"root",factory:()=>lV});function hV(t){return uV.replace(Av,t)}function fV(t){return cV.replace(Av,t)}function FT(t,e){return e.map(n=>n.replace(Av,t))}var RT=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ev(c),this.defaultRenderer=new Tc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Hn.ShadowDom&&(i=Qe(K({},i),{encapsulation:Hn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Eh?s.applyToHost(r):s instanceof Ac&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Hn.Emulated:o=new Eh(l,d,i,this.appId,h,a,c,p);break;case Hn.ShadowDom:return new Tv(l,d,r,i,a,c,this.nonce,p);default:o=new Ac(l,d,i,h,a,c,p);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(X(MT),X(kT),X(Vd),X(dV),X(Kt),X(Qn),X(De),X(R0))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),Tc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Iv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Iv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Iv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(n,r,i&Gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Is().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function NT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Tv=class extends Tc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=FT(i.id,i.styles);for(let d of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ac=class extends Tc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?FT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Eh=class extends Ac{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=hV(l),this.hostAttr=fV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},pV=(()=>{let e=class e extends _h{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(X(Kt))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})(),PT=["alt","control","meta","shift"],gV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vV=(()=>{let e=class e extends _h{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Is().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),PT.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=gV[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),PT.forEach(a=>{if(a!==s){let c=mV[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(X(Kt))},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})();function yV(){Dv.makeCurrent()}function _V(){return new zn}function EV(){return kC(document),document}var wV=[{provide:Qn,useValue:_v},{provide:S0,useValue:yV,multi:!0},{provide:Kt,useFactory:EV,deps:[]}],dX=nv(cT,"browser",wV),IV=new Z(""),xV=[{provide:Cc,useClass:Cv,deps:[]},{provide:X0,useClass:nh,deps:[De,rh,Cc]},{provide:nh,useClass:nh,deps:[De,rh,Cc]}],DV=[{provide:Sd,useValue:"root"},{provide:zn,useFactory:_V,deps:[]},{provide:bv,useClass:pV,multi:!0,deps:[Kt,De,Qn]},{provide:bv,useClass:vV,multi:!0,deps:[Kt]},RT,kT,MT,{provide:gc,useExisting:RT},{provide:vh,useClass:aV,deps:[]},[]],hX=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Vd,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(X(IV,12))},e.\u0275mod=_s({type:e}),e.\u0275inj=ys({providers:[...DV,...xV],imports:[AT,uT]});let t=e;return t})();var LT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(X(Kt))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var CV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=X(bV),s},providedIn:"root"});let t=e;return t})(),bV=(()=>{let e=class e extends CV{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Yn.NONE:return i;case Yn.HTML:return _i(i,"HTML")?Sn(i):P0(this._doc,String(i)).toString();case Yn.STYLE:return _i(i,"Style")?Sn(i):i;case Yn.SCRIPT:if(_i(i,"Script"))return Sn(i);throw new Q(5200,!1);case Yn.URL:return _i(i,"URL")?Sn(i):jd(String(i));case Yn.RESOURCE_URL:if(_i(i,"ResourceURL"))return Sn(i);throw new Q(5201,!1);default:throw new Q(5202,!1)}}bypassSecurityTrustHtml(r){return LC(r)}bypassSecurityTrustStyle(r){return BC(r)}bypassSecurityTrustScript(r){return VC(r)}bypassSecurityTrustUrl(r){return UC(r)}bypassSecurityTrustResourceUrl(r){return jC(r)}};e.\u0275fac=function(i){return new(i||e)(X(Kt))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ye="primary",Hc=Symbol("RouteTitle"),Mv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qo(t){return new Mv(t)}function AV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function SV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jn(t[n],e[n]))return!1;return!0}function Jn(t,e){let n=t?kv(t):void 0,r=e?kv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!GT(t[i],e[i]))return!1;return!0}function kv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function GT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function WT(t){return t.length>0?t[t.length-1]:null}function Ci(t){return Ng(t)?t:Uo(t)?He(Promise.resolve(t)):ue(t)}var RV={exact:QT,subset:YT},KT={exact:NV,subset:PV,ignored:()=>!0};function BT(t,e,n){return RV[n.paths](t.root,e.root,n.matrixParams)&&KT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function NV(t,e){return Jn(t,e)}function QT(t,e,n){if(!Cs(t.segments,e.segments)||!xh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!QT(t.children[r],e.children[r],n))return!1;return!0}function PV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GT(t[n],e[n]))}function YT(t,e,n){return JT(t,e,e.segments,n)}function JT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Cs(i,n)||e.hasChildren()||!xh(i,n,r))}else if(t.segments.length===n.length){if(!Cs(t.segments,n)||!xh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!YT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Cs(t.segments,i)||!xh(t.segments,i,r)||!t.children[ye]?!1:JT(t.children[ye],e,s,r)}}function xh(t,e,n){return e.every((r,i)=>KT[n](t[i].parameters,r.parameters))}var Ii=class{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){return OV.serialize(this)}},ke=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}},Ds=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qo(this.parameters),this._parameterMap}toString(){return ZT(this)}};function MV(t,e){return Cs(t,e)&&t.every((n,r)=>Jn(n.parameters,e[r].parameters))}function Cs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ye&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ye&&(n=n.concat(e(i,r)))}),n}var qc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>new Oc,providedIn:"root"});let t=e;return t})(),Oc=class{parse(e){let n=new Fv(e);return new Ii(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sc(e.root,!0)}`,r=BV(e.queryParams),i=typeof e.fragment=="string"?`#${FV(e.fragment)}`:"";return`${n}${r}${i}`}},OV=new Oc;function Dh(t){return t.segments.map(e=>ZT(e)).join("/")}function Sc(t,e){if(!t.hasChildren())return Dh(t);if(e){let n=t.children[ye]?Sc(t.children[ye],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ye&&r.push(`${i}:${Sc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kV(t,(r,i)=>i===ye?[Sc(t.children[ye],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ye]!=null?`${Dh(t)}/${n[0]}`:`${Dh(t)}/(${n.join("//")})`}}function XT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wh(t){return XT(t).replace(/%3B/gi,";")}function FV(t){return encodeURI(t)}function Ov(t){return XT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ch(t){return decodeURIComponent(t)}function VT(t){return Ch(t.replace(/\+/g,"%20"))}function ZT(t){return`${Ov(t.path)}${LV(t.parameters)}`}function LV(t){return Object.entries(t).map(([e,n])=>`;${Ov(e)}=${Ov(n)}`).join("")}function BV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wh(n)}=${wh(i)}`).join("&"):`${wh(n)}=${wh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var VV=/^[^\/()?;#]+/;function Sv(t){let e=t.match(VV);return e?e[0]:""}var UV=/^[^\/()?;=#]+/;function jV(t){let e=t.match(UV);return e?e[0]:""}var $V=/^[^=?&#]+/;function HV(t){let e=t.match($V);return e?e[0]:""}var qV=/^[^&#]+/;function zV(t){let e=t.match(qV);return e?e[0]:""}var Fv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ye]=new ke(e,n)),r}parseSegment(){let e=Sv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ds(Ch(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sv(this.remaining);i&&(r=i,this.capture(r))}e[Ch(n)]=Ch(r)}parseQueryParam(e){let n=HV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=zV(this.remaining);o&&(r=o,this.capture(r))}let i=VT(n),s=VT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ye]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function eA(t){return t.segments.length>0?new ke([],{[ye]:t}):t}function tA(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=tA(i);if(r===ye&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ke(t.segments,e);return GV(n)}function GV(t){if(t.numberOfChildren===1&&t.children[ye]){let e=t.children[ye];return new ke(t.segments.concat(e.segments),e.children)}return t}function Yo(t){return t instanceof Ii}function WV(t,e,n=null,r=null){let i=nA(t);return rA(i,e,n,r)}function nA(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new ke(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=eA(r);return e??i}function rA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Rv(i,i,i,n,r);let s=KV(e);if(s.toRoot())return Rv(i,i,new ke([],{}),n,r);let o=QV(s,i,t),a=o.processChildren?Pc(o.segmentGroup,o.index,s.commands):sA(o.segmentGroup,o.index,s.commands);return Rv(i,o.segmentGroup,a,n,r)}function bh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fc(t){return typeof t=="object"&&t!=null&&t.outlets}function Rv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=iA(t,e,n);let a=eA(tA(o));return new Ii(a,s,i)}function iA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=iA(s,e,n)}),new ke(t.segments,r)}var Th=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bh(r[0]))throw new Q(4003,!1);let i=r.find(Fc);if(i&&i!==WT(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Th(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Th(n,e,r)}var Wo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function QV(t,e,n){if(t.isAbsolute)return new Wo(e,!0,0);if(!n)return new Wo(e,!1,NaN);if(n.parent===null)return new Wo(n,!0,0);let r=bh(t.commands[0])?0:1,i=n.segments.length-1+r;return YV(n,i,t.numberOfDoubleDots)}function YV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Wo(r,!1,i-s)}function JV(t){return Fc(t[0])?t[0].outlets:{[ye]:t}}function sA(t,e,n){if(t??=new ke([],{}),t.segments.length===0&&t.hasChildren())return Pc(t,e,n);let r=XV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ke(t.segments.slice(0,r.pathIndex),{});return s.children[ye]=new ke(t.segments.slice(r.pathIndex),t.children),Pc(s,0,i)}else return r.match&&i.length===0?new ke(t.segments,{}):r.match&&!t.hasChildren()?Lv(t,e,n):r.match?Pc(t,0,i):Lv(t,e,n)}function Pc(t,e,n){if(n.length===0)return new ke(t.segments,{});{let r=JV(n),i={};if(Object.keys(r).some(s=>s!==ye)&&t.children[ye]&&t.numberOfChildren===1&&t.children[ye].segments.length===0){let s=Pc(t.children[ye],e,n);return new ke(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=sA(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ke(t.segments,i)}}function XV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Fc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!jT(c,l,o))return s;r+=2}else{if(!jT(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Lv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Fc(s)){let c=ZV(s.outlets);return new ke(r,c)}if(i===0&&bh(n[0])){let c=t.segments[e];r.push(new Ds(c.path,UT(n[0]))),i++;continue}let o=Fc(s)?s.outlets[ye]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&bh(a)?(r.push(new Ds(o,UT(a))),i+=2):(r.push(new Ds(o,{})),i++)}return new ke(r,{})}function ZV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Lv(new ke([],{}),0,r))}),e}function UT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jT(t,e,n){return t==n.path&&Jn(e,n.parameters)}var Mc="imperative",Et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Et||{}),En=class{constructor(e,n){this.id=e,this.url=n}},Jo=class extends En{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rr=class extends En{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),Ah=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ah||{}),xi=class extends En{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends En{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationSkipped}},Lc=class extends En{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sh=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bv=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vv=class extends En{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uv=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jv=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hv=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qv=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zv=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gv=class{constructor(e){this.snapshot=e,this.type=Et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wv=class{constructor(e){this.snapshot=e,this.type=Et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Bc=class{},Vc=class{constructor(e){this.url=e}};var Kv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zc,this.attachRef=null}},zc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yv(e,this._root).map(n=>n.value)}};function Qv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qv(t,n);if(r)return r}return null}function Yv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yv(t,n);if(r.length)return r.unshift(e),r}return[]}var dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Go(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ph=class extends Nh{constructor(e,n){super(e),this.snapshot=n,oy(this,e)}toString(){return this.snapshot.toString()}};function oA(t){let e=e8(t),n=new Ct([new Ds("",{})]),r=new Ct({}),i=new Ct({}),s=new Ct({}),o=new Ct(""),a=new Xo(n,r,s,o,i,ye,t,e.root);return a.snapshot=e.root,new Ph(new dn(a,[]),e)}function e8(t){let e={},n={},r={},i="",s=new Uc([],e,r,i,n,ye,t,null,{});return new Mh("",new dn(s,[]))}var Xo=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ee(l=>l[Hc]))??ue(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>Qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>Qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sy(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:K(K({},e.params),t.params),data:K(K({},e.data),t.data),resolve:K(K(K(K({},t.data),e.data),i?.data),t._resolvedData)}:r={params:K({},t.params),data:K({},t.data),resolve:K(K({},t.data),t._resolvedData??{})},i&&cA(i)&&(r.resolve[Hc]=i.title),r}var Uc=class{get title(){return this.data?.[Hc]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mh=class extends Nh{constructor(e,n){super(n),this.url=e,oy(this,n)}toString(){return aA(this._root)}};function oy(t,e){e.value._routerState=t,e.children.forEach(n=>oy(t,n))}function aA(t){let e=t.children.length>0?` { ${t.children.map(aA).join(", ")} } `:"";return`${t.value}${e}`}function Nv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jn(e.params,n.params)||t.paramsSubject.next(n.params),SV(e.url,n.url)||t.urlSubject.next(n.url),Jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jv(t,e){let n=Jn(t.params,e.params)&&MV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Jv(t.parent,e.parent))}function cA(t){return typeof t.title=="string"||t.title===null}var t8=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new kt,this.deactivateEvents=new kt,this.attachEvents=new kt,this.detachEvents=new kt,this.parentContexts=z(zc),this.location=z(Ei),this.changeDetector=z($o),this.environmentInjector=z(tn),this.inputBinder=z(Bh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Xv(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Es({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Md]});let t=e;return t})(),Xv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xo?this.route:e===zc?this.childContexts:this.parent.get(e,n)}},Bh=new Z(""),$T=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ec([i.queryParams,i.params,i.data]).pipe(cn(([o,a,c],l)=>(c=K(K(K({},o),a),c),l===0?ue(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=dT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})();function n8(t,e,n){let r=jc(t,e._root,n?n._root:void 0);return new Ph(r,e)}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=r8(t,e,n);return new dn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jc(t,a)),o}}let r=i8(e.value),i=e.children.map(s=>jc(t,s));return new dn(r,i)}}function r8(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}function i8(t){return new Xo(new Ct(t.url),new Ct(t.params),new Ct(t.queryParams),new Ct(t.fragment),new Ct(t.data),t.outlet,t.component,t)}var uA="ngNavigationCancelingError";function lA(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dA(!1,hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[uA]=!0,n.cancellationCode=e,n}function s8(t){return hA(t)&&Yo(t.url)}function hA(t){return!!t&&t[uA]}var o8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=BD({type:e,selectors:[["ng-component"]],standalone:!0,features:[Zb],decls:1,vars:0,template:function(i,s){i&1&&Q0(0,"router-outlet")},dependencies:[t8],encapsulation:2});let t=e;return t})();function a8(t,e){return t.providers&&!t._injector&&(t._injector=Zd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ay(t){let e=t.children&&t.children.map(ay),n=e?Qe(K({},t),{children:e}):K({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ye&&(n.component=o8),n}function Xn(t){return t.outlet||ye}function c8(t,e){let n=t.filter(r=>Xn(r)===e);return n.push(...t.filter(r=>Xn(r)!==e)),n}function Gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var u8=(t,e,n,r)=>Ee(i=>(new Zv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Zv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Nv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Go(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Go(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Go(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Go(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Wv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Nv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Gc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},kh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ko=class{constructor(e,n){this.component=e,this.route=n}};function l8(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function d8(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ea(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!CD(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Go(e);return t.children.forEach(o=>{h8(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kc(a,n.getContext(o),i)),i}function h8(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=f8(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ko(a.outlet.component,o))}else o&&kc(e,a,i),i.canActivateChecks.push(new kh(r)),s.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function f8(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cs(t.url,e.url)||!Jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jv(t,e)||!Jn(t.queryParams,e.queryParams);case"paramsChange":default:return!Jv(t,e)}}function kc(t,e,n){let r=Go(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?kc(o,e.children.getContext(s),n):kc(o,null,n):kc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ko(e.outlet.component,i)):n.canDeactivateChecks.push(new Ko(null,i)):n.canDeactivateChecks.push(new Ko(null,i))}function Wc(t){return typeof t=="function"}function p8(t){return typeof t=="boolean"}function g8(t){return t&&Wc(t.canLoad)}function m8(t){return t&&Wc(t.canActivate)}function v8(t){return t&&Wc(t.canActivateChild)}function y8(t){return t&&Wc(t.canDeactivate)}function _8(t){return t&&Wc(t.canMatch)}function fA(t){return t instanceof vr||t?.name==="EmptyError"}var Ih=Symbol("INITIAL_VALUE");function Zo(){return cn(t=>ec(t.map(e=>e.pipe(an(1),Ul(Ih)))).pipe(Ee(e=>{for(let n of e)if(n!==!0){if(n===Ih)return Ih;if(n===!1||n instanceof Ii)return n}return!0}),Ht(e=>e!==Ih),an(1)))}function E8(t,e){return qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ue(Qe(K({},n),{guardsResult:!0})):w8(o,r,i,t).pipe(qe(a=>a&&p8(a)?I8(r,s,t,e):ue(a)),Ee(a=>Qe(K({},n),{guardsResult:a})))})}function w8(t,e,n,r){return He(t).pipe(qe(i=>T8(i.component,i.route,n,e,r)),Un(i=>i!==!0,!0))}function I8(t,e,n,r){return He(e).pipe(ss(i=>ai(D8(i.route.parent,r),x8(i.route,r),b8(t,i.path,n),C8(t,i.route,n))),Un(i=>i!==!0,!0))}function x8(t,e){return t!==null&&e&&e(new Gv(t)),ue(!0)}function D8(t,e){return t!==null&&e&&e(new qv(t)),ue(!0)}function C8(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(s=>Ll(()=>{let o=Gc(e)??n,a=ea(s,o),c=m8(a)?a.canActivate(e,t):Ir(o,()=>a(e,t));return Ci(c).pipe(Un())}));return ue(i).pipe(Zo())}function b8(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>d8(o)).filter(o=>o!==null).map(o=>Ll(()=>{let a=o.guards.map(c=>{let l=Gc(o.node)??n,d=ea(c,l),h=v8(d)?d.canActivateChild(r,t):Ir(l,()=>d(r,t));return Ci(h).pipe(Un())});return ue(a).pipe(Zo())}));return ue(s).pipe(Zo())}function T8(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ue(!0);let o=s.map(a=>{let c=Gc(e)??i,l=ea(a,c),d=y8(l)?l.canDeactivate(t,e,n,r):Ir(c,()=>l(t,e,n,r));return Ci(d).pipe(Un())});return ue(o).pipe(Zo())}function A8(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ue(!0);let s=i.map(o=>{let a=ea(o,t),c=g8(a)?a.canLoad(e,n):Ir(t,()=>a(e,n));return Ci(c)});return ue(s).pipe(Zo(),pA(r))}function pA(t){return yl(pt(e=>{if(Yo(e))throw lA(t,e)}),Ee(e=>e===!0))}function S8(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ue(!0);let s=i.map(o=>{let a=ea(o,t),c=_8(a)?a.canMatch(e,n):Ir(t,()=>a(e,n));return Ci(c)});return ue(s).pipe(Zo(),pA(r))}var $c=class{constructor(e){this.segmentGroup=e||null}},Oh=class extends Error{constructor(e){super(),this.urlTree=e}};function zo(t){return vo(new $c(t))}function R8(t){return vo(new Q(4e3,!1))}function N8(t){return vo(dA(!1,hn.GuardRejected))}var ey=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ue(r);if(i.numberOfChildren>1||!i.children[ye])return R8(e.redirectTo);i=i.children[ye]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Oh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Ii(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ke(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ty={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P8(t,e,n,r,i){let s=cy(t,e,n);return s.matched?(r=a8(e,r),S8(r,e,n,i).pipe(Ee(o=>o===!0?s:K({},ty)))):ue(s)}function cy(t,e,n){if(e.path==="**")return M8(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?K({},ty):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||AV)(n,t,e);if(!i)return K({},ty);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?K(K({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function M8(t){return{matched:!0,parameters:t.length>0?WT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function HT(t,e,n,r){return n.length>0&&F8(t,n,r)?{segmentGroup:new ke(e,O8(r,new ke(n,t.children))),slicedSegments:[]}:n.length===0&&L8(t,n,r)?{segmentGroup:new ke(t.segments,k8(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function k8(t,e,n,r){let i={};for(let s of n)if(Vh(t,e,s)&&!r[Xn(s)]){let o=new ke([],{});i[Xn(s)]=o}return K(K({},r),i)}function O8(t,e){let n={};n[ye]=e;for(let r of t)if(r.path===""&&Xn(r)!==ye){let i=new ke([],{});n[Xn(r)]=i}return n}function F8(t,e,n){return n.some(r=>Vh(t,e,r)&&Xn(r)!==ye)}function L8(t,e,n){return n.some(r=>Vh(t,e,r))}function Vh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function B8(t,e,n,r){return Xn(t)!==r&&(r===ye||!Vh(e,n,t))?!1:cy(e,t,n).matched}function V8(t,e,n){return e.length===0&&!t.children[n]}var ny=class{};function U8(t,e,n,r,i,s,o="emptyOnly"){return new ry(t,e,n,r,i,o,s).recognize()}var j8=31,ry=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ey(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=HT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(n=>{let r=new Uc([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,{}),i=new dn(r,n),s=new Mh("",i),o=WV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(ci(r=>{if(r instanceof Oh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $c?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=sy(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Ee(s=>s instanceof dn?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return He(i).pipe(ss(s=>{let o=r.children[s],a=c8(n,s);return this.processSegmentGroup(e,a,o,s)}),Vl((s,o)=>(s.push(...o),s)),ui(null),kg(),qe(s=>{if(s===null)return zo(r);let o=gA(s);return $8(o),ue(o)}))}processSegment(e,n,r,i,s,o){return He(n).pipe(ss(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ci(c=>{if(c instanceof $c)return ue(null);throw c}))),Un(a=>!!a),ci(a=>{if(fA(a))return V8(r,i,s)?ue(new ny):zo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return B8(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):zo(i):zo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=cy(n,i,s);if(!a)return zo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>j8&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,h).pipe(qe(p=>this.processSegment(e,r,n,p.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=P8(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(cn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cn(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:p}=a,m=new Uc(d,p,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,q8(r),Xn(r),r.component??r._loadedComponent??null,r,z8(r)),{segmentGroup:v,slicedSegments:b}=HT(n,d,h,c);if(b.length===0&&v.hasChildren())return this.processChildren(l,c,v).pipe(Ee(y=>y===null?null:new dn(m,y)));if(c.length===0&&b.length===0)return ue(new dn(m,[]));let D=Xn(r)===s;return this.processSegment(l,c,v,b,D?ye:s,!0).pipe(Ee(y=>new dn(m,y instanceof dn?[y]:[])))}))):zo(n)))}getChildConfig(e,n,r){return n.children?ue({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ue({routes:n._loadedRoutes,injector:n._loadedInjector}):A8(e,n,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,n).pipe(pt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):N8(n))):ue({routes:[],injector:e})}};function $8(t){t.sort((e,n)=>e.value.outlet===ye?-1:n.value.outlet===ye?1:e.value.outlet.localeCompare(n.value.outlet))}function H8(t){let e=t.value.routeConfig;return e&&e.path===""}function gA(t){let e=[],n=new Set;for(let r of t){if(!H8(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=gA(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!n.has(r))}function q8(t){return t.data||{}}function z8(t){return t.resolve||{}}function G8(t,e,n,r,i,s){return qe(o=>U8(t,e,n,r,o.extractedUrl,i,s).pipe(Ee(({state:a,tree:c})=>Qe(K({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function W8(t,e){return qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ue(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of mA(c))o.add(l);let a=0;return He(o).pipe(ss(c=>s.has(c)?K8(c,r,t,e):(c.data=sy(c,c.parent,t).resolve,ue(void 0))),pt(()=>a++),Eo(1),qe(c=>a===o.size?ue(n):bt))})}function mA(t){let e=t.children.map(n=>mA(n)).flat();return[t,...e]}function K8(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!cA(i)&&(s[Hc]=i.title),Q8(s,t,e,r).pipe(Ee(o=>(t._resolvedData=o,t.data=sy(t,t.parent,n).resolve,null)))}function Q8(t,e,n,r){let i=kv(t);if(i.length===0)return ue({});let s={};return He(i).pipe(qe(o=>Y8(t[o],e,n,r).pipe(Un(),pt(a=>{s[o]=a}))),Eo(1),tc(s),ci(o=>fA(o)?bt:vo(o)))}function Y8(t,e,n,r){let i=Gc(e)??r,s=ea(t,i),o=s.resolve?s.resolve(e,n):Ir(i,()=>s(e,n));return Ci(o)}function Pv(t){return cn(e=>{let n=t(e);return n?He(n).pipe(Ee(()=>e)):ue(e)})}var vA=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ye);return i}getResolvedTitleForRoute(r){return r.data[Hc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>z(J8),providedIn:"root"});let t=e;return t})(),J8=(()=>{let e=class e extends vA{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(X(LT))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kc=new Z("",{providedIn:"root",factory:()=>({})}),Fh=new Z(""),uy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(sh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ue(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ci(r.loadComponent()).pipe(Ee(yA),pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),nc(()=>{this.componentLoaders.delete(r)})),s=new fo(i,()=>new $t).pipe(ho());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=X8(i,this.compiler,r,this.onLoadEndListener).pipe(nc(()=>{this.childrenLoaders.delete(i)})),a=new fo(o,()=>new $t).pipe(ho());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X8(t,e,n,r){return Ci(t.loadChildren()).pipe(Ee(yA),qe(i=>i instanceof mc||Array.isArray(i)?ue(i):He(e.compileModuleAsync(i))),Ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Fh,[],{optional:!0,self:!0}).flat()),{routes:o.map(ay),injector:s}}))}function Z8(t){return t&&typeof t=="object"&&"default"in t}function yA(t){return Z8(t)?t.default:t}var ly=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>z(e6),providedIn:"root"});let t=e;return t})(),e6=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_A=new Z(""),EA=new Z("");function t6(t,e,n){let r=t.get(EA),i=t.get(Kt);return t.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),n6(t))),{onViewTransitionCreated:c}=r;return c&&Ir(t,()=>c({transition:a,from:e,to:n})),o})}function n6(t){return new Promise(e=>{Xd(e,{injector:t})})}var dy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $t,this.transitionAbortSubject=new $t,this.configLoader=z(uy),this.environmentInjector=z(tn),this.urlSerializer=z(qc),this.rootContexts=z(zc),this.location=z(qo),this.inputBindingEnabled=z(Bh,{optional:!0})!==null,this.titleStrategy=z(vA),this.options=z(Kc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(ly),this.createViewTransition=z(_A,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let r=s=>this.events.next(new $v(s)),i=s=>this.events.next(new Hv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Qe(K(K({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ct({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(o=>o.id!==0),Ee(o=>Qe(K({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),cn(o=>{let a=!1,c=!1;return ue(o).pipe(cn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),bt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Qe(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Di(l.id,this.urlSerializer.serialize(l.rawUrl),p,Ah.IgnoredSameUrlNavigation)),l.resolve(null),bt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ue(l).pipe(cn(p=>{let m=this.transitions?.getValue();return this.events.next(new Jo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?bt:Promise.resolve(p)}),G8(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Qe(K({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Sh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:b,extras:D}=l,y=new Jo(p,this.urlSerializer.serialize(m),v,b);this.events.next(y);let x=oA(this.rootComponentType).snapshot;return this.currentTransition=o=Qe(K({},l),{targetSnapshot:x,urlAfterRedirects:m,extras:Qe(K({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ue(o)}else{let p="";return this.events.next(new Di(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Ah.IgnoredByUrlHandlingStrategy)),l.resolve(null),bt}}),pt(l=>{let d=new Bv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ee(l=>(this.currentTransition=o=Qe(K({},l),{guards:l8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),E8(this.environmentInjector,l=>this.events.next(l)),pt(l=>{if(o.guardsResult=l.guardsResult,Yo(l.guardsResult))throw lA(this.urlSerializer,l.guardsResult);let d=new Vv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",hn.GuardRejected),!1)),Pv(l=>{if(l.guards.canActivateChecks.length)return ue(l).pipe(pt(d=>{let h=new Uv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),cn(d=>{let h=!1;return ue(d).pipe(W8(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",hn.NoDataFromResolver)}}))}),pt(d=>{let h=new jv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Pv(l=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(pt(m=>{h.component=m}),Ee(()=>{})));for(let m of h.children)p.push(...d(m));return p};return ec(d(l.targetSnapshot.root)).pipe(ui(null),an(1))}),Pv(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?He(h).pipe(Ee(()=>o)):ue(o)}),Ee(l=>{let d=n8(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Qe(K({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),pt(()=>{this.events.next(new Bc)}),u8(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),an(1),pt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),jl(this.transitionAbortSubject.pipe(pt(l=>{throw l}))),nc(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ci(l=>{if(c=!0,hA(l))this.events.next(new xi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),s8(l)?this.events.next(new Vc(l.url)):o.resolve(!1);else{this.events.next(new Lc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return bt}))}))}cancelNavigationTransition(r,i,s){let o=new xi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r6(t){return t!==Mc}var i6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>z(s6),providedIn:"root"});let t=e;return t})(),iy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},s6=(()=>{let e=class e extends iy{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=T0(e)))(s||e)}})(),e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:()=>z(o6),providedIn:"root"});let t=e;return t})(),o6=(()=>{let e=class e extends wA{constructor(){super(...arguments),this.location=z(qo),this.urlSerializer=z(qc),this.options=z(Kc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(ly),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Jo)this.stateMemento=this.createStateMemento();else if(r instanceof Di)this.rawUrlTree=i.initialUrl;else if(r instanceof Sh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Bc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xi&&(r.code===hn.GuardRejected||r.code===hn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Lc?this.restoreHistory(i,!0):r instanceof Rr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=K(K({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=K(K({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=T0(e)))(s||e)}})(),e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Nc||{});function IA(t,e){t.events.pipe(Ht(n=>n instanceof Rr||n instanceof xi||n instanceof Lc||n instanceof Di),Ee(n=>n instanceof Rr||n instanceof Di?Nc.COMPLETE:(n instanceof xi?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?Nc.REDIRECTING:Nc.FAILED),Ht(n=>n!==Nc.REDIRECTING),an(1)).subscribe(()=>{e()})}function a6(t){throw t}var c6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bs=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=z(th),this.stateManager=z(wA),this.options=z(Kc,{optional:!0})||{},this.pendingTasks=z(eh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(dy),this.urlSerializer=z(qc),this.location=z(qo),this.urlHandlingStrategy=z(ly),this._events=new $t,this.errorHandler=this.options.errorHandler||a6,this.navigated=!1,this.routeReuseStrategy=z(i6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(Fh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(Bh,{optional:!0}),this.eventsSubscription=new rt,this.isNgZoneEnabled=z(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xi&&i.code!==hn.Redirect&&i.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rr)this.navigated=!0;else if(i instanceof Vc){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||r6(s.source)};this.scheduleNavigation(a,Mc,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}d6(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=K({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ay),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=K(K({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=s?s.snapshot:this.routerState.snapshot.root;p=nA(m)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),p=this.currentUrlTree.root}return rA(p,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Yo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,i)}navigate(r,i={skipLocationChange:!1}){return l6(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=K({},c6):i===!1?s=K({},u6):s=i,Yo(r))return BT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return BT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((p,m)=>{c=p,l=m});let h=this.pendingTasks.add();return IA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l6(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function d6(t){return!(t instanceof Bc)&&!(t instanceof Vc)}var Lh=class{};var h6=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(r=>r instanceof Rr),ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Zd(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return He(s).pipe(oi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=ue(null);let o=s.pipe(qe(a=>a===null?ue(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return He([o,a]).pipe(oi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(X(bs),X(sh),X(tn),X(Lh),X(uy))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xA=new Z(""),f6=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=z(tn),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Rr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Di&&r.code===Ah.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Rh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>R(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Xd(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Rh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){ob()},e.\u0275prov=Y({token:e,factory:e.\u0275fac});let t=e;return t})();function p6(t){return t.routerState.root}function Qc(t,e){return{\u0275kind:t,\u0275providers:e}}function g6(){let t=z(_t);return e=>{let n=t.get(jo);if(e!==n.components[0])return;let r=t.get(bs),i=t.get(DA);t.get(hy)===1&&r.initialNavigation(),t.get(CA,null,we.Optional)?.setUpPreloading(),t.get(xA,null,we.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DA=new Z("",{factory:()=>new $t}),hy=new Z("",{providedIn:"root",factory:()=>1});function m6(){return Qc(2,[{provide:hy,useValue:0},{provide:ih,multi:!0,deps:[_t],useFactory:e=>{let n=e.get(ET,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(bs),s=e.get(DA);IA(i,()=>{r(!0)}),e.get(dy).afterPreactivation=()=>(r(!0),s.closed?ue(void 0):s),i.initialNavigation()}))}}])}function v6(){return Qc(3,[{provide:ih,multi:!0,useFactory:()=>{let e=z(bs);return()=>{e.setUpLocationChangeListener()}}},{provide:hy,useValue:2}])}var CA=new Z("");function y6(t){return Qc(0,[{provide:CA,useExisting:h6},{provide:Lh,useExisting:t}])}function _6(){return Qc(8,[$T,{provide:Bh,useExisting:$T}])}function E6(t){let e=[{provide:_A,useValue:t6},{provide:EA,useValue:K({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qc(9,e)}var qT=new Z("ROUTER_FORROOT_GUARD"),w6=[qo,{provide:qc,useClass:Oc},bs,zc,{provide:Xo,useFactory:p6,deps:[bs]},uy,[]],NX=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[w6,[],{provide:Fh,multi:!0,useValue:r},{provide:qT,useFactory:C6,deps:[[bs,new tt,new bd]]},{provide:Kc,useValue:i||{}},i?.useHash?x6():D6(),I6(),i?.preloadingStrategy?y6(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?b6(i):[],i?.bindToComponentInputs?_6().\u0275providers:[],i?.enableViewTransitions?E6().\u0275providers:[],T6()]}}static forChild(r){return{ngModule:e,providers:[{provide:Fh,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(X(qT,8))},e.\u0275mod=_s({type:e}),e.\u0275inj=ys({});let t=e;return t})();function I6(){return{provide:xA,useFactory:()=>{let t=z(ST),e=z(De),n=z(Kc),r=z(dy),i=z(qc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new f6(i,r,t,e,n)}}}function x6(){return{provide:xs,useClass:IT}}function D6(){return{provide:xs,useClass:yv}}function C6(t){return"guarded"}function b6(t){return[t.initialNavigation==="disabled"?v6().\u0275providers:[],t.initialNavigation==="enabledBlocking"?m6().\u0275providers:[]]}var zT=new Z("");function T6(){return[{provide:zT,useFactory:g6},{provide:tv,multi:!0,useExisting:zT}]}var A6=function(t){return t.LOGIN="login",t.REG="reg",t.HOME="",t.CHAT="chat",t}(A6||{});var TA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S6=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new py;let p=s<<2|a>>4;if(r.push(p),l!==64){let m=a<<4&240|l>>2;if(r.push(m),h!==64){let v=l<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},py=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R6=function(t){let e=TA(t);return AA.encodeByteArray(e,!0)},Yc=function(t){return R6(t).replace(/\./g,"")},my=function(t){try{return AA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function N6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var P6=()=>N6().__FIREBASE_DEFAULTS__,M6=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&my(t[1]);return e&&JSON.parse(e)},jh=()=>{try{return P6()||M6()||k6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vy=t=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$h=t=>{let e=vy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yy=()=>{var t;return(t=jh())===null||t===void 0?void 0:t.config},_y=t=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${t}`]};var Uh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Hh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(o)),""].join(".")}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function O6(){var t;let e=(t=jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){let t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MA(){return!O6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ey(){try{return typeof indexedDB=="object"}catch{return!1}}function kA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var F6="FirebaseError",Qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F6,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nr.prototype.create)}},Nr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?L6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qt(i,a,r)}};function L6(t,e){return t.replace(B6,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var B6=/\{\$([^}]+)}/g;function OA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ts(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(bA(s)&&bA(o)){if(!Ts(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function bA(t){return t!==null&&typeof t=="object"}function Jc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function na(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FA(t,e){let n=new gy(t,e);return n.subscribe.bind(n)}var gy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V6(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fy(){}var OX=4*60*60*1e3;function ot(t){return t&&t._delegate?t._delegate:t}var rn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var As="[DEFAULT]";var wy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Uh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j6(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U6(t){return t===As?void 0:t}function j6(t){return t.instantiationMode==="EAGER"}var qh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $6=[],Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{}),H6={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},q6=Ce.INFO,z6={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},G6=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=z6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bi=class{constructor(e){this.name=e,this._logLevel=q6,this._logHandler=G6,this._userLogHandler=null,$6.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var W6=(t,e)=>e.some(n=>t instanceof n),LA,BA;function K6(){return LA||(LA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q6(){return BA||(BA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var VA=new WeakMap,xy=new WeakMap,UA=new WeakMap,Iy=new WeakMap,Cy=new WeakMap;function Y6(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VA.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function J6(t){if(xy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xy.set(t,e)}var Dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jA(t){Dy=t(Dy)}function X6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zh(this),e,...n);return UA.set(r,e.sort?e.sort():[e]),Zn(r)}:Q6().includes(t)?function(...e){return t.apply(zh(this),e),Zn(VA.get(this))}:function(...e){return Zn(t.apply(zh(this),e))}}function Z6(t){return typeof t=="function"?X6(t):(t instanceof IDBTransaction&&J6(t),W6(t,K6())?new Proxy(t,Dy):t)}function Zn(t){if(t instanceof IDBRequest)return Y6(t);if(Iy.has(t))return Iy.get(t);let e=Z6(t);return e!==t&&(Iy.set(t,e),Cy.set(e,t)),e}var zh=t=>Cy.get(t);function HA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Zn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zn(o.result),c.oldVersion,c.newVersion,Zn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var eU=["get","getKey","getAll","getAllKeys","count"],tU=["put","add","delete","clear"],by=new Map;function $A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=tU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eU.includes(n)))return;let s=function(o,...a){return R(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return by.set(e,s),s}jA(t=>Qe(K({},t),{get:(e,n,r)=>$A(e,n)||t.get(e,n,r),has:(e,n)=>!!$A(e,n)||t.has(e,n)}));var Ay=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function nU(t){let e=t.getComponent();return e?.type==="VERSION"}var Sy="@firebase/app",qA="0.10.10";var Pr=new bi("@firebase/app"),rU="@firebase/app-compat",iU="@firebase/analytics-compat",sU="@firebase/analytics",oU="@firebase/app-check-compat",aU="@firebase/app-check",cU="@firebase/auth",uU="@firebase/auth-compat",lU="@firebase/database",dU="@firebase/database-compat",hU="@firebase/functions",fU="@firebase/functions-compat",pU="@firebase/installations",gU="@firebase/installations-compat",mU="@firebase/messaging",vU="@firebase/messaging-compat",yU="@firebase/performance",_U="@firebase/performance-compat",EU="@firebase/remote-config",wU="@firebase/remote-config-compat",IU="@firebase/storage",xU="@firebase/storage-compat",DU="@firebase/firestore",CU="@firebase/vertexai-preview",bU="@firebase/firestore-compat",TU="firebase",AU="10.13.1";var Ry="[DEFAULT]",SU={[Sy]:"fire-core",[rU]:"fire-core-compat",[sU]:"fire-analytics",[iU]:"fire-analytics-compat",[aU]:"fire-app-check",[oU]:"fire-app-check-compat",[cU]:"fire-auth",[uU]:"fire-auth-compat",[lU]:"fire-rtdb",[dU]:"fire-rtdb-compat",[hU]:"fire-fn",[fU]:"fire-fn-compat",[pU]:"fire-iid",[gU]:"fire-iid-compat",[mU]:"fire-fcm",[vU]:"fire-fcm-compat",[yU]:"fire-perf",[_U]:"fire-perf-compat",[EU]:"fire-rc",[wU]:"fire-rc-compat",[IU]:"fire-gcs",[xU]:"fire-gcs-compat",[DU]:"fire-fst",[bU]:"fire-fst-compat",[CU]:"fire-vertex","fire-js":"fire-js",[TU]:"fire-js-all"};var Xc=new Map,RU=new Map,Ny=new Map;function zA(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){let e=t.name;if(Ny.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,t);for(let n of Xc.values())zA(n,t);for(let n of RU.values())zA(n,t);return!0}function Ss(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t.settings!==void 0}var NU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Nr("app","Firebase",NU);var Py=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}};var tr=AU;function Oy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ry,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=yy()),!n)throw Ti.create("no-options");let s=Xc.get(i);if(s){if(Ts(n,s.options)&&Ts(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}let o=new qh(i);for(let c of Ny.values())o.addComponent(c);let a=new Py(n,r,o);return Xc.set(i,a),a}function Ai(t=Ry){let e=Xc.get(t);if(!e&&t===Ry&&yy())return Oy();if(!e)throw Ti.create("no-app",{appName:t});return e}function Gh(){return Array.from(Xc.values())}function Ge(t,e,n){var r;let i=(r=SU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}er(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var PU="firebase-heartbeat-database",MU=1,Zc="firebase-heartbeat-store",Ty=null;function QA(){return Ty||(Ty=HA(PU,MU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),Ty}function kU(t){return R(this,null,function*(){try{let n=(yield QA()).transaction(Zc),r=yield n.objectStore(Zc).get(YA(t));return yield n.done,r}catch(e){if(e instanceof Qt)Pr.warn(e.message);else{let n=Ti.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(n.message)}}})}function GA(t,e){return R(this,null,function*(){try{let r=(yield QA()).transaction(Zc,"readwrite");yield r.objectStore(Zc).put(e,YA(t)),yield r.done}catch(n){if(n instanceof Qt)Pr.warn(n.message);else{let r=Ti.create("idb-set",{originalErrorMessage:n?.message});Pr.warn(r.message)}}})}function YA(t){return`${t.name}!${t.options.appId}`}var OU=1024,FU=30*24*60*60*1e3,My=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ky(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=FU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pr.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=WA(),{heartbeatsToSend:r,unsentEntries:i}=LU(this._heartbeatsCache.heartbeats),s=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pr.warn(n),""}})}};function WA(){return new Date().toISOString().substring(0,10)}function LU(t,e=OU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ky=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return Ey()?kA().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield kU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function KA(t){return Yc(JSON.stringify({version:2,heartbeats:t})).length}function BU(t){er(new rn("platform-logger",e=>new Ay(e),"PRIVATE")),er(new rn("heartbeat",e=>new My(e),"PRIVATE")),Ge(Sy,qA,t),Ge(Sy,qA,"esm2017"),Ge("fire-js","")}BU("");var VU="firebase",UU="10.13.1";Ge(VU,UU,"app");var Mr=new gi("ANGULARFIRE2_VERSION");function ia(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ns=(t,e)=>{let n=e?[e]:Gh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Si=class{constructor(){return Ns(jU)}},jU="app-check";function ra(){}var Wh=class{zone;delegate;constructor(e,n=Ag){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Fy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),n.pipe(pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ri=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Wh(Zone.current)),this.insideAngular=n.run(()=>new Wh(Zone.current,gn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(De))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $U(t){return Kh().ngZone.runOutsideAngular(()=>t())}function Rs(t){return Kh().ngZone.run(()=>t())}function HU(t){return qU(Kh())(t)}function qU(t){return function(n){return n=n.lift(new Fy(t.ngZone)),n.pipe(si(t.outsideAngular),ii(t.insideAngular))}}var zU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Rs(()=>t.apply(void 0,r))},Je=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra))),r[s]=zU(r[s],n));let i=$U(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=Kh();return i.pipe(si(s.outsideAngular),ii(s.insideAngular))}else return Rs(()=>i);return i instanceof ie?i.pipe(HU):i instanceof Promise?Rs(()=>new Promise((s,o)=>i.then(a=>Rs(()=>s(a)),a=>Rs(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};var Pn=class{constructor(e){return e}},kr=class{constructor(){return Gh()}};function GU(t){return t&&t.length===1?t[0]:new Pn(Ai())}var Ly=new Z("angularfire2._apps"),WU={provide:Pn,useFactory:GU,deps:[[new tt,Ly]]},KU={provide:kr,deps:[[new tt,Ly]]};function QU(t){return(e,n)=>{let r=n.get(Qn);Ge("angularfire",Mr.full,"core"),Ge("angularfire",Mr.full,"app"),Ge("angular",tT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Pn(i)}}function wZ(t,...e){return Wn([WU,KU,{provide:Ly,useFactory:QU(t),multi:!0,deps:[De,_t,Ri,...e]}])}var IZ=Je(Oy,!0);function fS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pS=fS,gS=new Nr("auth","Firebase",fS());var ef=new bi("@firebase/auth");function YU(t,...e){ef.logLevel<=Ce.WARN&&ef.warn(`Auth (${tr}): ${t}`,...e)}function Yh(t,...e){ef.logLevel<=Ce.ERROR&&ef.error(`Auth (${tr}): ${t}`,...e)}function rr(t,...e){throw o_(t,...e)}function Ps(t,...e){return o_(t,...e)}function mS(t,e,n){let r=Object.assign(Object.assign({},pS()),{[e]:n});return new Nr("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return mS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gS.create(t,...e)}function oe(t,e,...n){if(!t)throw o_(e,...n)}function Or(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function Pi(t,e){t||Or(e)}function jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JU(){return JA()==="http:"||JA()==="https:"}function JA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function XU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JU()||RA()||"connection"in navigator)?navigator.onLine:!0}function ZU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ms=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=SA()||NA()}get(){return XU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function a_(t,e){Pi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var e3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var t3=new Ms(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ki(s,o,a,c){return R(this,arguments,function*(t,e,n,r,i={}){return vS(t,i,()=>R(this,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let h=Jc(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),tf.fetch()(yS(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},l))}))})}function vS(t,e,n){return R(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},e3),e);try{let i=new $y(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Qh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Qh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Qh(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mS(t,d,l);rr(t,d)}}catch(i){if(i instanceof Qt)throw i;rr(t,"network-request-failed",{message:String(i)})}})}function au(s,o,a,c){return R(this,arguments,function*(t,e,n,r,i={}){let l=yield ki(t,e,n,r,i);return"mfaPendingCredential"in l&&rr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function yS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?a_(t.config,i):`${t.config.apiScheme}://${i}`}function n3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $y=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ps(this.auth,"network-request-failed")),t3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Qh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ps(t,e,r);return i.customData._tokenResponse=n,i}function XA(t){return t!==void 0&&t.enterprise!==void 0}var Hy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function r3(t,e){return R(this,null,function*(){return ki(t,"GET","/v2/recaptchaConfig",Mi(t,e))})}function i3(t,e){return R(this,null,function*(){return ki(t,"POST","/v1/accounts:delete",e)})}function _S(t,e){return R(this,null,function*(){return ki(t,"POST","/v1/accounts:lookup",e)})}function eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function c_(t,e=!1){return R(this,null,function*(){let n=ot(t),r=yield n.getIdToken(e),i=u_(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:eu(By(i.auth_time)),issuedAtTime:eu(By(i.iat)),expirationTime:eu(By(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function By(t){return Number(t)*1e3}function u_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{let i=my(n);return i?JSON.parse(i):(Yh("Failed to decode base64 JWT payload"),null)}catch(i){return Yh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZA(t){let e=u_(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nu(t,e,n=!1){return R(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Qt&&s3(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function s3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var qy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>R(this,null,function*(){yield this.iteration()}),n)}iteration(){return R(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ru=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nf(t){return R(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nu(t,_S(n,{idToken:r}));oe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ES(s.providerUserInfo):[],a=o3(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ru(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function l_(t){return R(this,null,function*(){let e=ot(t);yield nf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function o3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ES(t){return t.map(e=>{var{providerId:n}=e,r=Rg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function a3(t,e){return R(this,null,function*(){let n=yield vS(t,{},()=>R(this,null,function*(){let r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function c3(t,e){return R(this,null,function*(){return ki(t,"POST","/v2/accounts:revokeToken",Mi(t,e))})}var tu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let n=ZA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return R(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return R(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield a3(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Or("not implemented")}};function Ni(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var sa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ru(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return R(this,null,function*(){let n=yield nu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return c_(this,e)}reload(){return l_(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return R(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return R(this,null,function*(){if(Nn(this.auth.app))return Promise.reject(Lr(this.auth));let e=yield this.getIdToken();return yield nu(this,i3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:P,isAnonymous:O,providerData:M,stsTokenManager:T}=n;oe(N&&T,e,"internal-error");let _=tu.fromJSON(this.name,T);oe(typeof N=="string",e,"internal-error"),Ni(h,e.name),Ni(p,e.name),oe(typeof P=="boolean",e,"internal-error"),oe(typeof O=="boolean",e,"internal-error"),Ni(m,e.name),Ni(v,e.name),Ni(b,e.name),Ni(D,e.name),Ni(y,e.name),Ni(x,e.name);let w=new t({uid:N,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:O,photoURL:v,phoneNumber:m,tenantId:b,stsTokenManager:_,createdAt:y,lastLoginAt:x});return M&&Array.isArray(M)&&(w.providerData=M.map(A=>Object.assign({},A))),D&&(w._redirectEventId=D),w}static _fromIdTokenResponse(e,n,r=!1){return R(this,null,function*(){let i=new tu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nf(s),s})}static _fromGetAccountInfoResponse(e,n,r){return R(this,null,function*(){let i=n.users[0];oe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ES(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new tu;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ru(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var eS=new Map;function Fr(t){Pi(t instanceof Function,"Expected a class definition");let e=eS.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eS.set(t,e),e)}var u3=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return R(this,null,function*(){return!0})}_set(n,r){return R(this,null,function*(){this.storage[n]=r})}_get(n){return R(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return R(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),zy=u3;function Jh(t,e,n){return`firebase:${t}:${e}:${n}`}var rf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return R(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?sa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return R(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return R(this,null,function*(){if(!n.length)return new t(Fr(zy),e,r);let i=(yield Promise.all(n.map(l=>R(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Fr(zy),o=Jh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(o);if(d){let h=sa._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>R(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function tS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bS(e))return"Blackberry";if(TS(e))return"Webos";if(IS(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(CS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wS(t=wt()){return/firefox\//i.test(t)}function IS(t=wt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=wt()){return/crios\//i.test(t)}function DS(t=wt()){return/iemobile/i.test(t)}function CS(t=wt()){return/android/i.test(t)}function bS(t=wt()){return/blackberry/i.test(t)}function TS(t=wt()){return/webos/i.test(t)}function d_(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l3(t=wt()){var e;return d_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d3(){return PA()&&document.documentMode===10}function AS(t=wt()){return d_(t)||CS(t)||TS(t)||bS(t)||/windows phone/i.test(t)||DS(t)}function SS(t,e=[]){let n;switch(t){case"Browser":n=tS(wt());break;case"Worker":n=`${tS(wt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tr}/${r}`}var Gy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return R(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function h3(n){return R(this,arguments,function*(t,e={}){return ki(t,"GET","/v2/passwordPolicy",Mi(t,e))})}var f3=6,Wy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:f3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ky=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sf(this),this.idTokenSubscription=new sf(this),this.beforeStateQueue=new Gy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(()=>R(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return R(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return R(this,null,function*(){try{let n=yield _S(this,{idToken:e}),r=yield sa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return R(this,null,function*(){var n;if(Nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return R(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return R(this,null,function*(){try{yield nf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZU()}_delete(){return R(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return R(this,null,function*(){if(Nn(this.app))return Promise.reject(Lr(this));let n=e?ot(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return R(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>R(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return R(this,null,function*(){return Nn(this.app)?Promise.reject(Lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Nn(this.app)?Promise.reject(Lr(this)):this.queue(()=>R(this,null,function*(){yield this.assertedPersistence.setPersistence(Fr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return R(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return R(this,null,function*(){let e=yield h3(this),n=new Wy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return R(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield c3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return R(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return R(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=yield rf.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return R(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>R(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return R(this,null,function*(){if(e===this.currentUser)return this.queue(()=>R(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return R(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return R(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return R(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&YU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Os(t){return ot(t)}var sf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hf={loadJS(){return R(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p3(t){hf=t}function RS(t){return hf.loadJS(t)}function g3(){return hf.recaptchaEnterpriseScript}function m3(){return hf.gapiScript}function NS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var v3="recaptcha-enterprise",y3="NO_RECAPTCHA",Qy=class{constructor(e){this.type=v3,this.auth=Os(e)}verify(e="verify",n=!1){return R(this,null,function*(){function r(s){return R(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>R(this,null,function*(){r3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Hy(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;XA(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(y3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&XA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=g3();c.length!==0&&(c+=a),RS(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function nS(t,e,n,r=!1){return R(this,null,function*(){let i=new Qy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Yy(t,e,n,r){return R(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield nS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>R(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield nS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function h_(t,e){let n=Ss(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ts(s,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function _3(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function f_(t,e,n){let r=Os(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=PS(e),{host:o,port:a}=E3(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||w3()}function PS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E3(t){let e=PS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:rS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:rS(o)}}}function rS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function w3(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var iu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}};function I3(t,e){return R(this,null,function*(){return ki(t,"POST","/v1/accounts:signUp",e)})}function x3(t,e){return R(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))})}function D3(t,e){return R(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))})}function C3(t,e){return R(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))})}var su=class t extends iu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return R(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yy(e,n,"signInWithPassword",x3);case"emailLink":return D3(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}})}_linkToIdToken(e,n){return R(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yy(e,r,"signUpPassword",I3);case"emailLink":return C3(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Vy(t,e){return R(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))})}function b3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T3(t){let e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,r=ta(na(t)).deep_link_id;return(r?ta(na(r)).link:null)||r||n||e||t}var of=class t{constructor(e){var n,r,i,s,o,a;let c=ta(na(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=b3((i=c.mode)!==null&&i!==void 0?i:null);oe(l&&d&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=T3(e);try{return new t(n)}catch{return null}}};var MS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return su._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=of.parseLink(r);return oe(i,"argument-error"),su._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),af=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jy=class extends af{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function A3(t,e){return R(this,null,function*(){return au(t,"POST","/v1/accounts:signUp",Mi(t,e))})}var oa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return R(this,null,function*(){let s=yield sa._fromIdTokenResponse(e,r,i),o=iS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return R(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=iS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function iS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Xy=class t extends Qt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function kS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xy._fromErrorAndOperation(t,s,e,r):s})}function S3(t,e,n=!1){return R(this,null,function*(){let r=yield nu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return oa._forOperation(t,"link",r)})}function R3(t,e,n=!1){return R(this,null,function*(){let{auth:r}=t;if(Nn(r.app))return Promise.reject(Lr(r));let i="reauthenticate";try{let s=yield nu(t,kS(r,i,e,t),n);oe(s.idToken,r,"internal-error");let o=u_(s.idToken);oe(o,r,"internal-error");let{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),oa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rr(r,"user-mismatch"),s}})}function OS(t,e,n=!1){return R(this,null,function*(){if(Nn(t.app))return Promise.reject(Lr(t));let r="signIn",i=yield kS(t,r,e),s=yield oa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function p_(t,e){return R(this,null,function*(){return OS(Os(t),e)})}function FS(t){return R(this,null,function*(){let e=Os(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function g_(t,e,n){return R(this,null,function*(){if(Nn(t.app))return Promise.reject(Lr(t));let r=Os(t),o=yield Yy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&FS(t),c}),a=yield oa._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function m_(t,e,n){return Nn(t.app)?Promise.reject(Lr(t)):p_(ot(t),MS.credential(e,n)).catch(r=>R(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&FS(t),r}))}function v_(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function y_(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}var cf="__sak";var uf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var N3=1e3,P3=10,M3=(()=>{class t extends uf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);d3()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,P3):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},N3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return R(this,null,function*(){yield ti(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return R(this,null,function*(){let r=yield ti(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return R(this,null,function*(){yield ti(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),LS=M3;var k3=(()=>{class t extends uf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),__=k3;function O3(t){return Promise.all(t.map(e=>R(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var F3=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return R(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>R(this,null,function*(){return d(r.origin,o)})),l=yield O3(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function BS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Zy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return R(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=BS("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let p=h;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function nr(){return window}function L3(t){nr().location.href=t}function VS(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}function B3(){return R(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function V3(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U3(){return VS()?self:null}var US="firebaseLocalStorageDb",j3=1,lf="firebaseLocalStorage",jS="fbase_key",ks=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ff(t,e){return t.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function $3(){let t=indexedDB.deleteDatabase(US);return new ks(t).toPromise()}function e_(){let t=indexedDB.open(US,j3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(lf,{keyPath:jS})}catch(i){n(i)}}),t.addEventListener("success",()=>R(this,null,function*(){let r=t.result;r.objectStoreNames.contains(lf)?e(r):(r.close(),yield $3(),e(yield e_()))}))})}function sS(t,e,n){return R(this,null,function*(){let r=ff(t,!0).put({[jS]:e,value:n});return new ks(r).toPromise()})}function H3(t,e){return R(this,null,function*(){let n=ff(t,!1).get(e),r=yield new ks(n).toPromise();return r===void 0?null:r.value})}function oS(t,e){let n=ff(t,!0).delete(e);return new ks(n).toPromise()}var q3=800,z3=3,G3=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return R(this,null,function*(){return this.db?this.db:(this.db=yield e_(),this.db)})}_withRetries(n){return R(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>z3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return R(this,null,function*(){return VS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return R(this,null,function*(){this.receiver=F3._getInstance(U3()),this.receiver._subscribe("keyChanged",(n,r)=>R(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>R(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return R(this,null,function*(){var n,r;if(this.activeServiceWorker=yield B3(),!this.activeServiceWorker)return;this.sender=new Zy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return R(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||V3()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return R(this,null,function*(){try{if(!indexedDB)return!1;let n=yield e_();return yield sS(n,cf,"1"),yield oS(n,cf),!0}catch{}return!1})}_withPendingWrite(n){return R(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return R(this,null,function*(){return this._withPendingWrite(()=>R(this,null,function*(){return yield this._withRetries(i=>sS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return R(this,null,function*(){let r=yield this._withRetries(i=>H3(i,n));return this.localCache[n]=r,r})}_remove(n){return R(this,null,function*(){return this._withPendingWrite(()=>R(this,null,function*(){return yield this._withRetries(r=>oS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return R(this,null,function*(){let n=yield this._withRetries(s=>{let o=ff(s,!1).getAll();return new ks(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>R(this,null,function*(){return this._poll()}),q3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),$S=G3;var RZ=NS("rcb"),NZ=new Ms(3e4,6e4);function W3(t,e){return e?Fr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ou=class extends iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function K3(t){return OS(t.auth,new ou(t),t.bypassAuthState)}function Q3(t){let{auth:e,user:n}=t;return oe(n,e,"internal-error"),R3(n,new ou(t),t.bypassAuthState)}function Y3(t){return R(this,null,function*(){let{auth:e,user:n}=t;return oe(n,e,"internal-error"),S3(n,new ou(t),t.bypassAuthState)})}var t_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>R(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return R(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K3;case"linkViaPopup":case"linkViaRedirect":return Y3;case"reauthViaPopup":case"reauthViaRedirect":return Q3;default:rr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var PZ=new Ms(2e3,1e4);var J3="pendingRedirect",Xh=new Map,n_=class t extends t_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return R(this,null,function*(){let e=Xh.get(this.auth._key());if(!e){try{let r=(yield X3(this.resolver,this.auth))?yield ti(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return R(this,null,function*(){if(e.type==="signInViaRedirect")return ti(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ti(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return R(this,null,function*(){})}cleanUp(){}};function X3(t,e){return R(this,null,function*(){let n=tj(e),r=ej(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Z3(t,e){Xh.set(t._key(),e)}function ej(t){return Fr(t._redirectPersistence)}function tj(t){return Jh(J3,t.config.apiKey,t.name)}function nj(t,e,n=!1){return R(this,null,function*(){if(Nn(t.app))return Promise.reject(Lr(t));let r=Os(t),i=W3(r,e),o=yield new n_(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var rj=10*60*1e3,r_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ij(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ps(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}};function aS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ij(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HS(t);default:return!1}}function sj(n){return R(this,arguments,function*(t,e={}){return ki(t,"GET","/v1/projects",e)})}var oj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aj=/^https?/;function cj(t){return R(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield sj(t);for(let n of e)try{if(uj(n))return}catch{}rr(t,"unauthorized-domain")})}function uj(t){let e=jy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aj.test(n))return!1;if(oj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lj=new Ms(3e4,6e4);function cS(){let t=nr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dj(t){return new Promise((e,n)=>{var r,i,s;function o(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),n(Ps(t,"network-request-failed"))},timeout:lj.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nr().gapi)===null||s===void 0)&&s.load)o();else{let a=NS("iframefcb");return nr()[a]=()=>{gapi.load?o():n(Ps(t,"network-request-failed"))},RS(`${m3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Zh=null,e})}var Zh=null;function hj(t){return Zh=Zh||dj(t),Zh}var fj=new Ms(5e3,15e3),pj="__/auth/iframe",gj="emulator/auth/iframe",mj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yj(t){let e=t.config;oe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?a_(e,gj):`https://${t.config.authDomain}/${pj}`,r={apiKey:e.apiKey,appName:t.name,v:tr},i=vj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jc(r).slice(1)}`}function _j(t){return R(this,null,function*(){let e=yield hj(t),n=nr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:yj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mj,dontclear:!0},r=>new Promise((i,s)=>R(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ps(t,"network-request-failed"),a=nr().setTimeout(()=>{s(o)},fj.get());function c(){nr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wj=500,Ij=600,xj="_blank",Dj="http://localhost",df=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Cj(t,e,n,r=wj,i=Ij){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Ej),{width:r.toString(),height:i.toString(),top:s,left:o}),l=wt().toLowerCase();n&&(a=xS(l)?xj:n),wS(l)&&(e=e||Dj,c.scrollbars="yes");let d=Object.entries(c).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(l3(l)&&a!=="_self")return bj(e||"",a),new df(null);let h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new df(h)}function bj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Tj="__/auth/handler",Aj="emulator/auth/handler",Sj=encodeURIComponent("fac");function uS(t,e,n,r,i,s){return R(this,null,function*(){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(e instanceof af){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Jy){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),l=c?`#${Sj}=${encodeURIComponent(c)}`:"";return`${Rj(t)}?${Jc(a).slice(1)}${l}`})}function Rj({config:t}){return t.emulator?a_(t,Aj):`https://${t.authDomain}/${Tj}`}var Uy="webStorageSupport",i_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=__,this._completeRedirectFn=nj,this._overrideRedirectResult=Z3}_openPopup(e,n,r,i){return R(this,null,function*(){var s;Pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield uS(e,n,r,jy(),i);return Cj(e,o,BS())})}_openRedirect(e,n,r,i){return R(this,null,function*(){yield this._originValidation(e);let s=yield uS(e,n,r,jy(),i);return L3(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return R(this,null,function*(){let n=yield _j(e),r=new r_(e);return n.register("authEvent",i=>(oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Uy];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AS()||IS()||d_()}},qS=i_;var lS="@firebase/auth",dS="1.7.8";var s_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return R(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Nj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pj(t){er(new rn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(t)},l=new Ky(r,i,s,c);return _3(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),er(new rn("auth-internal",e=>{let n=Os(e.getProvider("auth").getImmediate());return(r=>new s_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(lS,dS,Nj(t)),Ge(lS,dS,"esm2017")}var Mj=5*60,kj=_y("authIdTokenMaxAge")||Mj,hS=null,Oj=t=>e=>R(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kj)return;let i=n?.token;hS!==i&&(hS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function E_(t=Ai()){let e=Ss(t,"auth");if(e.isInitialized())return e.getImmediate();let n=h_(t,{popupRedirectResolver:qS,persistence:[$S,LS,__]}),r=_y("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Oj(s.toString());y_(n,o,()=>o(n.currentUser)),v_(n,a=>o(a))}}let i=vy("auth");return i&&f_(n,`http://${i}`),n}function Fj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p3({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ps("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Fj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pj("Browser");var zS="auth",cu=class{constructor(e){return e}},Fs=class{constructor(){return Ns(zS)}};var w_=new Z("angularfire2.auth-instances");function T5(t,e){let n=ia(zS,t,e);return n&&new cu(n)}function A5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new cu(r)}}var S5={provide:Fs,deps:[[new tt,w_]]},R5={provide:cu,useFactory:T5,deps:[[new tt,w_],Pn]};function gee(t,...e){return Ge("angularfire",Mr.full,"auth"),Wn([R5,S5,{provide:w_,useFactory:A5(t),multi:!0,deps:[De,_t,Ri,kr,[new tt,Si],...e]}])}var mee=Je(g_,!0);var vee=Je(E_,!0);var yee=Je(m_,!0);var GS={apiKey:"AIzaSyAcXFRTg--jcnA941pV6sywnvFIPxcpjYk",authDomain:"webchat-140ae.firebaseapp.com",projectId:"webchat-140ae",storageBucket:"webchat-140ae.appspot.com",messagingSenderId:"171442869751",appId:"1:171442869751:web:960c4db849172005194af2",measurementId:"G-FFRYWF4T4E"},I_="fallguys",wee="webchat",N5="avatars",Iee=`https://firebasestorage.googleapis.com/v0/b/${GS.storageBucket}/o/${N5}%2F`,P5="attachments",xee=`https://firebasestorage.googleapis.com/v0/b/${GS.storageBucket}/o/${P5}%2F`,Dee="events",WS="settings",KS="config";var pf="id",Cee="lets",bee="ts",Tee="rcs",Aee="fa",See="sdr";var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YS={};var Oi,x_;(function(){var t;function e(T,_){function w(){}w.prototype=_.prototype,T.D=_.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(A,I,S){for(var C=Array(arguments.length-2),U=2;U<arguments.length;U++)C[U-2]=arguments[U];return _.prototype[I].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,w){w||(w=0);var A=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)A[I]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(I=0;16>I;++I)A[I]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=T.g[0],w=T.g[1],I=T.g[2];var S=T.g[3],C=_+(S^w&(I^S))+A[0]+3614090360&4294967295;_=w+(C<<7&4294967295|C>>>25),C=S+(I^_&(w^I))+A[1]+3905402710&4294967295,S=_+(C<<12&4294967295|C>>>20),C=I+(w^S&(_^w))+A[2]+606105819&4294967295,I=S+(C<<17&4294967295|C>>>15),C=w+(_^I&(S^_))+A[3]+3250441966&4294967295,w=I+(C<<22&4294967295|C>>>10),C=_+(S^w&(I^S))+A[4]+4118548399&4294967295,_=w+(C<<7&4294967295|C>>>25),C=S+(I^_&(w^I))+A[5]+1200080426&4294967295,S=_+(C<<12&4294967295|C>>>20),C=I+(w^S&(_^w))+A[6]+2821735955&4294967295,I=S+(C<<17&4294967295|C>>>15),C=w+(_^I&(S^_))+A[7]+4249261313&4294967295,w=I+(C<<22&4294967295|C>>>10),C=_+(S^w&(I^S))+A[8]+1770035416&4294967295,_=w+(C<<7&4294967295|C>>>25),C=S+(I^_&(w^I))+A[9]+2336552879&4294967295,S=_+(C<<12&4294967295|C>>>20),C=I+(w^S&(_^w))+A[10]+4294925233&4294967295,I=S+(C<<17&4294967295|C>>>15),C=w+(_^I&(S^_))+A[11]+2304563134&4294967295,w=I+(C<<22&4294967295|C>>>10),C=_+(S^w&(I^S))+A[12]+1804603682&4294967295,_=w+(C<<7&4294967295|C>>>25),C=S+(I^_&(w^I))+A[13]+4254626195&4294967295,S=_+(C<<12&4294967295|C>>>20),C=I+(w^S&(_^w))+A[14]+2792965006&4294967295,I=S+(C<<17&4294967295|C>>>15),C=w+(_^I&(S^_))+A[15]+1236535329&4294967295,w=I+(C<<22&4294967295|C>>>10),C=_+(I^S&(w^I))+A[1]+4129170786&4294967295,_=w+(C<<5&4294967295|C>>>27),C=S+(w^I&(_^w))+A[6]+3225465664&4294967295,S=_+(C<<9&4294967295|C>>>23),C=I+(_^w&(S^_))+A[11]+643717713&4294967295,I=S+(C<<14&4294967295|C>>>18),C=w+(S^_&(I^S))+A[0]+3921069994&4294967295,w=I+(C<<20&4294967295|C>>>12),C=_+(I^S&(w^I))+A[5]+3593408605&4294967295,_=w+(C<<5&4294967295|C>>>27),C=S+(w^I&(_^w))+A[10]+38016083&4294967295,S=_+(C<<9&4294967295|C>>>23),C=I+(_^w&(S^_))+A[15]+3634488961&4294967295,I=S+(C<<14&4294967295|C>>>18),C=w+(S^_&(I^S))+A[4]+3889429448&4294967295,w=I+(C<<20&4294967295|C>>>12),C=_+(I^S&(w^I))+A[9]+568446438&4294967295,_=w+(C<<5&4294967295|C>>>27),C=S+(w^I&(_^w))+A[14]+3275163606&4294967295,S=_+(C<<9&4294967295|C>>>23),C=I+(_^w&(S^_))+A[3]+4107603335&4294967295,I=S+(C<<14&4294967295|C>>>18),C=w+(S^_&(I^S))+A[8]+1163531501&4294967295,w=I+(C<<20&4294967295|C>>>12),C=_+(I^S&(w^I))+A[13]+2850285829&4294967295,_=w+(C<<5&4294967295|C>>>27),C=S+(w^I&(_^w))+A[2]+4243563512&4294967295,S=_+(C<<9&4294967295|C>>>23),C=I+(_^w&(S^_))+A[7]+1735328473&4294967295,I=S+(C<<14&4294967295|C>>>18),C=w+(S^_&(I^S))+A[12]+2368359562&4294967295,w=I+(C<<20&4294967295|C>>>12),C=_+(w^I^S)+A[5]+4294588738&4294967295,_=w+(C<<4&4294967295|C>>>28),C=S+(_^w^I)+A[8]+2272392833&4294967295,S=_+(C<<11&4294967295|C>>>21),C=I+(S^_^w)+A[11]+1839030562&4294967295,I=S+(C<<16&4294967295|C>>>16),C=w+(I^S^_)+A[14]+4259657740&4294967295,w=I+(C<<23&4294967295|C>>>9),C=_+(w^I^S)+A[1]+2763975236&4294967295,_=w+(C<<4&4294967295|C>>>28),C=S+(_^w^I)+A[4]+1272893353&4294967295,S=_+(C<<11&4294967295|C>>>21),C=I+(S^_^w)+A[7]+4139469664&4294967295,I=S+(C<<16&4294967295|C>>>16),C=w+(I^S^_)+A[10]+3200236656&4294967295,w=I+(C<<23&4294967295|C>>>9),C=_+(w^I^S)+A[13]+681279174&4294967295,_=w+(C<<4&4294967295|C>>>28),C=S+(_^w^I)+A[0]+3936430074&4294967295,S=_+(C<<11&4294967295|C>>>21),C=I+(S^_^w)+A[3]+3572445317&4294967295,I=S+(C<<16&4294967295|C>>>16),C=w+(I^S^_)+A[6]+76029189&4294967295,w=I+(C<<23&4294967295|C>>>9),C=_+(w^I^S)+A[9]+3654602809&4294967295,_=w+(C<<4&4294967295|C>>>28),C=S+(_^w^I)+A[12]+3873151461&4294967295,S=_+(C<<11&4294967295|C>>>21),C=I+(S^_^w)+A[15]+530742520&4294967295,I=S+(C<<16&4294967295|C>>>16),C=w+(I^S^_)+A[2]+3299628645&4294967295,w=I+(C<<23&4294967295|C>>>9),C=_+(I^(w|~S))+A[0]+4096336452&4294967295,_=w+(C<<6&4294967295|C>>>26),C=S+(w^(_|~I))+A[7]+1126891415&4294967295,S=_+(C<<10&4294967295|C>>>22),C=I+(_^(S|~w))+A[14]+2878612391&4294967295,I=S+(C<<15&4294967295|C>>>17),C=w+(S^(I|~_))+A[5]+4237533241&4294967295,w=I+(C<<21&4294967295|C>>>11),C=_+(I^(w|~S))+A[12]+1700485571&4294967295,_=w+(C<<6&4294967295|C>>>26),C=S+(w^(_|~I))+A[3]+2399980690&4294967295,S=_+(C<<10&4294967295|C>>>22),C=I+(_^(S|~w))+A[10]+4293915773&4294967295,I=S+(C<<15&4294967295|C>>>17),C=w+(S^(I|~_))+A[1]+2240044497&4294967295,w=I+(C<<21&4294967295|C>>>11),C=_+(I^(w|~S))+A[8]+1873313359&4294967295,_=w+(C<<6&4294967295|C>>>26),C=S+(w^(_|~I))+A[15]+4264355552&4294967295,S=_+(C<<10&4294967295|C>>>22),C=I+(_^(S|~w))+A[6]+2734768916&4294967295,I=S+(C<<15&4294967295|C>>>17),C=w+(S^(I|~_))+A[13]+1309151649&4294967295,w=I+(C<<21&4294967295|C>>>11),C=_+(I^(w|~S))+A[4]+4149444226&4294967295,_=w+(C<<6&4294967295|C>>>26),C=S+(w^(_|~I))+A[11]+3174756917&4294967295,S=_+(C<<10&4294967295|C>>>22),C=I+(_^(S|~w))+A[2]+718787259&4294967295,I=S+(C<<15&4294967295|C>>>17),C=w+(S^(I|~_))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var w=_-this.blockSize,A=this.B,I=this.h,S=0;S<_;){if(I==0)for(;S<=w;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(A[I++]=T.charCodeAt(S++),I==this.blockSize){i(this,A),I=0;break}}else for(;S<_;)if(A[I++]=T[S++],I==this.blockSize){i(this,A),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var w=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.u(T),T=Array(16),_=w=0;4>_;++_)for(var A=0;32>A;A+=8)T[w++]=this.g[_]>>>A&255;return T};function s(T,_){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=_(T)}function o(T,_){this.h=_;for(var w=[],A=!0,I=T.length-1;0<=I;I--){var S=T[I]|0;A&&S==_||(w[I]=S,A=!1)}this.g=w}var a={};function c(T){return-128<=T&&128>T?s(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return D(l(-T));for(var _=[],w=1,A=0;T>=w;A++)_[A]=T/w|0,w*=4294967296;return new o(_,0)}function d(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return D(d(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),A=h,I=0;I<T.length;I+=8){var S=Math.min(8,T.length-I),C=parseInt(T.substring(I,I+S),_);8>S?(S=l(Math.pow(_,S)),A=A.j(S).add(l(C))):(A=A.j(w),A=A.add(l(C)))}return A}var h=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-D(this).m();for(var T=0,_=1,w=0;w<this.g.length;w++){var A=this.i(w);T+=(0<=A?A:4294967296+A)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(b(this))return"-"+D(this).toString(T);for(var _=l(Math.pow(T,6)),w=this,A="";;){var I=P(w,_).g;w=y(w,I.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=I,v(w))return S+A;for(;6>S.length;)S="0"+S;A=S+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function b(T){return T.h==-1}t.l=function(T){return T=y(this,T),b(T)?-1:v(T)?0:1};function D(T){for(var _=T.g.length,w=[],A=0;A<_;A++)w[A]=~T.g[A];return new o(w,~T.h).add(p)}t.abs=function(){return b(this)?D(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],A=0,I=0;I<=_;I++){var S=A+(this.i(I)&65535)+(T.i(I)&65535),C=(S>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);A=C>>>16,S&=65535,C&=65535,w[I]=C<<16|S}return new o(w,w[w.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(D(_))}t.j=function(T){if(v(this)||v(T))return h;if(b(this))return b(T)?D(this).j(D(T)):D(D(this).j(T));if(b(T))return D(this.j(D(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,w=[],A=0;A<2*_;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var I=0;I<T.g.length;I++){var S=this.i(A)>>>16,C=this.i(A)&65535,U=T.i(I)>>>16,ee=T.i(I)&65535;w[2*A+2*I]+=C*ee,x(w,2*A+2*I),w[2*A+2*I+1]+=S*ee,x(w,2*A+2*I+1),w[2*A+2*I+1]+=C*U,x(w,2*A+2*I+1),w[2*A+2*I+2]+=S*U,x(w,2*A+2*I+2)}for(A=0;A<_;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=_;A<2*_;A++)w[A]=0;return new o(w,0)};function x(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function N(T,_){this.g=T,this.h=_}function P(T,_){if(v(_))throw Error("division by zero");if(v(T))return new N(h,h);if(b(T))return _=P(D(T),_),new N(D(_.g),D(_.h));if(b(_))return _=P(T,D(_)),new N(D(_.g),_.h);if(30<T.g.length){if(b(T)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var w=p,A=_;0>=A.l(T);)w=O(w),A=O(A);var I=M(w,1),S=M(A,1);for(A=M(A,2),w=M(w,2);!v(A);){var C=S.add(A);0>=C.l(T)&&(I=I.add(w),S=C),A=M(A,1),w=M(w,1)}return _=y(T,I.j(_)),new N(I,_)}for(I=h;0<=T.l(_);){for(w=Math.max(1,Math.floor(T.m()/_.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),S=l(w),C=S.j(_);b(C)||0<C.l(T);)w-=A,S=l(w),C=S.j(_);v(S)&&(S=p),I=I.add(S),T=y(T,C)}return new N(I,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],A=0;A<_;A++)w[A]=this.i(A)&T.i(A);return new o(w,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],A=0;A<_;A++)w[A]=this.i(A)|T.i(A);return new o(w,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],A=0;A<_;A++)w[A]=this.i(A)^T.i(A);return new o(w,this.h^T.h)};function O(T){for(var _=T.g.length+1,w=[],A=0;A<_;A++)w[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(w,T.h)}function M(T,_){var w=_>>5;_%=32;for(var A=T.g.length-w,I=[],S=0;S<A;S++)I[S]=0<_?T.i(S+w)>>>_|T.i(S+w+1)<<32-_:T.i(S+w);return new o(I,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x_=YS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,Oi=YS.Integer=o}).apply(typeof QS<"u"?QS:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var D_,C_,aa,b_,uu,mf,T_,A_,S_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var k=u[E];if(!(k in g))break e;g=g[k]}u=u[u.length-1],E=g[u],f=f(E),f!=E&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,E=!1,k={next:function(){if(!E&&g<u.length){var F=g++;return{value:f(F,u[F]),done:!1}}return E=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function l(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,E),u.apply(f,k)}}return function(){return u.apply(f,arguments)}}function p(u,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function v(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(E,k,F){for(var q=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)q[Fe-2]=arguments[Fe];return f.prototype[k].apply(E,q)}}function b(u){let f=u.length;if(0<f){let g=Array(f);for(let E=0;E<f;E++)g[E]=u[E];return g}return[]}function D(u,f){for(let g=1;g<arguments.length;g++){let E=arguments[g];if(c(E)){let k=u.length||0,F=E.length||0;u.length=k+F;for(let q=0;q<F;q++)u[k+q]=E[q]}else u.push(E)}}class y{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function x(u){return/^[\s\xa0]*$/.test(u)}function N(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var O=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function M(u,f,g){for(let E in u)f.call(g,u[E],E,u)}function T(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function _(u){let f={};for(let g in u)f[g]=u[g];return f}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,f){let g,E;for(let k=1;k<arguments.length;k++){E=arguments[k];for(g in E)u[g]=E[g];for(let F=0;F<w.length;F++)g=w[F],Object.prototype.hasOwnProperty.call(E,g)&&(u[g]=E[g])}}function I(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function S(u){a.setTimeout(()=>{throw u},0)}function C(){var u=L;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class U{constructor(){this.h=this.g=null}add(f,g){let E=ee.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var ee=new y(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,L=new U,j=()=>{let u=a.Promise.resolve(void 0);ce=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(g){S(g)}var f=ee;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}ge=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function at(u,f){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(O){e:{try{P(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&at.aa.h.call(this)}}v(at,me);var _e={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),zr=0;function Oa(u,f,g,E,k){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=k,this.key=++zr,this.da=this.fa=!1}function Ln(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u){this.src=u,this.g={},this.h=0}Rt.prototype.add=function(u,f,g,E,k){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var q=Gr(u,f,E,k);return-1<q?(f=u[q],g||(f.fa=!1)):(f=new Oa(f,this.src,F,!!E,k),f.fa=g,u.push(f)),f};function xt(u,f){var g=f.type;if(g in u.g){var E=u.g[g],k=Array.prototype.indexOf.call(E,f,void 0),F;(F=0<=k)&&Array.prototype.splice.call(E,k,1),F&&(Ln(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Gr(u,f,g,E){for(var k=0;k<u.length;++k){var F=u[k];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==E)return k}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),Wr={};function Kr(u,f,g,E,k){if(E&&E.once)return Jt(u,f,g,E,k);if(Array.isArray(f)){for(var F=0;F<f.length;F++)Kr(u,f[F],g,E,k);return null}return g=Fa(g),u&&u[wn]?u.K(f,g,l(E)?!!E.capture:!!E,k):Xs(u,f,g,!1,E,k)}function Xs(u,f,g,E,k,F){if(!f)throw Error("Invalid event type");var q=l(k)?!!k.capture:!!k,Fe=Bn(u);if(Fe||(u[hr]=Fe=new Rt(u)),g=Fe.add(f,g,E,q,F),g.proxy)return g;if(E=zi(),g.proxy=E,E.src=u,E.listener=g,u.addEventListener)Oe||(k=q),k===void 0&&(k=!1),u.addEventListener(f.toString(),E,k);else if(u.attachEvent)u.attachEvent(Gi(f.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function zi(){function u(g){return f.call(u.src,u.listener,g)}let f=$u;return u}function Jt(u,f,g,E,k){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Jt(u,f[F],g,E,k);return null}return g=Fa(g),u&&u[wn]?u.L(f,g,l(E)?!!E.capture:!!E,k):Xs(u,f,g,!0,E,k)}function Ut(u,f,g,E,k){if(Array.isArray(f))for(var F=0;F<f.length;F++)Ut(u,f[F],g,E,k);else E=l(E)?!!E.capture:!!E,g=Fa(g),u&&u[wn]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],g=Gr(F,g,E,k),-1<g&&(Ln(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=Bn(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Gr(f,g,E,k)),(g=-1<u?f[u]:null)&&pn(g))}function pn(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[wn])xt(f.i,u);else{var g=u.type,E=u.proxy;f.removeEventListener?f.removeEventListener(g,E,u.capture):f.detachEvent?f.detachEvent(Gi(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=Bn(f))?(xt(g,u),g.h==0&&(g.src=null,f[hr]=null)):Ln(u)}}}function Gi(u){return u in Wr?Wr[u]:Wr[u]="on"+u}function $u(u,f){if(u.da)u=!0;else{f=new at(f,this);var g=u.listener,E=u.ha||u.src;u.fa&&pn(u),u=g.call(E,f)}return u}function Bn(u){return u=u[hr],u instanceof Rt?u:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(u){return typeof u=="function"?u:(u[fr]||(u[fr]=function(f){return u.handleEvent(f)}),u[fr])}function ft(){V.call(this),this.i=new Rt(this),this.M=this,this.F=null}v(ft,V),ft.prototype[wn]=!0,ft.prototype.removeEventListener=function(u,f,g,E){Ut(this,u,f,g,E)};function mt(u,f){var g,E=u.F;if(E)for(g=[];E;E=E.F)g.push(E);if(u=u.M,E=f.type||f,typeof f=="string")f=new me(f,u);else if(f instanceof me)f.target=f.target||u;else{var k=f;f=new me(E,u),A(f,k)}if(k=!0,g)for(var F=g.length-1;0<=F;F--){var q=f.g=g[F];k=In(q,E,!0,f)&&k}if(q=f.g=u,k=In(q,E,!0,f)&&k,k=In(q,E,!1,f)&&k,g)for(F=0;F<g.length;F++)q=f.g=g[F],k=In(q,E,!1,f)&&k}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],E=0;E<g.length;E++)Ln(g[E]);delete u.g[f],u.h--}}this.F=null},ft.prototype.K=function(u,f,g,E){return this.i.add(String(u),f,!1,g,E)},ft.prototype.L=function(u,f,g,E){return this.i.add(String(u),f,!0,g,E)};function In(u,f,g,E){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var k=!0,F=0;F<f.length;++F){var q=f[F];if(q&&!q.da&&q.capture==g){var Fe=q.listener,Dt=q.ha||q.src;q.fa&&xt(u.i,q),k=Fe.call(Dt,E)!==!1&&k}}return k&&!E.defaultPrevented}function Qr(u,f,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Hu(u){u.g=Qr(()=>{u.g=null,u.i&&(u.i=!1,Hu(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class qu extends V{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){V.call(this),this.h=u,this.g={}}v(Yr,V);var zu=[];function Gu(u){M(u.g,function(f,g){this.g.hasOwnProperty(g)&&pn(f)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Gu(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=a.JSON.stringify,Xp=a.JSON.parse,Wu=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function La(){}La.prototype.h=null;function Ba(u){return u.h||(u.h=u.i())}function Ku(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Va(){me.call(this,"d")}v(Va,me);function eo(){me.call(this,"c")}v(eo,me);var pr={},Qu=null;function Ki(){return Qu=Qu||new ft}pr.La="serverreachability";function Yu(u){me.call(this,pr.La,u)}v(Yu,me);function Jr(u){let f=Ki();mt(f,new Yu(f))}pr.STAT_EVENT="statevent";function Nt(u,f){me.call(this,pr.STAT_EVENT,u),this.stat=f}v(Nt,me);function $e(u){let f=Ki();mt(f,new Nt(f,u))}pr.Ma="timingevent";function Ua(u,f){me.call(this,pr.Ma,u),this.size=f}v(Ua,me);function Qi(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function ja(){this.g=!0}ja.prototype.xa=function(){this.g=!1};function zP(u,f,g,E,k,F){u.info(function(){if(u.g)if(F)for(var q="",Fe=F.split("&"),Dt=0;Dt<Fe.length;Dt++){var Se=Fe[Dt].split("=");if(1<Se.length){var Pt=Se[0];Se=Se[1];var Mt=Pt.split("_");q=2<=Mt.length&&Mt[1]=="type"?q+(Pt+"="+Se+"&"):q+(Pt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+E+") [attempt "+k+"]: "+f+`
`+g+`
`+q})}function GP(u,f,g,E,k,F,q){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+k+"]: "+f+`
`+g+`
`+F+" "+q})}function to(u,f,g,E){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+KP(u,g)+(E?" "+E:"")})}function WP(u,f){u.info(function(){return"TIMEOUT: "+f})}ja.prototype.info=function(){};function KP(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var E=g[u];if(!(2>E.length)){var k=E[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<k.length;q++)k[q]=""}}}}return Zs(g)}catch{return f}}var Ju={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zp;function Xu(){}v(Xu,La),Xu.prototype.g=function(){return new XMLHttpRequest},Xu.prototype.i=function(){return{}},Zp=new Xu;function Xr(u,f,g,E){this.j=u,this.i=f,this.l=g,this.R=E||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zw}function Zw(){this.i=null,this.g="",this.h=!1}var eI={},eg={};function tg(u,f,g){u.L=1,u.v=nl(gr(f)),u.m=g,u.P=!0,tI(u,null)}function tI(u,f){u.F=Date.now(),Zu(u),u.A=gr(u.v);var g=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),gI(g.i,"t",E),u.C=0,g=u.j.J,u.h=new Zw,u.g=MI(u.j,g?f:null,!u.m),0<u.O&&(u.M=new qu(p(u.Y,u,u.g),u.O)),f=u.U,g=u.g,E=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(zu[0]=k.toString()),k=zu);for(var F=0;F<k.length;F++){var q=Kr(g,k[F],E||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Jr(),zP(u.i,u.u,u.A,u.l,u.R,u.m)}Xr.prototype.ca=function(u){u=u.target;let f=this.M;f&&mr(u)==3?f.j():this.Y(u)},Xr.prototype.Y=function(u){try{if(u==this.g)e:{let Mt=mr(this.g);var f=this.g.Ba();let io=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||II(this.g)))){this.J||Mt!=4||f==7||(f==8||0>=io?Jr(3):Jr(2)),ng(this);var g=this.g.Z();this.X=g;t:if(nI(this)){var E=II(this.g);u="";var k=E.length,F=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),$a(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,u+=this.h.i.decode(E[f],{stream:!(F&&f==k-1)});E.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=g==200,GP(this.i,this.u,this.A,this.l,this.R,Mt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Dt=this.g;if((Fe=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Fe)){var Se=Fe;break t}}Se=null}if(g=Se)to(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,g);else{this.o=!1,this.s=3,$e(12),Yi(this),$a(this);break e}}if(this.P){g=!0;let xn;for(;!this.J&&this.C<q.length;)if(xn=QP(this,q),xn==eg){Mt==4&&(this.s=4,$e(14),g=!1),to(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==eI){this.s=4,$e(15),to(this.i,this.l,q,"[Invalid Chunk]"),g=!1;break}else to(this.i,this.l,xn,null),rg(this,xn);if(nI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||q.length!=0||this.h.h||(this.s=1,$e(16),g=!1),this.o=this.o&&g,!g)to(this.i,this.l,q,"[Invalid Chunked Response]"),Yi(this),$a(this);else if(0<q.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),ug(Pt),Pt.M=!0,$e(11))}}else to(this.i,this.l,q,null),rg(this,q);Mt==4&&Yi(this),this.o&&!this.J&&(Mt==4?SI(this.j,this):(this.o=!1,Zu(this)))}else hM(this.g),g==400&&0<q.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Yi(this),$a(this)}}}catch{}finally{}};function nI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function QP(u,f){var g=u.C,E=f.indexOf(`
`,g);return E==-1?eg:(g=Number(f.substring(g,E)),isNaN(g)?eI:(E+=1,E+g>f.length?eg:(f=f.slice(E,E+g),u.C=E+g,f)))}Xr.prototype.cancel=function(){this.J=!0,Yi(this)};function Zu(u){u.S=Date.now()+u.I,rI(u,u.I)}function rI(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qi(p(u.ba,u),f)}function ng(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Xr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(WP(this.i,this.A),this.L!=2&&(Jr(),$e(17)),Yi(this),this.s=2,$a(this)):rI(this,this.S-u)};function $a(u){u.j.G==0||u.J||SI(u.j,u)}function Yi(u){ng(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Gu(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function rg(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||ig(g.h,u))){if(!u.K&&ig(g.h,u)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var k=E;if(k[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)al(g),sl(g);else break e;cg(g),$e(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&g.v==0&&!g.C&&(g.C=Qi(p(g.Za,g),6e3));if(1>=oI(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Xi(g,11)}else if((u.K||g.g==u)&&al(g),!x(f))for(k=g.Da.g.parse(f),f=0;f<k.length;f++){let Se=k[f];if(g.T=Se[0],Se=Se[1],g.G==2)if(Se[0]=="c"){g.K=Se[1],g.ia=Se[2];let Pt=Se[3];Pt!=null&&(g.la=Pt,g.j.info("VER="+g.la));let Mt=Se[4];Mt!=null&&(g.Aa=Mt,g.j.info("SVER="+g.Aa));let io=Se[5];io!=null&&typeof io=="number"&&0<io&&(E=1.5*io,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;let xn=u.g;if(xn){let ul=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var F=E.h;F.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(sg(F,F.h),F.h=null))}if(E.D){let lg=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;lg&&(E.ya=lg,je(E.I,E.D,lg))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var q=u;if(E.qa=PI(E,E.J?E.ia:null,E.W),q.K){aI(E.h,q);var Fe=q,Dt=E.L;Dt&&(Fe.I=Dt),Fe.B&&(ng(Fe),Zu(Fe)),E.g=q}else TI(E);0<g.i.length&&ol(g)}else Se[0]!="stop"&&Se[0]!="close"||Xi(g,7);else g.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Xi(g,7):ag(g):Se[0]!="noop"&&g.l&&g.l.ta(Se),g.v=0)}}Jr(4)}catch{}}var YP=class{constructor(u,f){this.g=u,this.map=f}};function iI(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sI(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oI(u){return u.h?1:u.g?u.g.size:0}function ig(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function sg(u,f){u.g?u.g.add(f):u.h=f}function aI(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}iI.prototype.cancel=function(){if(this.i=cI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function cI(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return b(u.i)}function JP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,E=0;E<g;E++)f.push(u[E]);return f}f=[],g=0;for(E in u)f[g++]=u[E];return f}function XP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let E in u)f[g++]=E;return f}}}function uI(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=XP(u),E=JP(u),k=E.length,F=0;F<k;F++)f.call(void 0,E[F],g&&g[F],u)}var lI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZP(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var E=u[g].indexOf("="),k=null;if(0<=E){var F=u[g].substring(0,E);k=u[g].substring(E+1)}else F=u[g];f(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ji(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ji){this.h=u.h,el(this,u.j),this.o=u.o,this.g=u.g,tl(this,u.s),this.l=u.l;var f=u.i,g=new za;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),dI(this,g),this.m=u.m}else u&&(f=String(u).match(lI))?(this.h=!1,el(this,f[1]||"",!0),this.o=Ha(f[2]||""),this.g=Ha(f[3]||"",!0),tl(this,f[4]),this.l=Ha(f[5]||"",!0),dI(this,f[6]||"",!0),this.m=Ha(f[7]||"")):(this.h=!1,this.i=new za(null,this.h))}Ji.prototype.toString=function(){var u=[],f=this.j;f&&u.push(qa(f,hI,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(qa(f,hI,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(qa(g,g.charAt(0)=="/"?nM:tM,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",qa(g,iM)),u.join("")};function gr(u){return new Ji(u)}function el(u,f,g){u.j=g?Ha(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function tl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function dI(u,f,g){f instanceof za?(u.i=f,sM(u.i,u.h)):(g||(f=qa(f,rM)),u.i=new za(f,u.h))}function je(u,f,g){u.i.set(f,g)}function nl(u){return je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ha(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,eM),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eM(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hI=/[#\/\?@]/g,tM=/[#\?:]/g,nM=/[#\?]/g,rM=/[#\?@]/g,iM=/#/g;function za(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Zr(u){u.g||(u.g=new Map,u.h=0,u.i&&ZP(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=za.prototype,t.add=function(u,f){Zr(this),this.i=null,u=no(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function fI(u,f){Zr(u),f=no(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function pI(u,f){return Zr(u),f=no(u,f),u.g.has(f)}t.forEach=function(u,f){Zr(this),this.g.forEach(function(g,E){g.forEach(function(k){u.call(f,k,E,this)},this)},this)},t.na=function(){Zr(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){let k=u[E];for(let F=0;F<k.length;F++)g.push(f[E])}return g},t.V=function(u){Zr(this);let f=[];if(typeof u=="string")pI(this,u)&&(f=f.concat(this.g.get(no(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return Zr(this),this.i=null,u=no(this,u),pI(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function gI(u,f,g){fI(u,f),0<g.length&&(u.i=null,u.g.set(no(u,f),b(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];let F=encodeURIComponent(String(E)),q=this.V(E);for(E=0;E<q.length;E++){var k=F;q[E]!==""&&(k+="="+encodeURIComponent(String(q[E]))),u.push(k)}}return this.i=u.join("&")};function no(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function sM(u,f){f&&!u.j&&(Zr(u),u.i=null,u.g.forEach(function(g,E){var k=E.toLowerCase();E!=k&&(fI(this,E),gI(this,k,g))},u)),u.j=f}function oM(u,f){let g=new ja;if(a.Image){let E=new Image;E.onload=m(ei,g,"TestLoadImage: loaded",!0,f,E),E.onerror=m(ei,g,"TestLoadImage: error",!1,f,E),E.onabort=m(ei,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=m(ei,g,"TestLoadImage: timeout",!1,f,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else f(!1)}function aM(u,f){let g=new ja,E=new AbortController,k=setTimeout(()=>{E.abort(),ei(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:E.signal}).then(F=>{clearTimeout(k),F.ok?ei(g,"TestPingServer: ok",!0,f):ei(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(k),ei(g,"TestPingServer: error",!1,f)})}function ei(u,f,g,E,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),E(g)}catch{}}function cM(){this.g=new Wu}function uM(u,f,g){let E=g||"";try{uI(u,function(k,F){let q=k;l(k)&&(q=Zs(k)),f.push(E+F+"="+encodeURIComponent(q))})}catch(k){throw f.push(E+"type="+encodeURIComponent("_badmap")),k}}function Ga(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Ga,La),Ga.prototype.g=function(){return new rl(this.l,this.j)},Ga.prototype.i=function(u){return function(){return u}}({});function rl(u,f){ft.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(rl,ft),t=rl.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Ka(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mI(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mI(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Wa(this):Ka(this),this.readyState==3&&mI(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Wa(this))},t.Qa=function(u){this.g&&(this.response=u,Wa(this))},t.ga=function(){this.g&&Wa(this)};function Wa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ka(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function Ka(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vI(u){let f="";return M(u,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function og(u,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=vI(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):je(u,f,g))}function et(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(et,ft);var lM=/^https?$/i,dM=["POST","PUT"];t=et.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zp.g(),this.v=this.o?Ba(this.o):Ba(Zp),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){yI(this,F);return}if(u=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var k in E)g.set(k,E[k]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(let F of E.keys())g.set(F,E.get(F));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),k=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dM,f,void 0))||E||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,q]of g)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wI(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){yI(this,F)}};function yI(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,_I(u),il(u)}function _I(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?EI(this):this.bb())},t.bb=function(){EI(this)};function EI(u){if(u.h&&typeof o<"u"&&(!u.v[1]||mr(u)!=4||u.Z()!=2)){if(u.u&&mr(u)==4)Qr(u.Ea,0,u);else if(mt(u,"readystatechange"),mr(u)==4){u.h=!1;try{let q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=q===0){var k=String(u.D).match(lI)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),E=!lM.test(k?k.toLowerCase():"")}g=E}if(g)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var F=2<mr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",_I(u)}}finally{il(u)}}}}function il(u,f){if(u.g){wI(u);let g=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||mt(u,"ready");try{g.onreadystatechange=E}catch{}}}function wI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Xp(f)}};function II(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hM(u){let f={};u=(u.g&&2<=mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(x(u[E]))continue;var g=I(u[E]);let k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let F=f[k]||[];f[k]=F,F.push(g)}T(f,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function xI(u){this.Aa=0,this.i=[],this.j=new ja,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new iI(u&&u.concurrentRequestLimit),this.Da=new cM,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xI.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,E){$e(0),this.W=u,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=PI(this,null,this.W),ol(this)};function ag(u){if(DI(u),u.G==3){var f=u.U++,g=gr(u.I);if(je(g,"SID",u.K),je(g,"RID",f),je(g,"TYPE","terminate"),Ya(u,g),f=new Xr(u,u.j,f),f.L=2,f.v=nl(gr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=MI(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Zu(f)}NI(u)}function sl(u){u.g&&(ug(u),u.g.cancel(),u.g=null)}function DI(u){sl(u),u.u&&(a.clearTimeout(u.u),u.u=null),al(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ol(u){if(!sI(u.h)&&!u.s){u.s=!0;var f=u.Ga;ce||j(),ge||(ce(),ge=!0),L.add(f,u),u.B=0}}function fM(u,f){return oI(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qi(p(u.Ga,u,f),RI(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let k=new Xr(this,this.j,u),F=this.o;if(this.S&&(F?(F=_(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=bI(this,k,f),g=gr(this.I),je(g,"RID",u),je(g,"CVER",22),this.D&&je(g,"X-HTTP-Session-Id",this.D),Ya(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(vI(F)))+"&"+f:this.m&&og(g,this.m,F)),sg(this.h,k),this.Ua&&je(g,"TYPE","init"),this.P?(je(g,"$req",f),je(g,"SID","null"),k.T=!0,tg(k,g,null)):tg(k,g,f),this.G=2}}else this.G==3&&(u?CI(this,u):this.i.length==0||sI(this.h)||CI(this))};function CI(u,f){var g;f?g=f.l:g=u.U++;let E=gr(u.I);je(E,"SID",u.K),je(E,"RID",g),je(E,"AID",u.T),Ya(u,E),u.m&&u.o&&og(E,u.m,u.o),g=new Xr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=bI(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sg(u.h,g),tg(g,E,f)}function Ya(u,f){u.H&&M(u.H,function(g,E){je(f,E,g)}),u.l&&uI({},function(g,E){je(f,E,g)})}function bI(u,f,g){g=Math.min(u.i.length,g);var E=u.l?p(u.l.Na,u.l,u):null;e:{var k=u.i;let F=-1;for(;;){let q=["count="+g];F==-1?0<g?(F=k[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let Fe=!0;for(let Dt=0;Dt<g;Dt++){let Se=k[Dt].g,Pt=k[Dt].map;if(Se-=F,0>Se)F=Math.max(0,k[Dt].g-100),Fe=!1;else try{uM(Pt,q,"req"+Se+"_")}catch{E&&E(Pt)}}if(Fe){E=q.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,E}function TI(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ce||j(),ge||(ce(),ge=!0),L.add(f,u),u.v=0}}function cg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qi(p(u.Fa,u),RI(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,AI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qi(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),sl(this),AI(this))};function ug(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function AI(u){u.g=new Xr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=gr(u.qa);je(f,"RID","rpc"),je(f,"SID",u.K),je(f,"AID",u.T),je(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&je(f,"TO",u.ja),je(f,"TYPE","xmlhttp"),Ya(u,f),u.m&&u.o&&og(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=nl(gr(f)),g.m=null,g.P=!0,tI(g,u)}t.Za=function(){this.C!=null&&(this.C=null,sl(this),cg(this),$e(19))};function al(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function SI(u,f){var g=null;if(u.g==f){al(u),ug(u),u.g=null;var E=2}else if(ig(u.h,f))g=f.D,aI(u.h,f),E=1;else return;if(u.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var k=u.B;E=Ki(),mt(E,new Ua(E,g)),ol(u)}else TI(u);else if(k=f.s,k==3||k==0&&0<f.X||!(E==1&&fM(u,f)||E==2&&cg(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),k){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function RI(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function Xi(u,f){if(u.j.info("Error code "+f),f==2){var g=p(u.fb,u),E=u.Xa;let k=!E;E=new Ji(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||el(E,"https"),nl(E),k?oM(E.toString(),g):aM(E.toString(),g)}else $e(2);u.G=0,u.l&&u.l.sa(f),NI(u),DI(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function NI(u){if(u.G=0,u.ka=[],u.l){let f=cI(u.h);(f.length!=0||u.i.length!=0)&&(D(u.ka,f),D(u.ka,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.ra()}}function PI(u,f,g){var E=g instanceof Ji?gr(g):new Ji(g);if(E.g!="")f&&(E.g=f+"."+E.g),tl(E,E.s);else{var k=a.location;E=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var F=new Ji(null);E&&el(F,E),f&&(F.g=f),k&&tl(F,k),g&&(F.l=g),E=F}return g=u.D,f=u.ya,g&&f&&je(E,g,f),je(E,"VER",u.la),Ya(u,E),E}function MI(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new et(new Ga({eb:g})):new et(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kI(){}t=kI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cl(){}cl.prototype.g=function(u,f){return new on(u,f)};function on(u,f){ft.call(this),this.g=new xI(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!x(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!x(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new ro(this)}v(on,ft),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ag(this.g)},on.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Zs(u),u=g);f.i.push(new YP(f.Ya++,u)),f.G==3&&ol(f)},on.prototype.N=function(){this.g.l=null,delete this.j,ag(this.g),delete this.g,on.aa.N.call(this)};function OI(u){Va.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}v(OI,Va);function FI(){eo.call(this),this.status=1}v(FI,eo);function ro(u){this.g=u}v(ro,kI),ro.prototype.ua=function(){mt(this.g,"a")},ro.prototype.ta=function(u){mt(this.g,new OI(u))},ro.prototype.sa=function(u){mt(this.g,new FI)},ro.prototype.ra=function(){mt(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,S_=Br.createWebChannelTransport=function(){return new cl},A_=Br.getStatEventTarget=function(){return Ki()},T_=Br.Event=pr,mf=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ju.NO_ERROR=0,Ju.TIMEOUT=8,Ju.HTTP_ERROR=6,uu=Br.ErrorCode=Ju,Xw.COMPLETE="complete",b_=Br.EventType=Xw,Ku.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,aa=Br.WebChannel=Ku,C_=Br.FetchXmlHttpFactory=Ga,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,D_=Br.XhrIo=et}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});var JS="@firebase/firestore";var It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");var ba="10.13.1";var js=new bi("@firebase/firestore");function lu(){return js.logLevel}function W(t,...e){if(js.logLevel<=Ce.DEBUG){let n=e.map(fw);js.debug(`Firestore (${ba}): ${t}`,...n)}}function Vr(t,...e){if(js.logLevel<=Ce.ERROR){let n=e.map(fw);js.error(`Firestore (${ba}): ${t}`,...n)}}function pa(t,...e){if(js.logLevel<=Ce.WARN){let n=e.map(fw);js.warn(`Firestore (${ba}): ${t}`,...n)}}function fw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function Ve(t,e){t||ae()}function fe(t,e){return t}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var or=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},k_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}},O_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},F_=class{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>R(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new wf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new It(e)}},L_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},B_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new L_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}},V_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},U_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new V_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function M5(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var If=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=M5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Re(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var At=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new At(0,0))}static max(){return new t(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends xf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},k5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fn=class t extends xf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return k5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new G(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var j_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};j_.UNKNOWN_ID=-1;function O5(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new $s(i,te.empty(),e)}function F5(t){return new $s(t.readTime,t.key,-1)}var $s=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(pe.min(),te.empty(),-1)}static max(){return new t(pe.max(),te.empty(),-1)}};function L5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}var B5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Su(t){return R(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==B5)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var H=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function V5(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ru(t){return t.name==="IndexedDbTransactionError"}var N1=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ep(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function U5(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var j5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$ee=[...j5,"documentOverlays"],$5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],H5=$5,q5=[...H5,"indexConfiguration","indexState","indexEntries"];var Hee=[...q5,"globals"];function XS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nt=class t{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new da(this.root,e,this.comparator,!1)}getReverseIterator(){return new da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new da(this.root,e,this.comparator,!0)}},da=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ar=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bt=class t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Df(this.data.getIterator())}getIteratorFrom(e){return new Df(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Df=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sr=class t{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Bt(fn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Cf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vt.EMPTY_BYTE_STRING=new Vt("");var z5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Ve(!!t),typeof t=="string"){let e=0,n=z5.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function pw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gw(t){let e=t.mapValue.fields.__previous_value__;return pw(e)?gw(e):e}function vu(t){let e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}var H_=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},bf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pw(t)?4:k1(t)?9007199254740991:M1(t)?10:11:ae()}function lr(t,e){if(t===e)return!0;let n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ur(i.timestampValue),a=Ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Bi(i.bytesValue).isEqual(Bi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=We(i.doubleValue),a=We(s.doubleValue);return o===a?mu(o)===mu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XS(o)!==XS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!lr(o[c],a[c])))return!1;return!0}(t,e);default:return ae()}}function yu(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function ma(t,e){if(t===e)return 0;let n=Hs(t),r=Hs(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=We(s.integerValue||s.doubleValue),c=We(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ZS(t.timestampValue,e.timestampValue);case 4:return ZS(vu(t),vu(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Bi(s),c=Bi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Re(a[l],c[l]);if(d!==0)return d}return Re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Re(We(s.latitude),We(o.latitude));return a!==0?a:Re(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,l,d;let h=s.fields||{},p=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,b=Re(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:e1(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vf.mapValue&&o===vf.mapValue)return 0;if(s===vf.mapValue)return 1;if(o===vf.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let p=Re(c[h],d[h]);if(p!==0)return p;let m=ma(a[c[h]],l[d[h]]);if(m!==0)return m}return Re(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function ZS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);let n=Ur(t),r=Ur(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function e1(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ma(n[i],r[i]);if(s)return s}return Re(n.length,r.length)}function va(t){return q_(t)}function q_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=q_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${q_(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function t1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z_(t){return!!t&&"integerValue"in t}function mw(t){return!!t&&"arrayValue"in t}function n1(t){return!!t&&"nullValue"in t}function r1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function M1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(hu(this.value))}};function O1(t){let e=[];return Ta(t.fields,(n,r)=>{let i=new fn([n]);if(_f(r)){let s=O1(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new sr(e)}var kn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,pe.min(),pe.min(),pe.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,pe.min(),pe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,pe.min(),pe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ya=class{constructor(e,n){this.position=e,this.inclusive=n}};function i1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ma(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Tf=class{},ht=class t extends Tf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W_(e,n,r):n==="array-contains"?new Y_(e,r):n==="in"?new J_(e,r):n==="not-in"?new X_(e,r):n==="array-contains-any"?new Z_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K_(e,r):new Q_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class t extends Tf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return F1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function F1(t){return t.op==="and"}function L1(t){return W5(t)&&F1(t)}function W5(t){for(let e of t.filters)if(e instanceof On)return!1;return!0}function G_(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+va(t.value);if(L1(t))return t.filters.map(e=>G_(e)).join(",");{let e=t.filters.map(n=>G_(n)).join(",");return`${t.op}(${e})`}}function B1(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&B1(o,i.filters[a]),!0):!1}(t,e):void ae()}function V1(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${va(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(V1).join(" ,")+"}"}(t):"Filter"}var W_=class extends ht{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},K_=class extends ht{constructor(e,n){super(e,"in",n),this.keys=U1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Q_=class extends ht{constructor(e,n){super(e,"not-in",n),this.keys=U1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function U1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var Y_=class extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mw(n)&&yu(n.arrayValue,this.value)}},J_=class extends ht{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}},X_=class extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!yu(this.value.arrayValue,n)}},Z_=class extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}};var eE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function o1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eE(t,e,n,r,i,s,o)}function vw(t){let e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>G_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),e.ue=n}return e.ue}function yw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function tE(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Vi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function K5(t,e,n,r,i,s,o,a){return new Vi(t,e,n,r,i,s,o,a)}function tp(t){return new Vi(t)}function a1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j1(t){return t.collectionGroup!==null}function fu(t){let e=fe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(fn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qs(s,r))}),n.has(fn.keyField().canonicalString())||e.ce.push(new qs(fn.keyField(),r))}return e.ce}function cr(t){let e=fe(t);return e.le||(e.le=Q5(e,fu(t))),e.le}function Q5(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new qs(i.field,s)});let n=t.endAt?new ya(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ya(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nE(t,e){let n=t.filters.concat([e]);return new Vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rE(t,e,n){return new Vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function np(t,e){return yw(cr(t),cr(e))&&t.limitType===e.limitType}function $1(t){return`${vw(cr(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>V1(i)).join(", ")}]`),ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>va(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>va(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function rp(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of fu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=i1(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,fu(r),i)||r.endAt&&!function(o,a,c){let l=i1(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,fu(r),i))}(t,e)}function Y5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H1(t){return(e,n)=>{let r=!1;for(let i of fu(t)){let s=J5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J5(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?ma(c,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Ui=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return P1(this.inner)}size(){return this.innerSize}};var X5=new nt(te.comparator);function jr(){return X5}var q1=new nt(te.comparator);function du(...t){let e=q1;for(let n of t)e=e.insert(n.key,n);return e}function z1(t){let e=q1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return pu()}function G1(){return pu()}function pu(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}var Z5=new nt(te.comparator),e9=new Bt(te.comparator);function be(...t){let e=e9;for(let n of t)e=e.add(n);return e}var t9=new Bt(Re);function n9(){return t9}function _w(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function W1(t){return{integerValue:""+t}}function r9(t,e){return U5(e)?W1(e):_w(t,e)}var _a=class{constructor(){this._=void 0}};function i9(t,e,n){return t instanceof Ea?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pw(s)&&(s=gw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof zs?Q1(t,e):t instanceof Gs?Y1(t,e):function(i,s){let o=K1(i,s),a=c1(o)+c1(i.Pe);return z_(o)&&z_(i.Pe)?W1(a):_w(i.serializer,a)}(t,e)}function s9(t,e,n){return t instanceof zs?Q1(t,e):t instanceof Gs?Y1(t,e):n}function K1(t,e){return t instanceof wa?function(r){return z_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ea=class extends _a{},zs=class extends _a{constructor(e){super(),this.elements=e}};function Q1(t,e){let n=J1(e);for(let r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Gs=class extends _a{constructor(e){super(),this.elements=e}};function Y1(t,e){let n=J1(e);for(let r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}var wa=class extends _a{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function c1(t){return We(t.integerValue||t.doubleValue)}function J1(t){return mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function o9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zs&&i instanceof zs||r instanceof Gs&&i instanceof Gs?ga(r.elements,i.elements,lr):r instanceof wa&&i instanceof wa?lr(r.Pe,i.Pe):r instanceof Ea&&i instanceof Ea}(t.transform,e.transform)}var iE=class{constructor(e,n){this.version=e,this.transformResults=n}},Us=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ia=class{};function X1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Af(t.key,Us.none()):new Ws(t.key,t.data,Us.none());{let n=t.data,r=Mn.empty(),i=new Bt(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $r(t.key,r,new sr(i.toArray()),Us.none())}}function a9(t,e,n){t instanceof Ws?function(i,s,o){let a=i.value.clone(),c=l1(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(i,s,o){if(!Ef(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=l1(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Z1(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof Ws?function(s,o,a,c){if(!Ef(s.precondition,o))return a;let l=s.value.clone(),d=d1(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(s,o,a,c){if(!Ef(s.precondition,o))return a;let l=d1(s.fieldTransforms,c,o),d=o.data;return d.setAll(Z1(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ef(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function c9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=K1(r.transform,i||null);s!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,s))}return n||null}function u1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ga(r,i,(s,o)=>o9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ws=class extends Ia{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$r=class extends Ia{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Z1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function l1(t,e,n){let r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,s9(o,a,n[i]))}return r}function d1(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,i9(s,o,e))}return r}var Af=class extends Ia{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sE=class extends Ia{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var oE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&a9(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=G1();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=X1(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>u1(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>u1(n,r))}},aE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return Z5}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var cE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var uE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var lt,Ae;function u9(t){switch(t){default:return ae();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function eR(t){if(t===void 0)return Vr("GRPC error has no .code"),B.UNKNOWN;switch(t){case lt.OK:return B.OK;case lt.CANCELLED:return B.CANCELLED;case lt.UNKNOWN:return B.UNKNOWN;case lt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case lt.INTERNAL:return B.INTERNAL;case lt.UNAVAILABLE:return B.UNAVAILABLE;case lt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case lt.NOT_FOUND:return B.NOT_FOUND;case lt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case lt.ABORTED:return B.ABORTED;case lt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case lt.DATA_LOSS:return B.DATA_LOSS;default:return ae()}}(Ae=lt||(lt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";var h1=null;function l9(){return new TextEncoder}var d9=new Oi([4294967295,4294967295],0);function f1(t){let e=l9().encode(t),n=new x_;return n.update(e),new Uint8Array(n.digest())}function p1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oi([n,r],0),new Oi([i,s],0)]}var lE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bs(`Invalid padding: ${n}`);if(r<0)throw new Bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Oi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Oi.fromNumber(r)));return i.compare(d9)===1&&(i=new Oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=f1(e),[r,i]=p1(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=f1(e),[r,i]=p1(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Bs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(pe.min(),i,new nt(Re),jr(),be())}},_u=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,be(),be(),be())}};var ha=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Rf=class{constructor(e,n){this.targetId=e,this.me=n}},Nf=class{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Pf=class{constructor(){this.fe=0,this.ge=m1(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),n=be(),r=be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new _u(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=m1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},dE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=g1(),this.Qe=new nt(Re)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(tE(s))if(r===0){let o=new te(s.path);this.Ue(n,o,kn.newNoDocument(o,pe.min()))}else Ve(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}h1?.et(function(d,h,p,m,v){var b,D,y,x,N,P;let O={localCacheCount:d,existenceFilterCount:h.count,databaseId:p.database,projectId:p.projectId},M=h.unchangedNames;return M&&(O.bloomFilter={applied:v===0,hashCount:(b=M?.hashCount)!==null&&b!==void 0?b:0,bitmapLength:(x=(y=(D=M?.bits)===null||D===void 0?void 0:D.bitmap)===null||y===void 0?void 0:y.length)!==null&&x!==void 0?x:0,padding:(P=(N=M?.bits)===null||N===void 0?void 0:N.padding)!==null&&P!==void 0?P:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),O}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Bi(r).toUint8Array()}catch(c){if(c instanceof Cf)return pa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new lE(o,i,s)}catch(c){return pa(c instanceof Bs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&tE(a.target)){let c=new te(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,kn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=be();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Sf(e,n,this.Qe,this.ke,r);return this.ke=jr(),this.qe=g1(),this.Qe=new nt(Re),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Pf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Pf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function g1(){return new nt(te.comparator)}function m1(){return new nt(te.comparator)}var h9={asc:"ASCENDING",desc:"DESCENDING"},f9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p9={and:"AND",or:"OR"},hE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function fE(t,e){return t.useProto3Json||ep(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g9(t,e){return Mf(t,e.toTimestamp())}function ur(t){return Ve(!!t),pe.fromTimestamp(function(n){let r=Ur(n);return new At(r.seconds,r.nanos)}(t))}function Ew(t,e){return pE(t,e).canonicalString()}function pE(t,e){let n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nR(t){let e=Xe.fromString(t);return Ve(aR(e)),e}function gE(t,e){return Ew(t.databaseId,e.path)}function R_(t,e){let n=nR(e);if(n.get(1)!==t.databaseId.projectId)throw new G(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(iR(n))}function rR(t,e){return Ew(t.databaseId,e)}function m9(t){let e=nR(t);return e.length===4?Xe.emptyPath():iR(e)}function mE(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iR(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v1(t,e,n){return{name:gE(t,e),fields:n.value.mapValue.fields}}function v9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(Ve(d===void 0||typeof d=="string"),Vt.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?B.UNKNOWN:eR(l.code);return new G(d,l.message||"")}(o);n=new Nf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=R_(t,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):pe.min(),a=new Mn({mapValue:{fields:r.document.fields}}),c=kn.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new ha(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=R_(t,r.document),s=r.readTime?ur(r.readTime):pe.min(),o=kn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=R_(t,r.document),s=r.removedTargetIds||[];n=new ha([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new uE(i,s),a=r.targetId;n=new Rf(a,o)}}return n}function y9(t,e){let n;if(e instanceof Ws)n={update:v1(t,e.key,e.value)};else if(e instanceof Af)n={delete:gE(t,e.key)};else if(e instanceof $r)n={update:v1(t,e.key,e.data),updateMask:T9(e.fieldMask)};else{if(!(e instanceof sE))return ae();n={verify:gE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:g9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function _9(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(pe.min())&&(o=ur(s)),new iE(o,i.transformResults||[])}(n,e))):[]}function E9(t,e){return{documents:[rR(t,e.path)]}}function w9(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rR(t,i);let s=function(l){if(l.length!==0)return oR(On.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(p){return{field:ua(p.field),direction:D9(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=fE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function I9(t){let e=m9(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ve(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let p=sR(h);return p instanceof On&&L1(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new qs(la(v.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,ep(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){let p=!!h.before,m=h.values||[];return new ya(m,p)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let p=!h.before,m=h.values||[];return new ya(m,p)}(n.endAt)),K5(e,i,o,s,a,"F",c,l)}function x9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=la(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=la(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=la(n.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=la(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(la(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>sR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function D9(t){return h9[t]}function C9(t){return f9[t]}function b9(t){return p9[t]}function ua(t){return{fieldPath:t.canonicalString()}}function la(t){return fn.fromServerFormat(t.fieldPath)}function oR(t){return t instanceof ht?function(n){if(n.op==="=="){if(r1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(n1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(n1(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:C9(n.op),value:n.value}}}(t):t instanceof On?function(n){let r=n.getFilters().map(i=>oR(i));return r.length===1?r[0]:{compositeFilter:{op:b9(n.op),filters:r}}}(t):ae()}function T9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Eu=class t{constructor(e,n,r,i,s=pe.min(),o=pe.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vE=class{constructor(e){this.ct=e}};function A9(t){let e=I9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rE(e,e.limit,"L"):e}var kf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),mu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ur(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Bi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?k1(e)?this.dt(n,Number.MAX_SAFE_INTEGER):M1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(We(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};kf.vt=new kf;var yE=class{constructor(){this.un=new _E}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve($s.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}},_E=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(Xe.comparator)).toArray()}};var zee=new Uint8Array(0);var ir=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);var wu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var EE=class{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var IE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gu(r.mutation,i,sr.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){let i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=du();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jr(),o=pu(),a=function(){return pu()}();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof $r)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),gu(d.mutation,l,d.mutation.getFieldMask(),At.now())):o.set(l.key,sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new wE(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=pu(),i=new nt((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||sr.empty();d=a.applyToLocalView(l,d),r.set(c,d);let h=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=G1();d.forEach(p=>{if(!s.has(p)){let m=X1(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Ls()),a=-1,c=s;return o.next(l=>H.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,be())).next(d=>({batchId:a,changes:z1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=du();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{let l=function(h,p){return new Vi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,kn.newInvalidDocument(d)))});let a=du();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&gu(d.mutation,l,sr.empty(),At.now()),rp(n,l)&&(a=a.insert(c,l))}),a})}};var xE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A9(i.bundledQuery),readTime:ur(i.readTime)}}(n)),H.resolve()}};var DE=class{constructor(){this.overlays=new nt(te.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ls();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){let i=Ls(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=Ls(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Ls(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cE(n,r));let s=this.Ir.get(n);s===void 0&&(s=be(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var CE=class{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}};var Iu=class{constructor(){this.Tr=new Bt(dt.Er),this.dr=new Bt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new Xe([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Xe([])),r=new dt(n,e),i=new dt(n,e+1),s=be();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||te.comparator(e.key,n.key)}};var bE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Bt(dt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new oE(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Re);return n.forEach(i=>{let s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new dt(new te(s),0),a=new Bt(Re);return this.br.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{let s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new dt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var TE=class{constructor(e){this.Mr=e,this.docs=function(){return new nt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr(),o=n.path,a=new te(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||L5(F5(d),r)<=0||(i.has(d.key)||rp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AE(this)}getSize(e){return H.resolve(this.size)}},AE=class extends EE{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var SE=class{constructor(e){this.persistence=e,this.Nr=new Ui(n=>vw(n),yw),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Iu,this.targetCount=0,this.kr=wu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new wu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}};var RE=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new N1(0),this.Kr=!1,this.Kr=!0,this.$r=new CE,this.referenceDelegate=e(this),this.Ur=new SE(this),this.indexManager=new yE,this.remoteDocumentCache=function(i){return new TE(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vE(n),this.Gr=new xE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bE(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let i=new NE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},NE=class extends $_{constructor(e){super(),this.currentSequenceNumber=e}},PE=class t{constructor(e){this.persistence=e,this.Jr=new Iu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{let i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ME=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=be(),i=be();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var kE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var OE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return MA()?8:V5(wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new kE;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(lu()<=Ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(lu()<=Ce.DEBUG&&W("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(lu()<=Ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):H.resolve())}Yi(e,n){if(a1(n))return H.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rE(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=be(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ts(n,a);return this.ns(n,l,o,c.readTime)?this.Yi(e,rE(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,i){return a1(n)||i.isEqual(pe.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(lu()<=Ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(n)),this.rs(e,o,n,O5(i,-1)).next(a=>a))})}ts(e,n){let r=new Bt(H1(e));return n.forEach((i,s)=>{rp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return lu()<=Ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,$s.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var FE=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Re),this._s=new Ui(s=>vw(s),yw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function S9(t,e,n,r){return new FE(t,e,n,r)}function cR(t,e){return R(this,null,function*(){let n=fe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=be();for(let l of i){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function R9(t,e){let n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let h=l.batch,p=h.keys(),m=H.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(b=>{let D=l.docVersions.get(v);Ve(D!==null),b.version.compareTo(D)<0&&(h.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),d.addEntry(b)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=be();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uR(t){let e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function N9(t,e){let n=fe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,h)=>{let p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Vt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(b,D,y){return b.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let c=jr(),l=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(P9(s,o,e.documentUpdates).next(d=>{c=d.Ps,l=d.Is})),!r.isEqual(pe.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.os=i,s))}function P9(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function M9(t,e){let n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k9(t,e){let n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Eu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function LE(t,e,n){return R(this,null,function*(){let r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ru(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function y1(t,e,n){let r=fe(t),i=pe.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let h=fe(c),p=h._s.get(d);return p!==void 0?H.resolve(h.os.get(p)):h.Ur.getTargetData(l,d)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:be())).next(a=>(O9(r,Y5(e),a),{documents:a,Ts:s})))}function O9(t,e,n){let r=t.us.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Of=class{constructor(){this.activeTargetIds=n9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BE=class{constructor(){this.so=new Of,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Of,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var VE=class{_o(e){}shutdown(){}};var Ff=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yf=null;function N_(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}var F9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var UE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Lt="WebChannelConnection",jE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=N_(),c=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,c,l,i).then(d=>(W("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw pa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=F9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=N_();return new Promise((o,a)=>{let c=new D_;c.setWithCredentials(!0),c.listenOnce(b_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case uu.NO_ERROR:let d=c.getResponseJson();W(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case uu.TIMEOUT:W(Lt,`RPC '${e}' ${s} timed out`),a(new G(B.DEADLINE_EXCEEDED,"Request time out"));break;case uu.HTTP_ERROR:let h=c.getStatus();if(W(Lt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let m=p?.error;if(m&&m.status&&m.message){let v=function(D){let y=D.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(m.status);a(new G(v,m.message))}else a(new G(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(B.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{W(Lt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);W(Lt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=N_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=S_(),a=A_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new C_({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");W(Lt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let h=o.createWebChannel(d,c),p=!1,m=!1,v=new UE({Io:D=>{m?W(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(p||(W(Lt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),W(Lt,`RPC '${e}' stream ${i} sending:`,D),h.send(D))},To:()=>h.close()}),b=(D,y,x)=>{D.listen(y,N=>{try{x(N)}catch(P){setTimeout(()=>{throw P},0)}})};return b(h,aa.EventType.OPEN,()=>{m||(W(Lt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(h,aa.EventType.CLOSE,()=>{m||(m=!0,W(Lt,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(h,aa.EventType.ERROR,D=>{m||(m=!0,pa(Lt,`RPC '${e}' stream ${i} transport errored:`,D),v.So(new G(B.UNAVAILABLE,"The operation could not be completed")))}),b(h,aa.EventType.MESSAGE,D=>{var y;if(!m){let x=D.data[0];Ve(!!x);let N=x,P=N.error||((y=N[0])===null||y===void 0?void 0:y.error);if(P){W(Lt,`RPC '${e}' stream ${i} received error:`,P);let O=P.status,M=function(w){let A=lt[w];if(A!==void 0)return eR(A)}(O),T=P.message;M===void 0&&(M=B.INTERNAL,T="Unknown error status: "+O+" with message "+P.message),m=!0,v.So(new G(M,T)),h.close()}else W(Lt,`RPC '${e}' stream ${i} received:`,x),v.bo(x)}}),b(a,T_.STAT_EVENT,D=>{D.stat===mf.PROXY?W(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===mf.NOPROXY&&W(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function P_(){return typeof document<"u"?document:null}function ip(t){return new hE(t,!0)}var Lf=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Bf=class{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return R(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return R(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return R(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new G(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>R(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},$E=class extends Bf{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=v9(this.serializer,e),r=function(s){if(!("targetChange"in s))return pe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?ur(o.readTime):pe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=mE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=tE(c)?{documents:E9(s,c)}:{query:w9(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tR(s,o.resumeToken);let l=fE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=Mf(s,o.snapshotVersion.toTimestamp());let l=fE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=x9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=mE(this.serializer),n.removeTarget=e,this.a_(n)}},HE=class extends Bf{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=_9(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=mE(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>y9(this.serializer,r))};this.a_(n)}};var qE=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,pE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,pE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},zE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var GE=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>R(this,null,function*(){Ys(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(c){return R(this,null,function*(){let l=fe(c);l.L_.add(4),yield Nu(l),l.q_.set("Unknown"),l.L_.delete(4),yield sp(l)})}(this))}))}),this.q_=new zE(r,i)}};function sp(t){return R(this,null,function*(){if(Ys(t))for(let e of t.B_)yield e(!0)})}function Nu(t){return R(this,null,function*(){for(let e of t.B_)yield e(!1)})}function lR(t,e){let n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Dw(n)?xw(n):Aa(n).r_()&&Iw(n,e))}function ww(t,e){let n=fe(t),r=Aa(n);n.N_.delete(e),r.r_()&&dR(n,e),n.N_.size===0&&(r.r_()?r.o_():Ys(n)&&n.q_.set("Unknown"))}function Iw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).A_(e)}function dR(t,e){t.Q_.xe(e),Aa(t).R_(e)}function xw(t){t.Q_=new dE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.q_.v_()}function Dw(t){return Ys(t)&&!Aa(t).n_()&&t.N_.size>0}function Ys(t){return fe(t).L_.size===0}function hR(t){t.Q_=void 0}function L9(t){return R(this,null,function*(){t.q_.set("Online")})}function B9(t){return R(this,null,function*(){t.N_.forEach((e,n)=>{Iw(t,e)})})}function V9(t,e){return R(this,null,function*(){hR(t),Dw(t)?(t.q_.M_(e),xw(t)):t.q_.set("Unknown")})}function U9(t,e,n){return R(this,null,function*(){if(t.q_.set("Online"),e instanceof Nf&&e.state===2&&e.cause)try{yield function(i,s){return R(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vf(t,r)}else if(e instanceof ha?t.Q_.Ke(e):e instanceof Rf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(pe.min()))try{let r=yield uR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.N_.get(l);d&&s.N_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),dR(s,c);let h=new Eu(d.target,c,l,d.sequenceNumber);Iw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield Vf(t,r)}})}function Vf(t,e,n){return R(this,null,function*(){if(!Ru(e))throw e;t.L_.add(1),yield Nu(t),t.q_.set("Offline"),n||(n=()=>uR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield sp(t)}))})}function fR(t,e){return e().catch(n=>Vf(t,n,e))}function op(t){return R(this,null,function*(){let e=fe(t),n=ji(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;j9(e);)try{let i=yield M9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,$9(e,i)}catch(i){yield Vf(e,i)}pR(e)&&gR(e)})}function j9(t){return Ys(t)&&t.O_.length<10}function $9(t,e){t.O_.push(e);let n=ji(t);n.r_()&&n.V_&&n.m_(e.mutations)}function pR(t){return Ys(t)&&!ji(t).n_()&&t.O_.length>0}function gR(t){ji(t).start()}function H9(t){return R(this,null,function*(){ji(t).p_()})}function q9(t){return R(this,null,function*(){let e=ji(t);for(let n of t.O_)e.m_(n.mutations)})}function z9(t,e,n){return R(this,null,function*(){let r=t.O_.shift(),i=aE.from(r,e,n);yield fR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield op(t)})}function G9(t,e){return R(this,null,function*(){e&&ji(t).V_&&(yield function(r,i){return R(this,null,function*(){if(function(o){return u9(o)&&o!==B.ABORTED}(i.code)){let s=r.O_.shift();ji(r).s_(),yield fR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield op(r)}})}(t,e)),pR(t)&&gR(t)})}function _1(t,e){return R(this,null,function*(){let n=fe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Ys(n);n.L_.add(3),yield Nu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield sp(n)})}function W9(t,e){return R(this,null,function*(){let n=fe(t);e?(n.L_.delete(2),yield sp(n)):e||(n.L_.add(2),yield Nu(n),n.q_.set("Unknown"))})}function Aa(t){return t.K_||(t.K_=function(n,r,i){let s=fe(n);return s.w_(),new $E(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:L9.bind(null,t),Ro:B9.bind(null,t),mo:V9.bind(null,t),d_:U9.bind(null,t)}),t.B_.push(e=>R(this,null,function*(){e?(t.K_.s_(),Dw(t)?xw(t):t.q_.set("Unknown")):(yield t.K_.stop(),hR(t))}))),t.K_}function ji(t){return t.U_||(t.U_=function(n,r,i){let s=fe(n);return s.w_(),new HE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H9.bind(null,t),mo:G9.bind(null,t),f_:q9.bind(null,t),g_:z9.bind(null,t)}),t.B_.push(e=>R(this,null,function*(){e?(t.U_.s_(),yield op(t)):(yield t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var WE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Cw(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),Ru(t))return new G(B.UNAVAILABLE,`${e}: ${t}`);throw t}var Uf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=du(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jf=class{constructor(){this.W_=new nt(te.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},xa=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Uf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var KE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},QE=class{constructor(){this.queries=E1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=fe(n),s=i.queries;i.queries=E1(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new G(B.ABORTED,"Firestore shutting down"))}};function E1(){return new Ui(t=>$1(t),np)}function mR(t,e){return R(this,null,function*(){let n=fe(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new KE,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Cw(o,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&bw(n)})}function vR(t,e){return R(this,null,function*(){let n=fe(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function K9(t,e){let n=fe(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&bw(n)}function Q9(t,e,n){let r=fe(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function bw(t){t.Y_.forEach(e=>{e.next()})}var YE,w1;(w1=YE||(YE={})).ea="default",w1.Cache="cache";var $f=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==YE.Cache}};var Hf=class{constructor(e){this.key=e}},qf=class{constructor(e){this.key=e}},JE=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=H1(e),this.Ra=new Uf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new jf,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let p=i.get(d),m=rp(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),D=!1;p&&m?p.data.isEqual(m.data)?v!==b&&(r.track({type:3,doc:m}),D=!0):this.ga(p,m)||(r.track({type:2,doc:m}),D=!0,(c&&this.Aa(m,c)>0||l&&this.Aa(m,l)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),D=!0):p&&!m&&(r.track({type:1,doc:p}),D=!0,(c||l)&&(a=!0)),D&&(m?(o=o.add(m),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,h)=>function(m,v){let b=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return b(m)-b(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,l=c!==this.Ea;return this.Ea=c,o.length!==0||l?{snapshot:new xa(this.query,e.Ra,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hf(r))}),n}ba(e){this.Ta=e.Ts,this.da=be();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},XE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ZE=class{constructor(e){this.key=e,this.va=!1}},ew=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ui(a=>$1(a),np),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(te.comparator),this.Na=new Map,this.La=new Iu,this.Ba={},this.ka=new Map,this.qa=wu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Y9(t,e,n=!0){return R(this,null,function*(){let r=xR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield yR(r,e,n,!0),i})}function J9(t,e){return R(this,null,function*(){let n=xR(t);yield yR(n,e,!0,!1)})}function yR(t,e,n,r){return R(this,null,function*(){let i=yield k9(t.localStore,cr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield X9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,i),a})}function X9(t,e,n,r,i){return R(this,null,function*(){t.Ka=(h,p,m)=>function(b,D,y,x){return R(this,null,function*(){let N=D.view.ma(y);N.ns&&(N=yield y1(b.localStore,D.query,!1).then(({documents:T})=>D.view.ma(T,N)));let P=x&&x.targetChanges.get(D.targetId),O=x&&x.targetMismatches.get(D.targetId)!=null,M=D.view.applyChanges(N,b.isPrimaryClient,P,O);return x1(b,D.targetId,M.wa),M.snapshot})}(t,h,p,m);let s=yield y1(t.localStore,e,!0),o=new JE(e,s.Ts),a=o.ma(s.documents),c=_u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);x1(t,n,l.wa);let d=new XE(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Z9(t,e,n){return R(this,null,function*(){let r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!np(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield LE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ww(r.remoteStore,i.targetId),tw(r,i.targetId)}).catch(Su))):(tw(r,i.targetId),yield LE(r.localStore,i.targetId,!0))})}function e$(t,e){return R(this,null,function*(){let n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ww(n.remoteStore,r.targetId))})}function t$(t,e,n){return R(this,null,function*(){let r=c$(t);try{let i=yield function(o,a){let c=fe(o),l=At.now(),d=a.reduce((m,v)=>m.add(v.key),be()),h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=jr(),b=be();return c.cs.getEntries(m,d).next(D=>{v=D,v.forEach((y,x)=>{x.isValidDocument()||(b=b.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(D=>{h=D;let y=[];for(let x of a){let N=c9(x,h.get(x.key).overlayedDocument);N!=null&&y.push(new $r(x.key,N,O1(N.value.mapValue),Us.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,y,a)}).next(D=>{p=D;let y=D.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(m,D.batchId,y)})}).then(()=>({batchId:p.batchId,changes:z1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new nt(Re)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Pu(r,i.changes),yield op(r.remoteStore)}catch(i){let s=Cw(i,"Failed to persist write");n.reject(s)}})}function _R(t,e){return R(this,null,function*(){let n=fe(t);try{let r=yield N9(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ve(o.va):i.removedDocuments.size>0&&(Ve(o.va),o.va=!1))}),yield Pu(n,r,e)}catch(r){yield Su(r)}})}function I1(t,e,n){let r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=fe(o);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let p of h.j_)p.Z_(a)&&(l=!0)}),l&&bw(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function n$(t,e,n){return R(this,null,function*(){let r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new nt(te.comparator);o=o.insert(s,kn.newNoDocument(s,pe.min()));let a=be().add(s),c=new Sf(pe.min(),new Map,new nt(Re),o,a);yield _R(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Tw(r)}else yield LE(r.localStore,e,!1).then(()=>tw(r,e,n)).catch(Su)})}function r$(t,e){return R(this,null,function*(){let n=fe(t),r=e.batch.batchId;try{let i=yield R9(n.localStore,e);wR(n,r,null),ER(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Pu(n,i)}catch(i){yield Su(i)}})}function i$(t,e,n){return R(this,null,function*(){let r=fe(t);try{let i=yield function(o,a){let c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ve(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);wR(r,e,n),ER(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Pu(r,i)}catch(i){yield Su(i)}})}function ER(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wR(t,e,n){let r=fe(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function tw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||IR(t,r)})}function IR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ww(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Tw(t))}function x1(t,e,n){for(let r of n)r instanceof Hf?(t.La.addReference(r.key,e),s$(t,r)):r instanceof qf?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||IR(t,r.key)):ae()}function s$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),Tw(t))}function Tw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new te(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new ZE(n)),t.Oa=t.Oa.insert(n,r),lR(t.remoteStore,new Eu(cr(tp(n.path)),r,"TargetPurposeLimboResolution",N1.oe))}}function Pu(t,e,n){return R(this,null,function*(){let r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let h=l?!l.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=ME.Wi(c.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,l){return R(this,null,function*(){let d=fe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(l,p=>H.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>H.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Ru(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let p=h.targetId;if(!h.fromCache){let m=d.os.get(p),v=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(p,b)}}})}(r.localStore,s))})}function o$(t,e){return R(this,null,function*(){let n=fe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield cR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new G(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pu(n,r.hs)}})}function a$(t,e){let n=fe(t),r=n.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function xR(t){let e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n$.bind(null,e),e.Ca.d_=K9.bind(null,e.eventManager),e.Ca.$a=Q9.bind(null,e.eventManager),e}function c$(t){let e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i$.bind(null,e),e}var zf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return R(this,null,function*(){this.serializer=ip(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return S9(this.persistence,new OE,e.initialUser,this.serializer)}createPersistence(e){return new RE(PE.Zr,this.serializer)}createSharedClientState(e){return new BE}terminate(){return R(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var nw=class{initialize(e,n){return R(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o$.bind(null,this.syncEngine),yield W9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new QE}()}createDatastore(e){let n=ip(e.databaseInfo.databaseId),r=function(s){return new jE(s)}(e.databaseInfo);return function(s,o,a,c){return new qE(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new GE(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return Ff.D()?new Ff:new VE}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,d){let h=new ew(i,s,o,a,c,l);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return R(this,null,function*(){var e,n;yield function(i){return R(this,null,function*(){let s=fe(i);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Nu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Gf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var rw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=If.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>R(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Cw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function M_(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>R(this,null,function*(){r.isEqual(i)||(yield cR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function D1(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield l$(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_1(e.remoteStore,i)),t._onlineComponents=e})}function u$(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function l$(t){return R(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield M_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!u$(n))throw n;pa("Error using user provided cache. Falling back to memory cache: "+n),yield M_(t,new zf)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield M_(t,new zf);return t._offlineComponents})}function DR(t){return R(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield D1(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield D1(t,new nw))),t._onlineComponents})}function d$(t){return DR(t).then(e=>e.syncEngine)}function iw(t){return R(this,null,function*(){let e=yield DR(t),n=e.eventManager;return n.onListen=Y9.bind(null,e.syncEngine),n.onUnlisten=Z9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e$.bind(null,e.syncEngine),n})}function h$(t,e,n={}){let r=new or;return t.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(s,o,a,c,l){let d=new Gf({next:p=>{o.enqueueAndForget(()=>vR(s,h));let m=p.docs.has(a);!m&&p.fromCache?l.reject(new G(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?l.reject(new G(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new $f(tp(a.path),d,{includeMetadataChanges:!0,_a:!0});return mR(s,h)}(yield iw(t),t.asyncQueue,e,n,r)})),r.promise}function CR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var C1=new Map;function bR(t,e,n){if(!n)throw new G(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f$(t,e,n,r){if(e===!0&&r===!0)throw new G(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b1(t){if(!te.isDocumentKey(t))throw new G(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(te.isDocumentKey(t))throw new G(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ap(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ap(t);throw new G(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Wf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Da=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k_;switch(r.type){case"firstParty":return new B_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=C1.get(n);r&&(W("ComponentProvider","Removing Datastore"),C1.delete(n),r.terminate())}(this),Promise.resolve()}};function TR(t,e,n,r={}){var i;let s=(t=Fi(t,Da))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=It.MOCK_USER;else{a=Hh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new It(l)}t._authCredentials=new O_(new wf(a,c))}}var Ks=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Li=class t extends Ks{constructor(e,n,r){super(e,n,tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function AR(t,e,...n){if(t=ot(t),bR("collection","path",e),t instanceof Da){let r=Xe.fromString(e,...n);return T1(r),new Li(t,null,r)}{if(!(t instanceof Yt||t instanceof Li))throw new G(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return T1(r),new Li(t.firestore,null,r)}}function SR(t,e,...n){if(t=ot(t),arguments.length===1&&(e=If.newId()),bR("doc","path",e),t instanceof Da){let r=Xe.fromString(e,...n);return b1(r),new Yt(t,null,new te(r))}{if(!(t instanceof Yt||t instanceof Li))throw new G(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return b1(r),new Yt(t.firestore,t instanceof Li?t.converter:null,new te(r))}}var sw=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Lf(this,"async_queue_retry"),this.Eu=()=>{let n=P_();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=P_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=P_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new or;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return R(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ru(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=WE.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ae()}verifyOperationInProgress(){}mu(){return R(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function A1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Qs=class extends Da{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new sw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NR(this),this._firestoreClient.terminate()}};function RR(t,e){let n=typeof t=="object"?t:Ai(),r=typeof t=="string"?t:e||"(default)",i=Ss(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=$h("firestore");s&&TR(i,...s)}return i}function Aw(t){return t._firestoreClient||NR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,d){return new H_(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var xu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Vt.fromBase64String(e))}catch(n){throw new G(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Du=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kf=class{constructor(e){this._methodName=e}};var Cu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var bu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var p$=/^__.*__$/,ow=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ws(e,this.data,n,this.fieldTransforms)}};function PR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var aw=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Qf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(PR(this.wu)&&p$.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},cw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ip(e)}Nu(e,n,r,i=!1){return new aw({wu:e,methodName:n,Ou:r,path:fn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function MR(t){let e=t._freezeSettings(),n=ip(t._databaseId);return new cw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g$(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);FR("Data must be an object, but it was:",o,r);let a=kR(r,o),c,l;if(s.merge)c=new sr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let p=v$(e,h,n);if(!o.contains(p))throw new G(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);_$(d,p)||d.push(p)}c=new sr(d),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new ow(new Mn(a),c,l)}function m$(t,e,n,r=!1){return Sw(n,t.Nu(r?4:3,e))}function Sw(t,e){if(OR(t=ot(t)))return FR("Unsupported field value:",e,t),kR(t,e);if(t instanceof Kf)return function(r,i){if(!PR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Sw(a,i.Fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=At.fromDate(r);return{timestampValue:Mf(i.serializer,s)}}if(r instanceof At){let s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(i.serializer,s)}}if(r instanceof Cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xu)return{bytesValue:tR(i.serializer,r._byteString)};if(r instanceof Yt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ew(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bu)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Mu("VectorValues must only contain numeric values.");return _w(a.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${ap(r)}`)}(t,e)}function kR(t,e){let n={};return P1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{let s=Sw(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Cu||t instanceof xu||t instanceof Yt||t instanceof Kf||t instanceof bu)}function FR(t,e,n){if(!OR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ap(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function v$(t,e,n){if((e=ot(e))instanceof Du)return e._internalPath;if(typeof e=="string")return LR(t,e);throw Qf("Field path arguments must be of type string or ",t,!1,void 0,n)}var y$=new RegExp("[~\\*/\\[\\]]");function LR(t,e,n){if(e.search(y$)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Du(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new G(B.INVALID_ARGUMENT,a+t+c)}function _$(t,e){return t.some(n=>n.isEqual(e))}var Yf=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},uw=class extends Yf{data(){return super.data()}};function cp(t,e){return typeof e=="string"?LR(t,e):e instanceof Du?e._internalPath:e._delegate._internalPath}function E$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tu=class{},Jf=class extends Tu{};function BR(t,e,...n){let r=[];e instanceof Tu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Ca).length,a=s.filter(c=>c instanceof Au).length;if(o>1||o>0&&a>0)throw new G(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Au=class t extends Jf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return HR(e._query,n),new Ks(e.firestore,e.converter,nE(e._query,n))}_parse(e){let n=MR(e.firestore);return function(s,o,a,c,l,d,h){let p;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){R1(h,d);let m=[];for(let v of h)m.push(S1(c,s,v));p={arrayValue:{values:m}}}else p=S1(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||R1(h,d),p=m$(a,o,h,d==="in"||d==="not-in");return ht.create(l,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function VR(t,e,n){let r=e,i=cp("where",t);return Au._create(i,r,n)}var Ca=class t extends Tu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)HR(o,c),o=nE(o,c)}(e._query,n),new Ks(e.firestore,e.converter,nE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function UR(...t){return t.forEach(e=>qR("or",e)),Ca._create("or",t)}function jR(...t){return t.forEach(e=>qR("and",e)),Ca._create("and",t)}var lw=class t extends Jf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new G(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(s,o)}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Vi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function $R(t,e="asc"){let n=e,r=cp("orderBy",t);return lw._create(r,n)}function S1(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new G(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&n.indexOf("/")!==-1)throw new G(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Xe.fromString(n));if(!te.isDocumentKey(r))throw new G(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t1(t,new te(r))}if(n instanceof Yt)return t1(t,n._key);throw new G(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ap(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new G(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qR(t,e){if(!(e instanceof Au||e instanceof Ca))throw new G(B.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}var dw=class{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>We(o.doubleValue));return new bu(s)}convertGeoPoint(e){return new Cu(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=gw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){let n=Ur(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);Ve(aR(r));let i=new bf(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function w$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Vs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xf=class extends Yf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new fa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},fa=class extends Xf{data(e={}){return super.data(e)}},hw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fa(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new fa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new fa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:I$(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function I$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function zR(t){t=Fi(t,Yt);let e=Fi(t.firestore,Qs);return h$(Aw(e),t._key).then(n=>WR(e,t,n))}var Zf=class extends dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}};function GR(t,e,n){t=Fi(t,Yt);let r=Fi(t.firestore,Qs),i=w$(t.converter,e,n);return x$(r,[g$(MR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Us.none())])}function Rw(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||A1(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(A1(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,d;if(t instanceof Yt)l=Fi(t.firestore,Qs),d=tp(t._key.path),c={next:h=>{e[o]&&e[o](WR(l,t,h))},error:e[o+1],complete:e[o+2]};else{let h=Fi(t,Ks);l=Fi(h.firestore,Qs),d=h._query;let p=new Zf(l);c={next:m=>{e[o]&&e[o](new hw(l,p,h,m))},error:e[o+1],complete:e[o+2]},E$(t._query)}return function(p,m,v,b){let D=new Gf(b),y=new $f(m,D,v);return p.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return mR(yield iw(p),y)})),()=>{D.za(),p.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return vR(yield iw(p),y)}))}}(Aw(l),d,a,c)}function x$(t,e){return function(r,i){let s=new or;return r.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return t$(yield d$(r),i,s)})),s.promise}(Aw(t),e)}function WR(t,e,n){let r=n.docs.get(e._key),i=new Zf(t);return new Xf(t,i,e._key,r,new Vs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ba=i})(tr),er(new rn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Qs(new F_(r.getProvider("auth-internal")),new U_(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bf(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ge(JS,"4.7.1",e),Ge(JS,"4.7.1","esm2017")})();var up=function(){return up=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},up.apply(this,arguments)};var b$={includeMetadataChanges:!1};function KR(t,e){return e===void 0&&(e=b$),new ie(function(n){var r=Rw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function QR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:up(up({},r),(n={},n[e.idField]=t.id,n))}function YR(t){return KR(t,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}function JR(t,e){return e===void 0&&(e={}),YR(t).pipe(Ee(function(n){return n.map(function(r){return QR(r,e)})}))}var Js=class{constructor(e){return e}},XR="firestore",Nw=class{constructor(){return Ns(XR)}};var Pw=new Z("angularfire2.firestore-instances");function T$(t,e){let n=ia(XR,t,e);return n&&new Js(n)}function A$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Js(r)}}var S$={provide:Nw,deps:[[new tt,Pw]]},R$={provide:Js,useFactory:T$,deps:[[new tt,Pw],Pn]};function yne(t,...e){return Ge("angularfire",Mr.full,"fst"),Wn([R$,S$,{provide:Pw,useFactory:A$(t),multi:!0,deps:[De,_t,Ri,kr,[new tt,Fs],[new tt,Si],...e]}])}var _ne=Je(JR,!0);var Ene=Je(jR,!0);var ZR=Je(AR,!0);var eN=Je(SR,!0);var tN=Je(zR,!0);var wne=Je(RR,!0);var Ine=Je(UR,!0),xne=Je($R,!0);var Dne=Je(BR,!0);var nN=Je(GR,!0);var Cne=Je(VR,!0);var ku=wM(dP());function Ow(t){return ku.AES.encrypt(t,I_).toString()}function Fw(t){let e=ku.AES.decrypt(t,I_);if(e)try{return e.toString(ku.enc.Utf8)}catch(n){return console.error(n.toString()),null}return null}var hP=(()=>{let e=class e{constructor(r){this.firestore=r,this.settingsCollection=ZR(this.firestore,WS),this.configDoc=eN(this.settingsCollection,KS)}getConfig(){return new ie(r=>{tN(this.configDoc).then(i=>{console.log("\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u0447\u0442\u0435\u043D\u0438\u044F: \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438");let s=i.data();r.next(s),r.complete()})})}updateConfig(r){return new ie(i=>{nN(this.configDoc,r,{merge:!0}).then(()=>{console.log("\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u044F \u0437\u0430\u043F\u0438\u0441\u0438: \u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043E\u0431\u044A\u0435\u043A\u0442\u043E\u043C:"),console.log(r),i.next(),i.complete()})})}};e.\u0275fac=function(i){return new(i||e)(X(Js))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bne=(()=>{let e=class e{get userId(){let r=localStorage.getItem(pf);return r?this.decryptId(r):null}set userId(r){r?localStorage.setItem(pf,Ow(String(r))):localStorage.removeItem(pf)}constructor(r){this.configService=r,this.usersMap={}}addUserId(r){return new ie(i=>{this.configService.getConfig().subscribe(s=>{let o=Ow(r),c=[...s?.users?.length?s.users:[],o],l=c.length;this.configService.updateConfig({users:c}).subscribe(()=>{this.userId=l,i.next(l),i.complete()})})})}getUserId(r){return new ie(i=>{this.configService.getConfig().subscribe(s=>{let a=(s?.users?.length?s.users:[]).findIndex(l=>Fw(l)===r),c=a!==-1?a+1:null;i.next(c),i.complete()})})}decryptId(r){let i=Fw(r);return i?Number.isNaN(+i)?null:+i:null}};e.\u0275fac=function(i){return new(i||e)(X(hP))},e.\u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EP="firebasestorage.googleapis.com",wP="storageBucket",M$=2*60*1e3,k$=10*60*1e3,O$=1e3;var Ze=class t extends Qt{constructor(e,n,r=0){super(Lw(e),`Firebase Storage: ${n} (${Lw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ke=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ke||{});function Lw(t){return"storage/"+t}function Gw(){let t="An unknown error occurred, please check the error payload for server response.";return new Ze(Ke.UNKNOWN,t)}function F$(t){return new Ze(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function L$(t){return new Ze(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B$(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Ke.UNAUTHENTICATED,t)}function V$(){return new Ze(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function U$(t){return new Ze(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function IP(){return new Ze(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xP(){return new Ze(Ke.CANCELED,"User canceled the upload/download.")}function j$(t){return new Ze(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function $$(t){return new Ze(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H$(){return new Ze(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wP+"' property when initializing the app?")}function DP(){return new Ze(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function q$(){return new Ze(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function z$(){return new Ze(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function G$(t){return new Ze(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vw(t){return new Ze(Ke.INVALID_ARGUMENT,t)}function CP(){return new Ze(Ke.APP_DELETED,"The Firebase app was deleted.")}function W$(t){return new Ze(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fu(t,e){return new Ze(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ou(t){throw new Ze(Ke.INTERNAL_ERROR,"Internal error: "+t)}var Fn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw $$(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(P){P.path_=decodeURIComponent(P.path)}let d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},b=n===EP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",y=new RegExp(`^https?://${b}/${i}/${D}`,"i"),N=[{regex:a,indices:c,postModify:s},{regex:m,indices:v,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let P=0;P<N.length;P++){let O=N[P],M=O.regex.exec(e);if(M){let T=M[O.indices.bucket],_=M[O.indices.path];_||(_=""),r=new t(T,_),O.postModify(r);break}}if(r==null)throw j$(e);return r}},Uw=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function K$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function d(...D){l||(l=!0,e.apply(null,D))}function h(D){i=setTimeout(()=>{i=null,t(m,c())},D)}function p(){s&&clearTimeout(s)}function m(D,...y){if(l){p();return}if(D){p(),d.call(null,D,...y);return}if(c()||o){p(),d.call(null,D,...y);return}r<64&&(r*=2);let N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,h(N)}let v=!1;function b(D){v||(v=!0,p(),!l&&(i!==null?(D||(a=2),clearTimeout(i),h(0)):D||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function Q$(t){t(!1)}function Y$(t){return t!==void 0}function J$(t){return typeof t=="function"}function X$(t){return typeof t=="object"&&!Array.isArray(t)}function Jp(t){return typeof t=="string"||t instanceof String}function fP(t){return Ww()&&t instanceof Blob}function Ww(){return typeof Blob<"u"}function pP(t,e,n,r){if(r<e)throw Vw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vw(`Invalid value for '${t}'. Expected ${n} or less.`)}function Vu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bP(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Pa=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Pa||{});function TP(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var jw=class{constructor(e,n,r,i,s,o,a,c,l,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Na(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Pa.NO_ERROR,c=s.getStatus();if(!a||TP(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Pa.ABORT;r(!1,new Na(!1,null,d));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Na(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Y$(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=Gw();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?CP():xP();o(c)}else{let c=IP();o(c)}};this.canceled_?n(!1,new Na(!1,null,!0)):this.backoffId_=K$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Na=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Z$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rH(t,e,n,r,i,s,o=!0){let a=bP(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return tH(l,e),Z$(l,n),eH(l,s),nH(l,r),new jw(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function iH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sH(...t){let e=iH();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ww())return new Blob(t);throw new Ze(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function aH(t){if(typeof atob>"u")throw G$("base-64");return atob(t)}var dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Lu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function cH(t,e){switch(t){case dr.RAW:return new Lu(AP(e));case dr.BASE64:case dr.BASE64URL:return new Lu(SP(t,e));case dr.DATA_URL:return new Lu(lH(e),dH(e))}throw Gw()}function AP(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function uH(t){let e;try{e=decodeURIComponent(t)}catch{throw Fu(dr.DATA_URL,"Malformed data URL.")}return AP(e)}function SP(t,e){switch(t){case dr.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Fu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Fu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aH(e)}catch(i){throw i.message.includes("polyfill")?i:Fu(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Qp=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fu(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=hH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function lH(t){let e=new Qp(t);return e.base64?SP(dr.BASE64,e.rest):uH(e.rest)}function dH(t){return new Qp(t).contentType}function hH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Yp=class t{constructor(e,n){let r=0,i="";fP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(fP(this.data_)){let r=this.data_,i=oH(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Ww()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(sH.apply(null,n))}else{let n=e.map(o=>Jp(o)?cH(dr.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function RP(t){let e;try{e=JSON.parse(t)}catch{return null}return X$(e)?e:null}function fH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pH(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function NP(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function gH(t,e){return e}var St=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||gH}},Kp=null;function mH(t){return!Jp(t)||t.length<2?t:NP(t)}function PP(){if(Kp)return Kp;let t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(s,o){return mH(o)}let n=new St("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new St("size");return i.xform=r,t.push(i),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),Kp=t,Kp}function vH(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new Fn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function yH(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return vH(r,t),r}function MP(t,e,n){let r=RP(e);return r===null?null:yH(t,r,n)}function _H(t,e,n,r){let i=RP(e);if(i===null||!Jp(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),m=Vu(p,n,r),v=bP({alt:"media",token:l});return m+v})[0]}function kP(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var qi=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function qr(t){if(!t)throw Gw()}function Kw(t,e){function n(r,i){let s=MP(t,i,e);return qr(s!==null),s}return n}function EH(t,e){function n(r,i){let s=MP(t,i,e);return qr(s!==null),_H(s,i,t.host,t._protocol)}return n}function Uu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=V$():i=B$():n.getStatus()===402?i=L$(t.bucket):n.getStatus()===403?i=U$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function OP(t){let e=Uu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=F$(t.path)),s.serverResponse=i.serverResponse,s}return n}function wH(t,e,n){let r=e.fullServerUrl(),i=Vu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new qi(i,s,Kw(t,n),o);return a.errorHandler=OP(e),a}function IH(t,e,n){let r=e.fullServerUrl(),i=Vu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new qi(i,s,EH(t,n),o);return a.errorHandler=OP(e),a}function xH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function FP(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=xH(null,e)),r}function DH(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let N="";for(let P=0;P<2;P++)N=N+Math.random().toString().slice(2);return N}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let l=FP(e,r,i),d=kP(l,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,p=`\r
--`+c+"--",m=Yp.getBlob(h,r,p);if(m===null)throw DP();let v={name:l.fullPath},b=Vu(s,t.host,t._protocol),D="POST",y=t.maxUploadRetryTime,x=new qi(b,D,Kw(t,n),y);return x.urlParams=v,x.headers=o,x.body=m.uploadData(),x.errorHandler=Uu(e),x}var Ma=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function Qw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qr(!1)}return qr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function CH(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=FP(e,r,i),a={name:o.fullPath},c=Vu(s,t.host,t._protocol),l="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=kP(o,n),p=t.maxUploadRetryTime;function m(b){Qw(b);let D;try{D=b.getResponseHeader("X-Goog-Upload-URL")}catch{qr(!1)}return qr(Jp(D)),D}let v=new qi(c,l,m,p);return v.urlParams=a,v.headers=d,v.body=h,v.errorHandler=Uu(e),v}function bH(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let d=Qw(l,["active","final"]),h=null;try{h=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qr(!1)}h||qr(!1);let p=Number(h);return qr(!isNaN(p)),new Ma(p,r.size(),d==="final")}let o="POST",a=t.maxUploadRetryTime,c=new qi(n,o,s,a);return c.headers=i,c.errorHandler=Uu(e),c}var gP=256*1024;function TH(t,e,n,r,i,s,o,a){let c=new Ma(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw q$();let l=c.total-c.current,d=l;i>0&&(d=Math.min(d,i));let h=c.current,p=h+d,m="";d===0?m="finalize":l===d?m="upload, finalize":m="upload";let v={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${c.current}`},b=r.slice(h,p);if(b===null)throw DP();function D(P,O){let M=Qw(P,["active","final"]),T=c.current+d,_=r.size(),w;return M==="final"?w=Kw(e,s)(P,O):w=null,new Ma(T,_,M==="final",w)}let y="POST",x=e.maxUploadRetryTime,N=new qi(n,y,D,x);return N.headers=v,N.body=b.uploadData(),N.progressCallback=a||null,N.errorHandler=Uu(t),N}var sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bw(t){switch(t){case"running":case"pausing":case"canceling":return sn.RUNNING;case"paused":return sn.PAUSED;case"success":return sn.SUCCESS;case"canceled":return sn.CANCELED;case"error":return sn.ERROR;default:return sn.ERROR}}var $w=class{constructor(e,n,r){if(J$(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Sa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var mP=null,Hw=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ou("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},qw=class extends Hw{initXhr(){this.xhr_.responseType="text"}};function Ra(){return mP?mP():new qw}var zw=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=PP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(TP(i.status,[]))if(s)i=IP();else{this.sleepTime=Math.max(this.sleepTime*2,O$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ke.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=CH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ra,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=bH(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ra,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=gP*this._chunkMultiplier,n=new Ma(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=TH(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(o,Ra,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){gP*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=wH(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ra,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=DH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ra,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Bw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new $w(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Bw(this._state)){case sn.SUCCESS:Sa(this._resolve.bind(null,this.snapshot))();break;case sn.CANCELED:case sn.ERROR:let n=this._reject;Sa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Bw(this._state)){case sn.RUNNING:case sn.PAUSED:e.next&&Sa(e.next.bind(e,this.snapshot))();break;case sn.SUCCESS:e.complete&&Sa(e.complete.bind(e))();break;case sn.CANCELED:case sn.ERROR:e.error&&Sa(e.error.bind(e,this._error))();break;default:e.error&&Sa(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var ka=class t{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NP(this._location.path)}get storage(){return this._service}get parent(){let e=fH(this._location.path);if(e===null)return null;let n=new Fn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W$(e)}};function AH(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new zw(t,new Yp(e),n)}function SH(t){t._throwIfRoot("getDownloadURL");let e=IH(t.storage,t._location,PP());return t.storage.makeRequestWithTokens(e,Ra).then(n=>{if(n===null)throw z$();return n})}function RH(t,e){let n=pH(t._location.path,e),r=new Fn(t._location.bucket,n);return new ka(t.storage,r)}function NH(t){return/^[A-Za-z]+:\/\//.test(t)}function PH(t,e){return new ka(t,e)}function LP(t,e){if(t instanceof Bu){let n=t;if(n._bucket==null)throw H$();let r=new ka(n,n._bucket);return e!=null?LP(r,e):r}else return e!==void 0?RH(t,e):t}function MH(t,e){if(e&&NH(e)){if(t instanceof Bu)return PH(t,e);throw Vw("To use ref(service, url), the first argument must be a Storage instance.")}else return LP(t,e)}function vP(t,e){let n=e?.[wP];return n==null?null:Fn.makeFromBucketSpec(n,t)}function kH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Hh(i,t.app.options.projectId))}var Bu=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=EP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M$,this._maxUploadRetryTime=k$,this._requests=new Set,i!=null?this._bucket=Fn.makeFromBucketSpec(i,this._host):this._bucket=vP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=vP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return R(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return R(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Uw(CP());{let o=rH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return R(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},yP="@firebase/storage",_P="0.13.1";var BP="storage";function VP(t,e,n){return t=ot(t),AH(t,e,n)}function UP(t){return t=ot(t),SH(t)}function jP(t,e){return t=ot(t),MH(t,e)}function $P(t=Ai(),e){t=ot(t);let r=Ss(t,BP).getImmediate({identifier:e}),i=$h("storage");return i&&HP(r,...i),r}function HP(t,e,n,r={}){kH(t,e,n,r)}function OH(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Bu(n,r,i,e,tr)}function FH(){er(new rn(BP,OH,"PUBLIC").setMultipleInstances(!0)),Ge(yP,_P,""),Ge(yP,_P,"esm2017")}FH();var ju=class{constructor(e){return e}},qP="storage",Yw=class{constructor(){return Ns(qP)}};var Jw=new Z("angularfire2.storage-instances");function LH(t,e){let n=ia(qP,t,e);return n&&new ju(n)}function BH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ju(r)}}var VH={provide:Yw,deps:[[new tt,Jw]]},UH={provide:ju,useFactory:LH,deps:[[new tt,Jw],Pn]};function lre(t,...e){return Ge("angularfire",Mr.full,"gcs"),Wn([UH,VH,{provide:Jw,useFactory:BH(t),multi:!0,deps:[De,_t,Ri,kr,[new tt,Fs],[new tt,Si],...e]}])}var dre=Je(UP,!0);var hre=Je($P,!0);var fre=Je(jP,!0);var pre=Je(VP,!0);export{K as a,Qe as b,jH as c,Ie as d,wM as e,R as f,rt as g,ie as h,$t as i,Ct as j,LM as k,bt as l,He as m,ue as n,Ee as o,ec as p,ai as q,Ll as r,ZM as s,Pg as t,ok as u,ak as v,Ht as w,uk as x,lk as y,dk as z,an as A,Nx as B,Px as C,pk as D,Ul as E,cn as F,jl as G,gk as H,pt as I,Q as J,xD as K,Y as L,ys as M,Z as N,X as O,z as P,yr as Q,BD as R,_s as S,Es as T,Ad as U,Wn as V,Md as W,GY as X,WY as Y,KY as Z,QY as _,T0 as $,_t as aa,Dr as ba,kt as ca,fm as da,Qn as ea,YY as fa,R0 as ga,Yn as ha,JY as ia,XY as ja,ZY as ka,ct as la,ms as ma,hd as na,Jd as oa,gc as pa,Dc as qa,De as ra,Ei as sa,rJ as ta,zL as ua,Pb as va,jm as wa,Ob as xa,p4 as ya,Vb as za,g4 as Aa,iJ as Ba,sJ as Ca,oJ as Da,aJ as Ea,cJ as Fa,uJ as Ga,Wb as Ha,Kb as Ia,Q0 as Ja,R4 as Ka,N4 as La,lJ as Ma,M4 as Na,k4 as Oa,Qb as Pa,dJ as Qa,hJ as Ra,fJ as Sa,$4 as Ta,pJ as Ua,H4 as Va,q4 as Wa,gJ as Xa,mJ as Ya,W4 as Za,Jb as _a,K4 as $a,vJ as ab,Q4 as bb,yJ as cb,Zb as db,_J as eb,EJ as fb,wJ as gb,IJ as hb,xJ as ib,DJ as jb,Uo as kb,jo as lb,$o as mb,lT as nb,Is as ob,Kt as pb,qo as qb,qJ as rb,zJ as sb,GJ as tb,WJ as ub,KJ as vb,QJ as wb,YJ as xb,AT as yb,rV as zb,RT as Ab,dX as Bb,hX as Cb,CV as Db,Xo as Eb,t8 as Fb,bs as Gb,NX as Hb,A6 as Ib,wZ as Jb,IZ as Kb,cu as Lb,gee as Mb,mee as Nb,vee as Ob,yee as Pb,GS as Qb,wee as Rb,N5 as Sb,Iee as Tb,P5 as Ub,xee as Vb,Dee as Wb,Cee as Xb,bee as Yb,Tee as Zb,Aee as _b,See as $b,Ow as ac,Fw as bc,Js as cc,yne as dc,_ne as ec,Ene as fc,ZR as gc,eN as hc,wne as ic,Ine as jc,xne as kc,Dne as lc,nN as mc,Cne as nc,hP as oc,Bne as pc,ju as qc,lre as rc,dre as sc,hre as tc,fre as uc,pre as vc};
