import{a as E}from"./chunk-QZEEOMFT.js";import{h as k,j as I,k as r,l as j,m as x,n as D,o as l,q as A,r as G,s as M,u as R}from"./chunk-TYDQPGPQ.js";import{Gb as _,Ha as m,Hb as g,Ia as p,Ib as L,Ja as N,M as s,Pa as d,R as C,S as c,Ya as h,Za as y,fb as F,gb as b,ka as u,la as f,xb as S,ya as a,yb as w}from"./chunk-BQNWQ6CD.js";var T=(()=>{let e=class e{constructor(n,t,i){this.fileService=n,this.authService=t,this.router=i,this.form=new D({email:new l("@mail.ru",{nonNullable:!0,validators:[r.required,r.email]}),password:new l("123456",{nonNullable:!0,validators:[r.required,r.minLength(8),r.maxLength(12)]}),name:new l("name1",{nonNullable:!0,validators:[r.required,r.minLength(2),r.maxLength(12)]}),nick:new l("usernick1",{nonNullable:!0,validators:[r.required,r.minLength(6),r.maxLength(12)]}),bio:new l("bio1",{nonNullable:!0}),avatar:new l(null)})}handleFileInput(n){let t=this.fileService.fileListToFiles(n.target.files),i=this.fileService.getValidFiles(t,this.fileService.regCategories);i.length&&this.form.controls.avatar.setValue(i[0])}reg(){let n=this.form.getRawValue();this.authService.registration(n)}toLogin(){this.router.navigate([L.LOGIN])}};e.\u0275fac=function(t){return new(t||e)(f(k),f(E),f(_))},e.\u0275cmp=C({type:e,selectors:[["app-reg-page"]],decls:21,vars:12,consts:[[3,"formGroup"],[1,"form__controls"],["type","email","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0447\u0442\u0443",3,"formControlName"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",3,"formControlName"],["type","text","placeholder","\u0418\u043C\u044F",3,"formControlName"],["type","text","placeholder","\u041D\u0438\u043A\u043D\u0435\u0439\u043C",3,"formControlName"],["type","text","placeholder","\u041A\u0440\u0430\u0442\u043A\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",3,"formControlName"],["type","file",3,"change","multiple","accept"],[1,"form__footer"],[1,"form__btn","font-basic",3,"click","disabled"],[3,"click"]],template:function(t,i){t&1&&(m(0,"form",0)(1,"div",1),N(2,"input",2)(3,"br")(4,"input",3)(5,"br")(6,"input",4)(7,"br")(8,"input",5)(9,"br")(10,"input",6)(11,"br"),m(12,"input",7),d("change",function(P){return i.handleFileInput(P)}),p()(),m(13,"div",8)(14,"button",9),d("click",function(){return i.reg()}),h(15,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),p()(),m(16,"pre"),h(17),F(18,"json"),p()(),m(19,"p",10),d("click",function(){return i.toLogin()}),h(20,"\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F"),p()),t&2&&(a("formGroup",i.form),u(2),a("formControlName","email"),u(2),a("formControlName","password"),u(2),a("formControlName","name"),u(2),a("formControlName","nick"),u(2),a("formControlName","bio"),u(2),a("multiple",!1)("accept",i.fileService.regAccept),u(2),a("disabled",i.form.invalid),u(3),y(b(18,10,i.form.value)))},dependencies:[A,I,j,x,G,M,S]});let o=e;return o})();var B=[{path:"",component:T}],q=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[g.forChild(B),g]});let o=e;return o})();var oe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[w,q,R]});let o=e;return o})();export{oe as RegPageModule};
